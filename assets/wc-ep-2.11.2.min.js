var WCShim=(()=>{var b7=Object.create;var xl=Object.defineProperty;var _7=Object.getOwnPropertyDescriptor;var E7=Object.getOwnPropertyNames;var x7=Object.getPrototypeOf,I7=Object.prototype.hasOwnProperty;var sy=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var te=(r,e)=>()=>(r&&(e=r(r=0)),e);var Q=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Dt=(r,e)=>{for(var t in e)xl(r,t,{get:e[t],enumerable:!0})},El=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of E7(e))!I7.call(r,i)&&i!==t&&xl(r,i,{get:()=>e[i],enumerable:!(n=_7(e,i))||n.enumerable});return r},br=(r,e,t)=>(El(r,e,"default"),t&&El(t,e,"default")),je=(r,e,t)=>(t=r!=null?b7(x7(r)):{},El(e||!r||!r.__esModule?xl(t,"default",{value:r,enumerable:!0}):t,r)),Qr=r=>El(xl({},"__esModule",{value:!0}),r);var Wr=Q((fW,dd)=>{"use strict";var no=typeof Reflect=="object"?Reflect:null,oy=no&&typeof no.apply=="function"?no.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},Il;no&&typeof no.ownKeys=="function"?Il=no.ownKeys:Object.getOwnPropertySymbols?Il=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Il=function(e){return Object.getOwnPropertyNames(e)};function C7(r){console&&console.warn&&console.warn(r)}var cy=Number.isNaN||function(e){return e!==e};function Ve(){Ve.init.call(this)}dd.exports=Ve;dd.exports.once=O7;Ve.EventEmitter=Ve;Ve.prototype._events=void 0;Ve.prototype._eventsCount=0;Ve.prototype._maxListeners=void 0;var ay=10;function Cl(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(Ve,"defaultMaxListeners",{enumerable:!0,get:function(){return ay},set:function(r){if(typeof r!="number"||r<0||cy(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");ay=r}});Ve.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ve.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||cy(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ly(r){return r._maxListeners===void 0?Ve.defaultMaxListeners:r._maxListeners}Ve.prototype.getMaxListeners=function(){return ly(this)};Ve.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=e==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var c;if(t.length>0&&(c=t[0]),c instanceof Error)throw c;var u=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw u.context=c,u}var h=a[e];if(h===void 0)return!1;if(typeof h=="function")oy(h,this,t);else for(var f=h.length,p=py(h,f),n=0;n<f;++n)oy(p[n],this,t);return!0};function uy(r,e,t,n){var i,a,c;if(Cl(t),a=r._events,a===void 0?(a=r._events=Object.create(null),r._eventsCount=0):(a.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),a=r._events),c=a[e]),c===void 0)c=a[e]=t,++r._eventsCount;else if(typeof c=="function"?c=a[e]=n?[t,c]:[c,t]:n?c.unshift(t):c.push(t),i=ly(r),i>0&&c.length>i&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=r,u.type=e,u.count=c.length,C7(u)}return r}Ve.prototype.addListener=function(e,t){return uy(this,e,t,!1)};Ve.prototype.on=Ve.prototype.addListener;Ve.prototype.prependListener=function(e,t){return uy(this,e,t,!0)};function S7(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function hy(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},i=S7.bind(n);return i.listener=t,n.wrapFn=i,i}Ve.prototype.once=function(e,t){return Cl(t),this.on(e,hy(this,e,t)),this};Ve.prototype.prependOnceListener=function(e,t){return Cl(t),this.prependListener(e,hy(this,e,t)),this};Ve.prototype.removeListener=function(e,t){var n,i,a,c,u;if(Cl(t),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(a=-1,c=n.length-1;c>=0;c--)if(n[c]===t||n[c].listener===t){u=n[c].listener,a=c;break}if(a<0)return this;a===0?n.shift():D7(n,a),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,u||t)}return this};Ve.prototype.off=Ve.prototype.removeListener;Ve.prototype.removeAllListeners=function(e){var t,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),c;for(i=0;i<a.length;++i)c=a[i],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function fy(r,e,t){var n=r._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?A7(i):py(i,i.length)}Ve.prototype.listeners=function(e){return fy(this,e,!0)};Ve.prototype.rawListeners=function(e){return fy(this,e,!1)};Ve.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):dy.call(r,e)};Ve.prototype.listenerCount=dy;function dy(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Ve.prototype.eventNames=function(){return this._eventsCount>0?Il(this._events):[]};function py(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}function D7(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function A7(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function O7(r,e){return new Promise(function(t,n){function i(c){r.removeListener(e,a),n(c)}function a(){typeof r.removeListener=="function"&&r.removeListener("error",i),t([].slice.call(arguments))}gy(r,e,a,{once:!0}),e!=="error"&&P7(r,i,{once:!0})})}function P7(r,e,t){typeof r.on=="function"&&gy(r,"error",e,t)}function gy(r,e,t,n){if(typeof r.on=="function")n.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function i(a){n.once&&r.removeEventListener(e,i),t(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}});var my=Q(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});function R7(r,e){var t=r>>>16&65535,n=r&65535,i=e>>>16&65535,a=e&65535;return n*a+(t*a+n*i<<16>>>0)|0}_r.mul=Math.imul||R7;function T7(r,e){return r+e|0}_r.add=T7;function N7(r,e){return r-e|0}_r.sub=N7;function L7(r,e){return r<<e|r>>>32-e}_r.rotl=L7;function F7(r,e){return r<<32-e|r>>>e}_r.rotr=F7;function $7(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r}_r.isInteger=Number.isInteger||$7;_r.MAX_SAFE_INTEGER=9007199254740991;_r.isSafeInteger=function(r){return _r.isInteger(r)&&r>=-_r.MAX_SAFE_INTEGER&&r<=_r.MAX_SAFE_INTEGER}});var ha=Q(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});var vy=my();function U7(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}De.readInt16BE=U7;function M7(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}De.readUint16BE=M7;function B7(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}De.readInt16LE=B7;function j7(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}De.readUint16LE=j7;function wy(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}De.writeUint16BE=wy;De.writeInt16BE=wy;function yy(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}De.writeUint16LE=yy;De.writeInt16LE=yy;function pd(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}De.readInt32BE=pd;function gd(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}De.readUint32BE=gd;function md(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}De.readInt32LE=md;function vd(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}De.readUint32LE=vd;function Sl(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}De.writeUint32BE=Sl;De.writeInt32BE=Sl;function Dl(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}De.writeUint32LE=Dl;De.writeInt32LE=Dl;function q7(r,e){e===void 0&&(e=0);var t=pd(r,e),n=pd(r,e+4);return t*4294967296+n-(n>>31)*4294967296}De.readInt64BE=q7;function z7(r,e){e===void 0&&(e=0);var t=gd(r,e),n=gd(r,e+4);return t*4294967296+n}De.readUint64BE=z7;function k7(r,e){e===void 0&&(e=0);var t=md(r,e),n=md(r,e+4);return n*4294967296+t-(t>>31)*4294967296}De.readInt64LE=k7;function H7(r,e){e===void 0&&(e=0);var t=vd(r,e),n=vd(r,e+4);return n*4294967296+t}De.readUint64LE=H7;function by(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Sl(r/4294967296>>>0,e,t),Sl(r>>>0,e,t+4),e}De.writeUint64BE=by;De.writeInt64BE=by;function _y(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Dl(r>>>0,e,t),Dl(r/4294967296>>>0,e,t+4),e}De.writeUint64LE=_y;De.writeInt64LE=_y;function W7(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,a=r/8+t-1;a>=t;a--)n+=e[a]*i,i*=256;return n}De.readUintBE=W7;function V7(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,a=t;a<t+r/8;a++)n+=e[a]*i,i*=256;return n}De.readUintLE=V7;function K7(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!vy.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,a=r/8+n-1;a>=n;a--)t[a]=e/i&255,i*=256;return t}De.writeUintBE=K7;function G7(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!vy.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,a=n;a<n+r/8;a++)t[a]=e/i&255,i*=256;return t}De.writeUintLE=G7;function Y7(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}De.readFloat32BE=Y7;function J7(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}De.readFloat32LE=J7;function Z7(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}De.readFloat64BE=Z7;function Q7(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}De.readFloat64LE=Q7;function X7(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r),e}De.writeFloat32BE=X7;function eP(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r,!0),e}De.writeFloat32LE=eP;function tP(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r),e}De.writeFloat64BE=tP;function rP(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r,!0),e}De.writeFloat64LE=rP});var Xr=Q(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});function nP(r){for(var e=0;e<r.length;e++)r[e]=0;return r}wd.wipe=nP});var xy=Q(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});var jt=ha(),yd=Xr(),iP=20;function sP(r,e,t){for(var n=1634760805,i=857760878,a=2036477234,c=1797285236,u=t[3]<<24|t[2]<<16|t[1]<<8|t[0],h=t[7]<<24|t[6]<<16|t[5]<<8|t[4],f=t[11]<<24|t[10]<<16|t[9]<<8|t[8],p=t[15]<<24|t[14]<<16|t[13]<<8|t[12],m=t[19]<<24|t[18]<<16|t[17]<<8|t[16],w=t[23]<<24|t[22]<<16|t[21]<<8|t[20],_=t[27]<<24|t[26]<<16|t[25]<<8|t[24],b=t[31]<<24|t[30]<<16|t[29]<<8|t[28],I=e[3]<<24|e[2]<<16|e[1]<<8|e[0],P=e[7]<<24|e[6]<<16|e[5]<<8|e[4],A=e[11]<<24|e[10]<<16|e[9]<<8|e[8],U=e[15]<<24|e[14]<<16|e[13]<<8|e[12],S=n,T=i,L=a,W=c,B=u,q=h,M=f,Y=p,x=m,N=w,G=_,ie=b,H=I,R=P,$=A,K=U,ce=0;ce<iP;ce+=2)S=S+B|0,H^=S,H=H>>>16|H<<16,x=x+H|0,B^=x,B=B>>>20|B<<12,T=T+q|0,R^=T,R=R>>>16|R<<16,N=N+R|0,q^=N,q=q>>>20|q<<12,L=L+M|0,$^=L,$=$>>>16|$<<16,G=G+$|0,M^=G,M=M>>>20|M<<12,W=W+Y|0,K^=W,K=K>>>16|K<<16,ie=ie+K|0,Y^=ie,Y=Y>>>20|Y<<12,L=L+M|0,$^=L,$=$>>>24|$<<8,G=G+$|0,M^=G,M=M>>>25|M<<7,W=W+Y|0,K^=W,K=K>>>24|K<<8,ie=ie+K|0,Y^=ie,Y=Y>>>25|Y<<7,T=T+q|0,R^=T,R=R>>>24|R<<8,N=N+R|0,q^=N,q=q>>>25|q<<7,S=S+B|0,H^=S,H=H>>>24|H<<8,x=x+H|0,B^=x,B=B>>>25|B<<7,S=S+q|0,K^=S,K=K>>>16|K<<16,G=G+K|0,q^=G,q=q>>>20|q<<12,T=T+M|0,H^=T,H=H>>>16|H<<16,ie=ie+H|0,M^=ie,M=M>>>20|M<<12,L=L+Y|0,R^=L,R=R>>>16|R<<16,x=x+R|0,Y^=x,Y=Y>>>20|Y<<12,W=W+B|0,$^=W,$=$>>>16|$<<16,N=N+$|0,B^=N,B=B>>>20|B<<12,L=L+Y|0,R^=L,R=R>>>24|R<<8,x=x+R|0,Y^=x,Y=Y>>>25|Y<<7,W=W+B|0,$^=W,$=$>>>24|$<<8,N=N+$|0,B^=N,B=B>>>25|B<<7,T=T+M|0,H^=T,H=H>>>24|H<<8,ie=ie+H|0,M^=ie,M=M>>>25|M<<7,S=S+q|0,K^=S,K=K>>>24|K<<8,G=G+K|0,q^=G,q=q>>>25|q<<7;jt.writeUint32LE(S+n|0,r,0),jt.writeUint32LE(T+i|0,r,4),jt.writeUint32LE(L+a|0,r,8),jt.writeUint32LE(W+c|0,r,12),jt.writeUint32LE(B+u|0,r,16),jt.writeUint32LE(q+h|0,r,20),jt.writeUint32LE(M+f|0,r,24),jt.writeUint32LE(Y+p|0,r,28),jt.writeUint32LE(x+m|0,r,32),jt.writeUint32LE(N+w|0,r,36),jt.writeUint32LE(G+_|0,r,40),jt.writeUint32LE(ie+b|0,r,44),jt.writeUint32LE(H+I|0,r,48),jt.writeUint32LE(R+P|0,r,52),jt.writeUint32LE($+A|0,r,56),jt.writeUint32LE(K+U|0,r,60)}function Ey(r,e,t,n,i){if(i===void 0&&(i=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<t.length)throw new Error("ChaCha: destination is shorter than source");var a,c;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");a=new Uint8Array(16),c=a.length-e.length,a.set(e,c)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");a=e,c=i}for(var u=new Uint8Array(64),h=0;h<t.length;h+=64){sP(u,a,r);for(var f=h;f<h+64&&f<t.length;f++)n[f]=t[f]^u[f-h];aP(a,0,c)}return yd.wipe(u),i===0&&yd.wipe(a),n}Al.streamXOR=Ey;function oP(r,e,t,n){return n===void 0&&(n=0),yd.wipe(t),Ey(r,e,t,t,n)}Al.stream=oP;function aP(r,e,t){for(var n=1;t--;)n=n+(r[e]&255)|0,r[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}});var Ol=Q(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});function cP(r,e,t){return~(r-1)&e|r-1&t}io.select=cP;function lP(r,e){return(r|0)-(e|0)-1>>>31&1}io.lessOrEqual=lP;function Iy(r,e){if(r.length!==e.length)return 0;for(var t=0,n=0;n<r.length;n++)t|=r[n]^e[n];return 1&t-1>>>8}io.compare=Iy;function uP(r,e){return r.length===0||e.length===0?!1:Iy(r,e)!==0}io.equal=uP});var Sy=Q(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});var hP=Ol(),Pl=Xr();On.DIGEST_LENGTH=16;var Cy=function(){function r(e){this.digestLength=On.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t=e[0]|e[1]<<8;this._r[0]=t&8191;var n=e[2]|e[3]<<8;this._r[1]=(t>>>13|n<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(n>>>10|i<<6)&7939;var a=e[6]|e[7]<<8;this._r[3]=(i>>>7|a<<9)&8191;var c=e[8]|e[9]<<8;this._r[4]=(a>>>4|c<<12)&255,this._r[5]=c>>>1&8190;var u=e[10]|e[11]<<8;this._r[6]=(c>>>14|u<<2)&8191;var h=e[12]|e[13]<<8;this._r[7]=(u>>>11|h<<5)&8065;var f=e[14]|e[15]<<8;this._r[8]=(h>>>8|f<<8)&8191,this._r[9]=f>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return r.prototype._blocks=function(e,t,n){for(var i=this._fin?0:2048,a=this._h[0],c=this._h[1],u=this._h[2],h=this._h[3],f=this._h[4],p=this._h[5],m=this._h[6],w=this._h[7],_=this._h[8],b=this._h[9],I=this._r[0],P=this._r[1],A=this._r[2],U=this._r[3],S=this._r[4],T=this._r[5],L=this._r[6],W=this._r[7],B=this._r[8],q=this._r[9];n>=16;){var M=e[t+0]|e[t+1]<<8;a+=M&8191;var Y=e[t+2]|e[t+3]<<8;c+=(M>>>13|Y<<3)&8191;var x=e[t+4]|e[t+5]<<8;u+=(Y>>>10|x<<6)&8191;var N=e[t+6]|e[t+7]<<8;h+=(x>>>7|N<<9)&8191;var G=e[t+8]|e[t+9]<<8;f+=(N>>>4|G<<12)&8191,p+=G>>>1&8191;var ie=e[t+10]|e[t+11]<<8;m+=(G>>>14|ie<<2)&8191;var H=e[t+12]|e[t+13]<<8;w+=(ie>>>11|H<<5)&8191;var R=e[t+14]|e[t+15]<<8;_+=(H>>>8|R<<8)&8191,b+=R>>>5|i;var $=0,K=$;K+=a*I,K+=c*(5*q),K+=u*(5*B),K+=h*(5*W),K+=f*(5*L),$=K>>>13,K&=8191,K+=p*(5*T),K+=m*(5*S),K+=w*(5*U),K+=_*(5*A),K+=b*(5*P),$+=K>>>13,K&=8191;var ce=$;ce+=a*P,ce+=c*I,ce+=u*(5*q),ce+=h*(5*B),ce+=f*(5*W),$=ce>>>13,ce&=8191,ce+=p*(5*L),ce+=m*(5*T),ce+=w*(5*S),ce+=_*(5*U),ce+=b*(5*A),$+=ce>>>13,ce&=8191;var J=$;J+=a*A,J+=c*P,J+=u*I,J+=h*(5*q),J+=f*(5*B),$=J>>>13,J&=8191,J+=p*(5*W),J+=m*(5*L),J+=w*(5*T),J+=_*(5*S),J+=b*(5*U),$+=J>>>13,J&=8191;var X=$;X+=a*U,X+=c*A,X+=u*P,X+=h*I,X+=f*(5*q),$=X>>>13,X&=8191,X+=p*(5*B),X+=m*(5*W),X+=w*(5*L),X+=_*(5*T),X+=b*(5*S),$+=X>>>13,X&=8191;var ue=$;ue+=a*S,ue+=c*U,ue+=u*A,ue+=h*P,ue+=f*I,$=ue>>>13,ue&=8191,ue+=p*(5*q),ue+=m*(5*B),ue+=w*(5*W),ue+=_*(5*L),ue+=b*(5*T),$+=ue>>>13,ue&=8191;var ae=$;ae+=a*T,ae+=c*S,ae+=u*U,ae+=h*A,ae+=f*P,$=ae>>>13,ae&=8191,ae+=p*I,ae+=m*(5*q),ae+=w*(5*B),ae+=_*(5*W),ae+=b*(5*L),$+=ae>>>13,ae&=8191;var he=$;he+=a*L,he+=c*T,he+=u*S,he+=h*U,he+=f*A,$=he>>>13,he&=8191,he+=p*P,he+=m*I,he+=w*(5*q),he+=_*(5*B),he+=b*(5*W),$+=he>>>13,he&=8191;var fe=$;fe+=a*W,fe+=c*L,fe+=u*T,fe+=h*S,fe+=f*U,$=fe>>>13,fe&=8191,fe+=p*A,fe+=m*P,fe+=w*I,fe+=_*(5*q),fe+=b*(5*B),$+=fe>>>13,fe&=8191;var de=$;de+=a*B,de+=c*W,de+=u*L,de+=h*T,de+=f*S,$=de>>>13,de&=8191,de+=p*U,de+=m*A,de+=w*P,de+=_*I,de+=b*(5*q),$+=de>>>13,de&=8191;var ve=$;ve+=a*q,ve+=c*B,ve+=u*W,ve+=h*L,ve+=f*T,$=ve>>>13,ve&=8191,ve+=p*S,ve+=m*U,ve+=w*A,ve+=_*P,ve+=b*I,$+=ve>>>13,ve&=8191,$=($<<2)+$|0,$=$+K|0,K=$&8191,$=$>>>13,ce+=$,a=K,c=ce,u=J,h=X,f=ue,p=ae,m=he,w=fe,_=de,b=ve,t+=16,n-=16}this._h[0]=a,this._h[1]=c,this._h[2]=u,this._h[3]=h,this._h[4]=f,this._h[5]=p,this._h[6]=m,this._h[7]=w,this._h[8]=_,this._h[9]=b},r.prototype.finish=function(e,t){t===void 0&&(t=0);var n=new Uint16Array(10),i,a,c,u;if(this._leftover){for(u=this._leftover,this._buffer[u++]=1;u<16;u++)this._buffer[u]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(i=this._h[1]>>>13,this._h[1]&=8191,u=2;u<10;u++)this._h[u]+=i,i=this._h[u]>>>13,this._h[u]&=8191;for(this._h[0]+=i*5,i=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=i,i=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=i,n[0]=this._h[0]+5,i=n[0]>>>13,n[0]&=8191,u=1;u<10;u++)n[u]=this._h[u]+i,i=n[u]>>>13,n[u]&=8191;for(n[9]-=8192,a=(i^1)-1,u=0;u<10;u++)n[u]&=a;for(a=~a,u=0;u<10;u++)this._h[u]=this._h[u]&a|n[u];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,c=this._h[0]+this._pad[0],this._h[0]=c&65535,u=1;u<8;u++)c=(this._h[u]+this._pad[u]|0)+(c>>>16)|0,this._h[u]=c&65535;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},r.prototype.update=function(e){var t=0,n=e.length,i;if(this._leftover){i=16-this._leftover,i>n&&(i=n);for(var a=0;a<i;a++)this._buffer[this._leftover+a]=e[t+a];if(n-=i,t+=i,this._leftover+=i,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(i=n-n%16,this._blocks(e,t,i),t+=i,n-=i),n){for(var a=0;a<n;a++)this._buffer[this._leftover+a]=e[t+a];this._leftover+=n}return this},r.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},r.prototype.clean=function(){return Pl.wipe(this._buffer),Pl.wipe(this._r),Pl.wipe(this._h),Pl.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},r}();On.Poly1305=Cy;function fP(r,e){var t=new Cy(r);t.update(e);var n=t.digest();return t.clean(),n}On.oneTimeAuth=fP;function dP(r,e){return r.length!==On.DIGEST_LENGTH||e.length!==On.DIGEST_LENGTH?!1:hP.equal(r,e)}On.equal=dP});var Oy=Q(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});var Rl=xy(),pP=Sy(),fa=Xr(),Dy=ha(),gP=Ol();Pn.KEY_LENGTH=32;Pn.NONCE_LENGTH=12;Pn.TAG_LENGTH=16;var Ay=new Uint8Array(16),mP=function(){function r(e){if(this.nonceLength=Pn.NONCE_LENGTH,this.tagLength=Pn.TAG_LENGTH,e.length!==Pn.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return r.prototype.seal=function(e,t,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var a=new Uint8Array(16);a.set(e,a.length-e.length);var c=new Uint8Array(32);Rl.stream(this._key,a,c,4);var u=t.length+this.tagLength,h;if(i){if(i.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");h=i}else h=new Uint8Array(u);return Rl.streamXOR(this._key,a,t,h,4),this._authenticate(h.subarray(h.length-this.tagLength,h.length),c,h.subarray(0,h.length-this.tagLength),n),fa.wipe(a),h},r.prototype.open=function(e,t,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var a=new Uint8Array(16);a.set(e,a.length-e.length);var c=new Uint8Array(32);Rl.stream(this._key,a,c,4);var u=new Uint8Array(this.tagLength);if(this._authenticate(u,c,t.subarray(0,t.length-this.tagLength),n),!gP.equal(u,t.subarray(t.length-this.tagLength,t.length)))return null;var h=t.length-this.tagLength,f;if(i){if(i.length!==h)throw new Error("ChaCha20Poly1305: incorrect destination length");f=i}else f=new Uint8Array(h);return Rl.streamXOR(this._key,a,t.subarray(0,t.length-this.tagLength),f,4),fa.wipe(a),f},r.prototype.clean=function(){return fa.wipe(this._key),this},r.prototype._authenticate=function(e,t,n,i){var a=new pP.Poly1305(t);i&&(a.update(i),i.length%16>0&&a.update(Ay.subarray(i.length%16))),a.update(n),n.length%16>0&&a.update(Ay.subarray(n.length%16));var c=new Uint8Array(8);i&&Dy.writeUint64LE(i.length,c),a.update(c),Dy.writeUint64LE(n.length,c),a.update(c);for(var u=a.digest(),h=0;h<u.length;h++)e[h]=u[h];a.clean(),fa.wipe(u),fa.wipe(c)},r}();Pn.ChaCha20Poly1305=mP});var Py=Q(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});function vP(r){return typeof r.saveState<"u"&&typeof r.restoreState<"u"&&typeof r.cleanSavedState<"u"}bd.isSerializableHash=vP});var Ty=Q(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});var en=Py(),wP=Ol(),yP=Xr(),Ry=function(){function r(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(n).clean():n.set(t);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),en.isSerializableHash(this._inner)&&en.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),yP.wipe(n)}return r.prototype.reset=function(){if(!en.isSerializableHash(this._inner)||!en.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.clean=function(){en.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),en.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},r.prototype.update=function(e){return this._inner.update(e),this},r.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(!en.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},r.prototype.restoreState=function(e){if(!en.isSerializableHash(this._inner)||!en.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.cleanSavedState=function(e){if(!en.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},r}();da.HMAC=Ry;function bP(r,e,t){var n=new Ry(r,e);n.update(t);var i=n.digest();return n.clean(),i}da.hmac=bP;da.equal=wP.equal});var Fy=Q(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});var Ny=Ty(),Ly=Xr(),_P=function(){function r(e,t,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var a=Ny.hmac(this._hash,n,t);this._hmac=new Ny.HMAC(e,a),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return r.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},r.prototype.expand=function(e){for(var t=new Uint8Array(e),n=0;n<t.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[n]=this._buffer[this._bufpos++];return t},r.prototype.clean=function(){this._hmac.clean(),Ly.wipe(this._buffer),Ly.wipe(this._counter),this._bufpos=0},r}();_d.HKDF=_P});var Uy=Q(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.BrowserRandomSource=void 0;var $y=65536,Ed=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let n=0;n<t.length;n+=$y)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,$y)));return t}};Tl.BrowserRandomSource=Ed});var My=Q(()=>{});var By=Q(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.NodeRandomSource=void 0;var EP=Xr(),xd=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof sy<"u"){let e=My();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=t[i];return(0,EP.wipe)(t),n}};Nl.NodeRandomSource=xd});var jy=Q(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.SystemRandomSource=void 0;var xP=Uy(),IP=By(),Id=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new xP.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new IP.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};Ll.SystemRandomSource=Id});var Sd=Q(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.randomStringForEntropy=qt.randomString=qt.randomUint32=qt.randomBytes=qt.defaultRandomSource=void 0;var CP=jy(),SP=ha(),qy=Xr();qt.defaultRandomSource=new CP.SystemRandomSource;function Cd(r,e=qt.defaultRandomSource){return e.randomBytes(r)}qt.randomBytes=Cd;function DP(r=qt.defaultRandomSource){let e=Cd(4,r),t=(0,SP.readUint32LE)(e);return(0,qy.wipe)(e),t}qt.randomUint32=DP;var zy="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function ky(r,e=zy,t=qt.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let n="",i=e.length,a=256-256%i;for(;r>0;){let c=Cd(Math.ceil(r*256/a),t);for(let u=0;u<c.length&&r>0;u++){let h=c[u];h<a&&(n+=e.charAt(h%i),r--)}(0,qy.wipe)(c)}return n}qt.randomString=ky;function AP(r,e=zy,t=qt.defaultRandomSource){let n=Math.ceil(r/(Math.log(e.length)/Math.LN2));return ky(n,e,t)}qt.randomStringForEntropy=AP});var Wy=Q(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});var $l=ha(),Fl=Xr();gi.DIGEST_LENGTH=32;gi.BLOCK_SIZE=64;var Hy=function(){function r(){this.digestLength=gi.DIGEST_LENGTH,this.blockSize=gi.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){Fl.wipe(this._buffer),Fl.wipe(this._temp),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[n++],t--;this._bufferLength===this.blockSize&&(Dd(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(n=Dd(this._temp,this._state,e,n,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[n++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,i=t/536870912|0,a=t<<3,c=t%64<56?64:128;this._buffer[n]=128;for(var u=n+1;u<c-8;u++)this._buffer[u]=0;$l.writeUint32BE(i,this._buffer,c-8),$l.writeUint32BE(a,this._buffer,c-4),Dd(this._temp,this._state,this._buffer,0,c),this._finished=!0}for(var u=0;u<this.digestLength/4;u++)$l.writeUint32BE(this._state[u],e,u*4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){Fl.wipe(e.state),e.buffer&&Fl.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();gi.SHA256=Hy;var OP=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Dd(r,e,t,n,i){for(;i>=64;){for(var a=e[0],c=e[1],u=e[2],h=e[3],f=e[4],p=e[5],m=e[6],w=e[7],_=0;_<16;_++){var b=n+_*4;r[_]=$l.readUint32BE(t,b)}for(var _=16;_<64;_++){var I=r[_-2],P=(I>>>17|I<<15)^(I>>>19|I<<13)^I>>>10;I=r[_-15];var A=(I>>>7|I<<25)^(I>>>18|I<<14)^I>>>3;r[_]=(P+r[_-7]|0)+(A+r[_-16]|0)}for(var _=0;_<64;_++){var P=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&m)|0)+(w+(OP[_]+r[_]|0)|0)|0,A=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&c^a&u^c&u)|0;w=m,m=p,p=f,f=h+P|0,h=u,u=c,c=a,a=P+A|0}e[0]+=a,e[1]+=c,e[2]+=u,e[3]+=h,e[4]+=f,e[5]+=p,e[6]+=m,e[7]+=w,n+=64,i-=64}return n}function PP(r){var e=new Hy;e.update(r);var t=e.digest();return e.clean(),t}gi.hash=PP});var Yy=Q(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.sharedKey=ft.generateKeyPair=ft.generateKeyPairFromSeed=ft.scalarMultBase=ft.scalarMult=ft.SHARED_KEY_LENGTH=ft.SECRET_KEY_LENGTH=ft.PUBLIC_KEY_LENGTH=void 0;var RP=Sd(),TP=Xr();ft.PUBLIC_KEY_LENGTH=32;ft.SECRET_KEY_LENGTH=32;ft.SHARED_KEY_LENGTH=32;function tn(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var Vy=new Uint8Array(32);Vy[0]=9;var NP=tn([56129,1]);function Ad(r){let e=1;for(let t=0;t<16;t++){let n=r[t]+e+65535;e=Math.floor(n/65536),r[t]=n-e*65536}r[0]+=e-1+37*(e-1)}function pa(r,e,t){let n=~(t-1);for(let i=0;i<16;i++){let a=n&(r[i]^e[i]);r[i]^=a,e[i]^=a}}function LP(r,e){let t=tn(),n=tn();for(let i=0;i<16;i++)n[i]=e[i];Ad(n),Ad(n),Ad(n);for(let i=0;i<2;i++){t[0]=n[0]-65517;for(let c=1;c<15;c++)t[c]=n[c]-65535-(t[c-1]>>16&1),t[c-1]&=65535;t[15]=n[15]-32767-(t[14]>>16&1);let a=t[15]>>16&1;t[14]&=65535,pa(n,t,1-a)}for(let i=0;i<16;i++)r[2*i]=n[i]&255,r[2*i+1]=n[i]>>8}function FP(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function Ul(r,e,t){for(let n=0;n<16;n++)r[n]=e[n]+t[n]}function Ml(r,e,t){for(let n=0;n<16;n++)r[n]=e[n]-t[n]}function Rn(r,e,t){let n,i,a=0,c=0,u=0,h=0,f=0,p=0,m=0,w=0,_=0,b=0,I=0,P=0,A=0,U=0,S=0,T=0,L=0,W=0,B=0,q=0,M=0,Y=0,x=0,N=0,G=0,ie=0,H=0,R=0,$=0,K=0,ce=0,J=t[0],X=t[1],ue=t[2],ae=t[3],he=t[4],fe=t[5],de=t[6],ve=t[7],$e=t[8],Pe=t[9],Ge=t[10],He=t[11],Je=t[12],ut=t[13],Ue=t[14],rt=t[15];n=e[0],a+=n*J,c+=n*X,u+=n*ue,h+=n*ae,f+=n*he,p+=n*fe,m+=n*de,w+=n*ve,_+=n*$e,b+=n*Pe,I+=n*Ge,P+=n*He,A+=n*Je,U+=n*ut,S+=n*Ue,T+=n*rt,n=e[1],c+=n*J,u+=n*X,h+=n*ue,f+=n*ae,p+=n*he,m+=n*fe,w+=n*de,_+=n*ve,b+=n*$e,I+=n*Pe,P+=n*Ge,A+=n*He,U+=n*Je,S+=n*ut,T+=n*Ue,L+=n*rt,n=e[2],u+=n*J,h+=n*X,f+=n*ue,p+=n*ae,m+=n*he,w+=n*fe,_+=n*de,b+=n*ve,I+=n*$e,P+=n*Pe,A+=n*Ge,U+=n*He,S+=n*Je,T+=n*ut,L+=n*Ue,W+=n*rt,n=e[3],h+=n*J,f+=n*X,p+=n*ue,m+=n*ae,w+=n*he,_+=n*fe,b+=n*de,I+=n*ve,P+=n*$e,A+=n*Pe,U+=n*Ge,S+=n*He,T+=n*Je,L+=n*ut,W+=n*Ue,B+=n*rt,n=e[4],f+=n*J,p+=n*X,m+=n*ue,w+=n*ae,_+=n*he,b+=n*fe,I+=n*de,P+=n*ve,A+=n*$e,U+=n*Pe,S+=n*Ge,T+=n*He,L+=n*Je,W+=n*ut,B+=n*Ue,q+=n*rt,n=e[5],p+=n*J,m+=n*X,w+=n*ue,_+=n*ae,b+=n*he,I+=n*fe,P+=n*de,A+=n*ve,U+=n*$e,S+=n*Pe,T+=n*Ge,L+=n*He,W+=n*Je,B+=n*ut,q+=n*Ue,M+=n*rt,n=e[6],m+=n*J,w+=n*X,_+=n*ue,b+=n*ae,I+=n*he,P+=n*fe,A+=n*de,U+=n*ve,S+=n*$e,T+=n*Pe,L+=n*Ge,W+=n*He,B+=n*Je,q+=n*ut,M+=n*Ue,Y+=n*rt,n=e[7],w+=n*J,_+=n*X,b+=n*ue,I+=n*ae,P+=n*he,A+=n*fe,U+=n*de,S+=n*ve,T+=n*$e,L+=n*Pe,W+=n*Ge,B+=n*He,q+=n*Je,M+=n*ut,Y+=n*Ue,x+=n*rt,n=e[8],_+=n*J,b+=n*X,I+=n*ue,P+=n*ae,A+=n*he,U+=n*fe,S+=n*de,T+=n*ve,L+=n*$e,W+=n*Pe,B+=n*Ge,q+=n*He,M+=n*Je,Y+=n*ut,x+=n*Ue,N+=n*rt,n=e[9],b+=n*J,I+=n*X,P+=n*ue,A+=n*ae,U+=n*he,S+=n*fe,T+=n*de,L+=n*ve,W+=n*$e,B+=n*Pe,q+=n*Ge,M+=n*He,Y+=n*Je,x+=n*ut,N+=n*Ue,G+=n*rt,n=e[10],I+=n*J,P+=n*X,A+=n*ue,U+=n*ae,S+=n*he,T+=n*fe,L+=n*de,W+=n*ve,B+=n*$e,q+=n*Pe,M+=n*Ge,Y+=n*He,x+=n*Je,N+=n*ut,G+=n*Ue,ie+=n*rt,n=e[11],P+=n*J,A+=n*X,U+=n*ue,S+=n*ae,T+=n*he,L+=n*fe,W+=n*de,B+=n*ve,q+=n*$e,M+=n*Pe,Y+=n*Ge,x+=n*He,N+=n*Je,G+=n*ut,ie+=n*Ue,H+=n*rt,n=e[12],A+=n*J,U+=n*X,S+=n*ue,T+=n*ae,L+=n*he,W+=n*fe,B+=n*de,q+=n*ve,M+=n*$e,Y+=n*Pe,x+=n*Ge,N+=n*He,G+=n*Je,ie+=n*ut,H+=n*Ue,R+=n*rt,n=e[13],U+=n*J,S+=n*X,T+=n*ue,L+=n*ae,W+=n*he,B+=n*fe,q+=n*de,M+=n*ve,Y+=n*$e,x+=n*Pe,N+=n*Ge,G+=n*He,ie+=n*Je,H+=n*ut,R+=n*Ue,$+=n*rt,n=e[14],S+=n*J,T+=n*X,L+=n*ue,W+=n*ae,B+=n*he,q+=n*fe,M+=n*de,Y+=n*ve,x+=n*$e,N+=n*Pe,G+=n*Ge,ie+=n*He,H+=n*Je,R+=n*ut,$+=n*Ue,K+=n*rt,n=e[15],T+=n*J,L+=n*X,W+=n*ue,B+=n*ae,q+=n*he,M+=n*fe,Y+=n*de,x+=n*ve,N+=n*$e,G+=n*Pe,ie+=n*Ge,H+=n*He,R+=n*Je,$+=n*ut,K+=n*Ue,ce+=n*rt,a+=38*L,c+=38*W,u+=38*B,h+=38*q,f+=38*M,p+=38*Y,m+=38*x,w+=38*N,_+=38*G,b+=38*ie,I+=38*H,P+=38*R,A+=38*$,U+=38*K,S+=38*ce,i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=I+i+65535,i=Math.floor(n/65536),I=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=U+i+65535,i=Math.floor(n/65536),U=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,a+=i-1+37*(i-1),i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=I+i+65535,i=Math.floor(n/65536),I=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=U+i+65535,i=Math.floor(n/65536),U=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,a+=i-1+37*(i-1),r[0]=a,r[1]=c,r[2]=u,r[3]=h,r[4]=f,r[5]=p,r[6]=m,r[7]=w,r[8]=_,r[9]=b,r[10]=I,r[11]=P,r[12]=A,r[13]=U,r[14]=S,r[15]=T}function ga(r,e){Rn(r,e,e)}function $P(r,e){let t=tn();for(let n=0;n<16;n++)t[n]=e[n];for(let n=253;n>=0;n--)ga(t,t),n!==2&&n!==4&&Rn(t,t,e);for(let n=0;n<16;n++)r[n]=t[n]}function Od(r,e){let t=new Uint8Array(32),n=new Float64Array(80),i=tn(),a=tn(),c=tn(),u=tn(),h=tn(),f=tn();for(let _=0;_<31;_++)t[_]=r[_];t[31]=r[31]&127|64,t[0]&=248,FP(n,e);for(let _=0;_<16;_++)a[_]=n[_];i[0]=u[0]=1;for(let _=254;_>=0;--_){let b=t[_>>>3]>>>(_&7)&1;pa(i,a,b),pa(c,u,b),Ul(h,i,c),Ml(i,i,c),Ul(c,a,u),Ml(a,a,u),ga(u,h),ga(f,i),Rn(i,c,i),Rn(c,a,h),Ul(h,i,c),Ml(i,i,c),ga(a,i),Ml(c,u,f),Rn(i,c,NP),Ul(i,i,u),Rn(c,c,i),Rn(i,u,f),Rn(u,a,n),ga(a,h),pa(i,a,b),pa(c,u,b)}for(let _=0;_<16;_++)n[_+16]=i[_],n[_+32]=c[_],n[_+48]=a[_],n[_+64]=u[_];let p=n.subarray(32),m=n.subarray(16);$P(p,p),Rn(m,m,p);let w=new Uint8Array(32);return LP(w,m),w}ft.scalarMult=Od;function Ky(r){return Od(r,Vy)}ft.scalarMultBase=Ky;function Gy(r){if(r.length!==ft.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${ft.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(r);return{publicKey:Ky(e),secretKey:e}}ft.generateKeyPairFromSeed=Gy;function UP(r){let e=(0,RP.randomBytes)(32,r),t=Gy(e);return(0,TP.wipe)(e),t}ft.generateKeyPair=UP;function MP(r,e,t=!1){if(r.length!==ft.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==ft.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let n=Od(r,e);if(t){let i=0;for(let a=0;a<n.length;a++)i|=n[a];if(i===0)throw new Error("X25519: invalid shared key")}return n}ft.sharedKey=MP});var nn={};Dt(nn,{__assign:()=>Qd,__asyncDelegator:()=>yT,__asyncGenerator:()=>wT,__asyncValues:()=>bT,__await:()=>_a,__awaiter:()=>fT,__classPrivateFieldGet:()=>IT,__classPrivateFieldSet:()=>CT,__createBinding:()=>pT,__decorate:()=>lT,__exportStar:()=>gT,__extends:()=>aT,__generator:()=>dT,__importDefault:()=>xT,__importStar:()=>ET,__makeTemplateObject:()=>_T,__metadata:()=>hT,__param:()=>uT,__read:()=>_b,__rest:()=>cT,__spread:()=>mT,__spreadArrays:()=>vT,__values:()=>Xd});function aT(r,e){Zd(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function cT(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function lT(r,e,t,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(a=(i<3?c(a):i>3?c(e,t,a):c(e,t))||a);return i>3&&a&&Object.defineProperty(e,t,a),a}function uT(r,e){return function(t,n){e(t,n,r)}}function hT(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function fT(r,e,t,n){function i(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(p){try{f(n.next(p))}catch(m){c(m)}}function h(p){try{f(n.throw(p))}catch(m){c(m)}}function f(p){p.done?a(p.value):i(p.value).then(u,h)}f((n=n.apply(r,e||[])).next())})}function dT(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(p){return h([f,p])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(p){f=[6,p],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function pT(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function gT(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function Xd(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _b(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return a}function mT(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(_b(arguments[e]));return r}function vT(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,i++)n[i]=a[c];return n}function _a(r){return this instanceof _a?(this.v=r,this):new _a(r)}function wT(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(w){n[w]&&(i[w]=function(_){return new Promise(function(b,I){a.push([w,_,b,I])>1||u(w,_)})})}function u(w,_){try{h(n[w](_))}catch(b){m(a[0][3],b)}}function h(w){w.value instanceof _a?Promise.resolve(w.value.v).then(f,p):m(a[0][2],w)}function f(w){u("next",w)}function p(w){u("throw",w)}function m(w,_){w(_),a.shift(),a.length&&u(a[0][0],a[0][1])}}function yT(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=r[i]?function(c){return(t=!t)?{value:_a(r[i](c)),done:i==="return"}:a?a(c):c}:a}}function bT(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Xd=="function"?Xd(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(c){return new Promise(function(u,h){c=r[a](c),i(u,h,c.done,c.value)})}}function i(a,c,u,h){Promise.resolve(h).then(function(f){a({value:f,done:u})},c)}}function _T(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function ET(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function xT(r){return r&&r.__esModule?r:{default:r}}function IT(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function CT(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}var Zd,Qd,sn=te(()=>{Zd=function(r,e){return Zd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Zd(r,e)};Qd=function(){return Qd=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Qd.apply(this,arguments)}});var Eb=Q(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.delay=void 0;function ST(r){return new Promise(e=>{setTimeout(()=>{e(!0)},r)})}Wl.delay=ST});var xb=Q(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.ONE_THOUSAND=uo.ONE_HUNDRED=void 0;uo.ONE_HUNDRED=100;uo.ONE_THOUSAND=1e3});var Ib=Q(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.ONE_YEAR=ne.FOUR_WEEKS=ne.THREE_WEEKS=ne.TWO_WEEKS=ne.ONE_WEEK=ne.THIRTY_DAYS=ne.SEVEN_DAYS=ne.FIVE_DAYS=ne.THREE_DAYS=ne.ONE_DAY=ne.TWENTY_FOUR_HOURS=ne.TWELVE_HOURS=ne.SIX_HOURS=ne.THREE_HOURS=ne.ONE_HOUR=ne.SIXTY_MINUTES=ne.THIRTY_MINUTES=ne.TEN_MINUTES=ne.FIVE_MINUTES=ne.ONE_MINUTE=ne.SIXTY_SECONDS=ne.THIRTY_SECONDS=ne.TEN_SECONDS=ne.FIVE_SECONDS=ne.ONE_SECOND=void 0;ne.ONE_SECOND=1;ne.FIVE_SECONDS=5;ne.TEN_SECONDS=10;ne.THIRTY_SECONDS=30;ne.SIXTY_SECONDS=60;ne.ONE_MINUTE=ne.SIXTY_SECONDS;ne.FIVE_MINUTES=ne.ONE_MINUTE*5;ne.TEN_MINUTES=ne.ONE_MINUTE*10;ne.THIRTY_MINUTES=ne.ONE_MINUTE*30;ne.SIXTY_MINUTES=ne.ONE_MINUTE*60;ne.ONE_HOUR=ne.SIXTY_MINUTES;ne.THREE_HOURS=ne.ONE_HOUR*3;ne.SIX_HOURS=ne.ONE_HOUR*6;ne.TWELVE_HOURS=ne.ONE_HOUR*12;ne.TWENTY_FOUR_HOURS=ne.ONE_HOUR*24;ne.ONE_DAY=ne.TWENTY_FOUR_HOURS;ne.THREE_DAYS=ne.ONE_DAY*3;ne.FIVE_DAYS=ne.ONE_DAY*5;ne.SEVEN_DAYS=ne.ONE_DAY*7;ne.THIRTY_DAYS=ne.ONE_DAY*30;ne.ONE_WEEK=ne.SEVEN_DAYS;ne.TWO_WEEKS=ne.ONE_WEEK*2;ne.THREE_WEEKS=ne.ONE_WEEK*3;ne.FOUR_WEEKS=ne.ONE_WEEK*4;ne.ONE_YEAR=ne.ONE_DAY*365});var ep=Q(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});var Cb=(sn(),Qr(nn));Cb.__exportStar(xb(),Vl);Cb.__exportStar(Ib(),Vl)});var Db=Q(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.fromMiliseconds=ho.toMiliseconds=void 0;var Sb=ep();function DT(r){return r*Sb.ONE_THOUSAND}ho.toMiliseconds=DT;function AT(r){return Math.floor(r/Sb.ONE_THOUSAND)}ho.fromMiliseconds=AT});var Ob=Q(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});var Ab=(sn(),Qr(nn));Ab.__exportStar(Eb(),Kl);Ab.__exportStar(Db(),Kl)});var Pb=Q(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.Watch=void 0;var Gl=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(typeof t.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}get(e){let t=this.timestamps.get(e);if(typeof t>"u")throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}};Ea.Watch=Gl;Ea.default=Gl});var Rb=Q(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.IWatch=void 0;var tp=class{};Yl.IWatch=tp});var Tb=Q(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});var OT=(sn(),Qr(nn));OT.__exportStar(Rb(),rp)});var as=Q(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});var Jl=(sn(),Qr(nn));Jl.__exportStar(Ob(),fo);Jl.__exportStar(Pb(),fo);Jl.__exportStar(Tb(),fo);Jl.__exportStar(ep(),fo)});var np=Q(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.getLocalStorage=Qe.getLocalStorageOrThrow=Qe.getCrypto=Qe.getCryptoOrThrow=Qe.getLocation=Qe.getLocationOrThrow=Qe.getNavigator=Qe.getNavigatorOrThrow=Qe.getDocument=Qe.getDocumentOrThrow=Qe.getFromWindowOrThrow=Qe.getFromWindow=void 0;function cs(r){let e;return typeof window<"u"&&typeof window[r]<"u"&&(e=window[r]),e}Qe.getFromWindow=cs;function po(r){let e=cs(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}Qe.getFromWindowOrThrow=po;function PT(){return po("document")}Qe.getDocumentOrThrow=PT;function RT(){return cs("document")}Qe.getDocument=RT;function TT(){return po("navigator")}Qe.getNavigatorOrThrow=TT;function NT(){return cs("navigator")}Qe.getNavigator=NT;function LT(){return po("location")}Qe.getLocationOrThrow=LT;function FT(){return cs("location")}Qe.getLocation=FT;function $T(){return po("crypto")}Qe.getCryptoOrThrow=$T;function UT(){return cs("crypto")}Qe.getCrypto=UT;function MT(){return po("localStorage")}Qe.getLocalStorageOrThrow=MT;function BT(){return cs("localStorage")}Qe.getLocalStorage=BT});var Lb=Q(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.getWindowMetadata=void 0;var Nb=np();function jT(){let r,e;try{r=Nb.getDocumentOrThrow(),e=Nb.getLocationOrThrow()}catch{return null}function t(){let m=r.getElementsByTagName("link"),w=[];for(let _=0;_<m.length;_++){let b=m[_],I=b.getAttribute("rel");if(I&&I.toLowerCase().indexOf("icon")>-1){let P=b.getAttribute("href");if(P)if(P.toLowerCase().indexOf("https:")===-1&&P.toLowerCase().indexOf("http:")===-1&&P.indexOf("//")!==0){let A=e.protocol+"//"+e.host;if(P.indexOf("/")===0)A+=P;else{let U=e.pathname.split("/");U.pop();let S=U.join("/");A+=S+"/"+P}w.push(A)}else if(P.indexOf("//")===0){let A=e.protocol+P;w.push(A)}else w.push(P)}}return w}function n(...m){let w=r.getElementsByTagName("meta");for(let _=0;_<w.length;_++){let b=w[_],I=["itemprop","property","name"].map(P=>b.getAttribute(P)).filter(P=>P?m.includes(P):!1);if(I.length&&I){let P=b.getAttribute("content");if(P)return P}}return""}function i(){let m=n("name","og:site_name","og:title","twitter:title");return m||(m=r.title),m}function a(){return n("description","og:description","twitter:description","keywords")}let c=i(),u=a(),h=e.origin,f=t();return{description:u,url:h,icons:f,name:c}}Zl.getWindowMetadata=jT});var $b=Q((XV,Fb)=>{"use strict";Fb.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var qb=Q((eK,jb)=>{"use strict";var Bb="%[a-f0-9]{2}",Ub=new RegExp("("+Bb+")|([^%]+?)","gi"),Mb=new RegExp("("+Bb+")+","gi");function ip(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;var t=r.slice(0,e),n=r.slice(e);return Array.prototype.concat.call([],ip(t),ip(n))}function qT(r){try{return decodeURIComponent(r)}catch{for(var e=r.match(Ub)||[],t=1;t<e.length;t++)r=ip(e,t).join(""),e=r.match(Ub)||[];return r}}function zT(r){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},t=Mb.exec(r);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var n=qT(t[0]);n!==t[0]&&(e[t[0]]=n)}t=Mb.exec(r)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),a=0;a<i.length;a++){var c=i[a];r=r.replace(new RegExp(c,"g"),e[c])}return r}jb.exports=function(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return r=r.replace(/\+/g," "),decodeURIComponent(r)}catch{return zT(r)}}});var kb=Q((tK,zb)=>{"use strict";zb.exports=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];let t=r.indexOf(e);return t===-1?[r]:[r.slice(0,t),r.slice(t+e.length)]}});var Wb=Q((rK,Hb)=>{"use strict";Hb.exports=function(r,e){for(var t={},n=Object.keys(r),i=Array.isArray(e),a=0;a<n.length;a++){var c=n[a],u=r[c];(i?e.indexOf(c)!==-1:e(c,u,r))&&(t[c]=u)}return t}});var Xb=Q(hr=>{"use strict";var kT=$b(),HT=qb(),Kb=kb(),WT=Wb(),VT=r=>r==null,sp=Symbol("encodeFragmentIdentifier");function KT(r){switch(r.arrayFormat){case"index":return e=>(t,n)=>{let i=t.length;return n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?t:n===null?[...t,[mt(e,r),"[",i,"]"].join("")]:[...t,[mt(e,r),"[",mt(i,r),"]=",mt(n,r)].join("")]};case"bracket":return e=>(t,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?t:n===null?[...t,[mt(e,r),"[]"].join("")]:[...t,[mt(e,r),"[]=",mt(n,r)].join("")];case"colon-list-separator":return e=>(t,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?t:n===null?[...t,[mt(e,r),":list="].join("")]:[...t,[mt(e,r),":list=",mt(n,r)].join("")];case"comma":case"separator":case"bracket-separator":{let e=r.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(n,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[mt(t,r),e,mt(i,r)].join("")]:[[n,mt(i,r)].join(r.arrayFormatSeparator)])}default:return e=>(t,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?t:n===null?[...t,mt(e,r)]:[...t,[mt(e,r),"=",mt(n,r)].join("")]}}function GT(r){let e;switch(r.arrayFormat){case"index":return(t,n,i)=>{if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e){i[t]=n;return}i[t]===void 0&&(i[t]={}),i[t][e[1]]=n};case"bracket":return(t,n,i)=>{if(e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),!e){i[t]=n;return}if(i[t]===void 0){i[t]=[n];return}i[t]=[].concat(i[t],n)};case"colon-list-separator":return(t,n,i)=>{if(e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!e){i[t]=n;return}if(i[t]===void 0){i[t]=[n];return}i[t]=[].concat(i[t],n)};case"comma":case"separator":return(t,n,i)=>{let a=typeof n=="string"&&n.includes(r.arrayFormatSeparator),c=typeof n=="string"&&!a&&Nn(n,r).includes(r.arrayFormatSeparator);n=c?Nn(n,r):n;let u=a||c?n.split(r.arrayFormatSeparator).map(h=>Nn(h,r)):n===null?n:Nn(n,r);i[t]=u};case"bracket-separator":return(t,n,i)=>{let a=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!a){i[t]=n&&Nn(n,r);return}let c=n===null?[]:n.split(r.arrayFormatSeparator).map(u=>Nn(u,r));if(i[t]===void 0){i[t]=c;return}i[t]=[].concat(i[t],c)};default:return(t,n,i)=>{if(i[t]===void 0){i[t]=n;return}i[t]=[].concat(i[t],n)}}}function Gb(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function mt(r,e){return e.encode?e.strict?kT(r):encodeURIComponent(r):r}function Nn(r,e){return e.decode?HT(r):r}function Yb(r){return Array.isArray(r)?r.sort():typeof r=="object"?Yb(Object.keys(r)).sort((e,t)=>Number(e)-Number(t)).map(e=>r[e]):r}function Jb(r){let e=r.indexOf("#");return e!==-1&&(r=r.slice(0,e)),r}function YT(r){let e="",t=r.indexOf("#");return t!==-1&&(e=r.slice(t)),e}function Zb(r){r=Jb(r);let e=r.indexOf("?");return e===-1?"":r.slice(e+1)}function Vb(r,e){return e.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):e.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function Qb(r,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),Gb(e.arrayFormatSeparator);let t=GT(e),n=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return n;for(let i of r.split("&")){if(i==="")continue;let[a,c]=Kb(e.decode?i.replace(/\+/g," "):i,"=");c=c===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?c:Nn(c,e),t(Nn(a,e),c,n)}for(let i of Object.keys(n)){let a=n[i];if(typeof a=="object"&&a!==null)for(let c of Object.keys(a))a[c]=Vb(a[c],e);else n[i]=Vb(a,e)}return e.sort===!1?n:(e.sort===!0?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((i,a)=>{let c=n[a];return c&&typeof c=="object"&&!Array.isArray(c)?i[a]=Yb(c):i[a]=c,i},Object.create(null))}hr.extract=Zb;hr.parse=Qb;hr.stringify=(r,e)=>{if(!r)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),Gb(e.arrayFormatSeparator);let t=c=>e.skipNull&&VT(r[c])||e.skipEmptyString&&r[c]==="",n=KT(e),i={};for(let c of Object.keys(r))t(c)||(i[c]=r[c]);let a=Object.keys(i);return e.sort!==!1&&a.sort(e.sort),a.map(c=>{let u=r[c];return u===void 0?"":u===null?mt(c,e):Array.isArray(u)?u.length===0&&e.arrayFormat==="bracket-separator"?mt(c,e)+"[]":u.reduce(n(c),[]).join("&"):mt(c,e)+"="+mt(u,e)}).filter(c=>c.length>0).join("&")};hr.parseUrl=(r,e)=>{e=Object.assign({decode:!0},e);let[t,n]=Kb(r,"#");return Object.assign({url:t.split("?")[0]||"",query:Qb(Zb(r),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:Nn(n,e)}:{})};hr.stringifyUrl=(r,e)=>{e=Object.assign({encode:!0,strict:!0,[sp]:!0},e);let t=Jb(r.url).split("?")[0]||"",n=hr.extract(r.url),i=hr.parse(n,{sort:!1}),a=Object.assign(i,r.query),c=hr.stringify(a,e);c&&(c=`?${c}`);let u=YT(r.url);return r.fragmentIdentifier&&(u=`#${e[sp]?mt(r.fragmentIdentifier,e):r.fragmentIdentifier}`),`${t}${c}${u}`};hr.pick=(r,e,t)=>{t=Object.assign({parseFragmentIdentifier:!0,[sp]:!1},t);let{url:n,query:i,fragmentIdentifier:a}=hr.parseUrl(r,t);return hr.stringifyUrl({url:n,query:WT(i,e),fragmentIdentifier:a},t)};hr.exclude=(r,e,t)=>{let n=Array.isArray(e)?i=>!e.includes(i):(i,a)=>!e(i,a);return hr.pick(r,n,t)}});var cn,a_=te(()=>{cn=class{}});var c_={};Dt(c_,{IEvents:()=>cn});var Pp=te(()=>{a_()});var l_=Q(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.IHeartBeat=void 0;var aN=(Pp(),Qr(c_)),Rp=class extends aN.IEvents{constructor(e){super()}};lu.IHeartBeat=Rp});var Np=Q(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});var cN=(sn(),Qr(nn));cN.__exportStar(l_(),Tp)});var u_=Q(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.HEARTBEAT_EVENTS=bo.HEARTBEAT_INTERVAL=void 0;var lN=as();bo.HEARTBEAT_INTERVAL=lN.FIVE_SECONDS;bo.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}});var Fp=Q(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});var uN=(sn(),Qr(nn));uN.__exportStar(u_(),Lp)});var h_=Q(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.HeartBeat=void 0;var $p=(sn(),Qr(nn)),hN=Wr(),fN=as(),dN=Np(),Up=Fp(),Mp=class r extends dN.IHeartBeat{constructor(e){super(e),this.events=new hN.EventEmitter,this.interval=Up.HEARTBEAT_INTERVAL,this.interval=e?.interval||Up.HEARTBEAT_INTERVAL}static init(e){return $p.__awaiter(this,void 0,void 0,function*(){let t=new r(e);return yield t.init(),t})}init(){return $p.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}initialize(){return $p.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),fN.toMiliseconds(this.interval))})}pulse(){this.events.emit(Up.HEARTBEAT_EVENTS.pulse)}};uu.HeartBeat=Mp});var f_=Q(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});var Bp=(sn(),Qr(nn));Bp.__exportStar(h_(),Ra);Bp.__exportStar(Np(),Ra);Bp.__exportStar(Fp(),Ra)});var p_=Q((AK,d_)=>{"use strict";function pN(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}d_.exports=gN;function gN(r,e,t){var n=t&&t.stringify||pN,i=1;if(typeof r=="object"&&r!==null){var a=e.length+i;if(a===1)return r;var c=new Array(a);c[0]=n(r);for(var u=1;u<a;u++)c[u]=n(e[u]);return c.join(" ")}if(typeof r!="string")return r;var h=e.length;if(h===0)return r;for(var f="",p=1-i,m=-1,w=r&&r.length||0,_=0;_<w;){if(r.charCodeAt(_)===37&&_+1<w){switch(m=m>-1?m:0,r.charCodeAt(_+1)){case 100:case 102:if(p>=h||e[p]==null)break;m<_&&(f+=r.slice(m,_)),f+=Number(e[p]),m=_+2,_++;break;case 105:if(p>=h||e[p]==null)break;m<_&&(f+=r.slice(m,_)),f+=Math.floor(Number(e[p])),m=_+2,_++;break;case 79:case 111:case 106:if(p>=h||e[p]===void 0)break;m<_&&(f+=r.slice(m,_));var b=typeof e[p];if(b==="string"){f+="'"+e[p]+"'",m=_+2,_++;break}if(b==="function"){f+=e[p].name||"<anonymous>",m=_+2,_++;break}f+=n(e[p]),m=_+2,_++;break;case 115:if(p>=h)break;m<_&&(f+=r.slice(m,_)),f+=String(e[p]),m=_+2,_++;break;case 37:m<_&&(f+=r.slice(m,_)),f+="%",m=_+2,_++,p--;break}++p}++_}return m===-1?r:(m<w&&(f+=r.slice(m)),f)}});var zp=Q((OK,w_)=>{"use strict";var g_=p_();w_.exports=ln;var Ta=CN().console||{},mN={mapHttpRequest:hu,mapHttpResponse:hu,wrapRequestSerializer:jp,wrapResponseSerializer:jp,wrapErrorSerializer:jp,req:hu,res:hu,err:_N};function vN(r,e){return Array.isArray(r)?r.filter(function(n){return n!=="!stdSerializers.err"}):r===!0?Object.keys(e):!1}function ln(r){r=r||{},r.browser=r.browser||{};let e=r.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let t=r.browser.write||Ta;r.browser.write&&(r.browser.asObject=!0);let n=r.serializers||{},i=vN(r.browser.serialize,n),a=r.browser.serialize;Array.isArray(r.browser.serialize)&&r.browser.serialize.indexOf("!stdSerializers.err")>-1&&(a=!1);let c=["error","fatal","warn","info","debug","trace"];typeof t=="function"&&(t.error=t.fatal=t.warn=t.info=t.debug=t.trace=t),r.enabled===!1&&(r.level="silent");let u=r.level||"info",h=Object.create(t);h.log||(h.log=Na),Object.defineProperty(h,"levelVal",{get:p}),Object.defineProperty(h,"level",{get:m,set:w});let f={transmit:e,serialize:i,asObject:r.browser.asObject,levels:c,timestamp:EN(r)};h.levels=ln.levels,h.level=u,h.setMaxListeners=h.getMaxListeners=h.emit=h.addListener=h.on=h.prependListener=h.once=h.prependOnceListener=h.removeListener=h.removeAllListeners=h.listeners=h.listenerCount=h.eventNames=h.write=h.flush=Na,h.serializers=n,h._serialize=i,h._stdErrSerialize=a,h.child=_,e&&(h._logEvent=qp());function p(){return this.level==="silent"?1/0:this.levels.values[this.level]}function m(){return this._level}function w(b){if(b!=="silent"&&!this.levels.values[b])throw Error("unknown level "+b);this._level=b,_o(f,h,"error","log"),_o(f,h,"fatal","error"),_o(f,h,"warn","error"),_o(f,h,"info","log"),_o(f,h,"debug","log"),_o(f,h,"trace","log")}function _(b,I){if(!b)throw new Error("missing bindings for child Pino");I=I||{},i&&b.serializers&&(I.serializers=b.serializers);let P=I.serializers;if(i&&P){var A=Object.assign({},n,P),U=r.browser.serialize===!0?Object.keys(A):i;delete b.serializers,fu([b],U,A,this._stdErrSerialize)}function S(T){this._childLevel=(T._childLevel|0)+1,this.error=Eo(T,b,"error"),this.fatal=Eo(T,b,"fatal"),this.warn=Eo(T,b,"warn"),this.info=Eo(T,b,"info"),this.debug=Eo(T,b,"debug"),this.trace=Eo(T,b,"trace"),A&&(this.serializers=A,this._serialize=U),e&&(this._logEvent=qp([].concat(T._logEvent.bindings,b)))}return S.prototype=this,new S(this)}return h}ln.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};ln.stdSerializers=mN;ln.stdTimeFunctions=Object.assign({},{nullTime:m_,epochTime:v_,unixTime:xN,isoTime:IN});function _o(r,e,t,n){let i=Object.getPrototypeOf(e);e[t]=e.levelVal>e.levels.values[t]?Na:i[t]?i[t]:Ta[t]||Ta[n]||Na,wN(r,e,t)}function wN(r,e,t){!r.transmit&&e[t]===Na||(e[t]=function(n){return function(){let a=r.timestamp(),c=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Ta?Ta:this;for(var h=0;h<c.length;h++)c[h]=arguments[h];if(r.serialize&&!r.asObject&&fu(c,this._serialize,this.serializers,this._stdErrSerialize),r.asObject?n.call(u,yN(this,t,c,a)):n.apply(u,c),r.transmit){let f=r.transmit.level||e.level,p=ln.levels.values[f],m=ln.levels.values[t];if(m<p)return;bN(this,{ts:a,methodLevel:t,methodValue:m,transmitLevel:f,transmitValue:ln.levels.values[r.transmit.level||e.level],send:r.transmit.send,val:e.levelVal},c)}}}(e[t]))}function yN(r,e,t,n){r._serialize&&fu(t,r._serialize,r.serializers,r._stdErrSerialize);let i=t.slice(),a=i[0],c={};n&&(c.time=n),c.level=ln.levels.values[e];let u=(r._childLevel|0)+1;if(u<1&&(u=1),a!==null&&typeof a=="object"){for(;u--&&typeof i[0]=="object";)Object.assign(c,i.shift());a=i.length?g_(i.shift(),i):void 0}else typeof a=="string"&&(a=g_(i.shift(),i));return a!==void 0&&(c.msg=a),c}function fu(r,e,t,n){for(let i in r)if(n&&r[i]instanceof Error)r[i]=ln.stdSerializers.err(r[i]);else if(typeof r[i]=="object"&&!Array.isArray(r[i]))for(let a in r[i])e&&e.indexOf(a)>-1&&a in t&&(r[i][a]=t[a](r[i][a]))}function Eo(r,e,t){return function(){let n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return r[t].apply(this,n)}}function bN(r,e,t){let n=e.send,i=e.ts,a=e.methodLevel,c=e.methodValue,u=e.val,h=r._logEvent.bindings;fu(t,r._serialize||Object.keys(r.serializers),r.serializers,r._stdErrSerialize===void 0?!0:r._stdErrSerialize),r._logEvent.ts=i,r._logEvent.messages=t.filter(function(f){return h.indexOf(f)===-1}),r._logEvent.level.label=a,r._logEvent.level.value=c,n(a,r._logEvent,u),r._logEvent=qp(h)}function qp(r){return{ts:0,messages:[],bindings:r||[],level:{label:"",value:0}}}function _N(r){let e={type:r.constructor.name,msg:r.message,stack:r.stack};for(let t in r)e[t]===void 0&&(e[t]=r[t]);return e}function EN(r){return typeof r.timestamp=="function"?r.timestamp:r.timestamp===!1?m_:v_}function hu(){return{}}function jp(r){return r}function Na(){}function m_(){return!1}function v_(){return Date.now()}function xN(){return Math.round(Date.now()/1e3)}function IN(){return new Date(Date.now()).toISOString()}function CN(){function r(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return r(self)||r(window)||r(this)||{}}}});var EE=Q(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.isBrowserCryptoAvailable=Ci.getSubtleCrypto=Ci.getBrowerCrypto=void 0;function x0(){return(global==null?void 0:global.crypto)||(global==null?void 0:global.msCrypto)||{}}Ci.getBrowerCrypto=x0;function _E(){let r=x0();return r.subtle||r.webkitSubtle}Ci.getSubtleCrypto=_E;function E$(){return!!x0()&&!!_E()}Ci.isBrowserCryptoAvailable=E$});var CE=Q(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.isBrowser=Si.isNode=Si.isReactNative=void 0;function xE(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Si.isReactNative=xE;function IE(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Si.isNode=IE;function x$(){return!xE()&&!IE()}Si.isBrowser=x$});var I0=Q($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});var SE=(sn(),Qr(nn));SE.__exportStar(EE(),$u);SE.__exportStar(CE(),$u)});var NE=Q((fG,TE)=>{"use strict";TE.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var v3=Q((za,So)=>{var L$=200,M0="__lodash_hash_undefined__",Zu=1,GE=2,YE=9007199254740991,Hu="[object Arguments]",R0="[object Array]",F$="[object AsyncFunction]",JE="[object Boolean]",ZE="[object Date]",QE="[object Error]",XE="[object Function]",$$="[object GeneratorFunction]",Wu="[object Map]",e3="[object Number]",U$="[object Null]",Co="[object Object]",UE="[object Promise]",M$="[object Proxy]",t3="[object RegExp]",Vu="[object Set]",r3="[object String]",B$="[object Symbol]",j$="[object Undefined]",T0="[object WeakMap]",n3="[object ArrayBuffer]",Ku="[object DataView]",q$="[object Float32Array]",z$="[object Float64Array]",k$="[object Int8Array]",H$="[object Int16Array]",W$="[object Int32Array]",V$="[object Uint8Array]",K$="[object Uint8ClampedArray]",G$="[object Uint16Array]",Y$="[object Uint32Array]",J$=/[\\^$.*+?()[\]{}|]/g,Z$=/^\[object .+?Constructor\]$/,Q$=/^(?:0|[1-9]\d*)$/,tt={};tt[q$]=tt[z$]=tt[k$]=tt[H$]=tt[W$]=tt[V$]=tt[K$]=tt[G$]=tt[Y$]=!0;tt[Hu]=tt[R0]=tt[n3]=tt[JE]=tt[Ku]=tt[ZE]=tt[QE]=tt[XE]=tt[Wu]=tt[e3]=tt[Co]=tt[t3]=tt[Vu]=tt[r3]=tt[T0]=!1;var i3=typeof global=="object"&&global&&global.Object===Object&&global,X$=typeof self=="object"&&self&&self.Object===Object&&self,Bn=i3||X$||Function("return this")(),s3=typeof za=="object"&&za&&!za.nodeType&&za,ME=s3&&typeof So=="object"&&So&&!So.nodeType&&So,o3=ME&&ME.exports===s3,A0=o3&&i3.process,BE=function(){try{return A0&&A0.binding&&A0.binding("util")}catch{}}(),jE=BE&&BE.isTypedArray;function eU(r,e){for(var t=-1,n=r==null?0:r.length,i=0,a=[];++t<n;){var c=r[t];e(c,t,r)&&(a[i++]=c)}return a}function tU(r,e){for(var t=-1,n=e.length,i=r.length;++t<n;)r[i+t]=e[t];return r}function rU(r,e){for(var t=-1,n=r==null?0:r.length;++t<n;)if(e(r[t],t,r))return!0;return!1}function nU(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n}function iU(r){return function(e){return r(e)}}function sU(r,e){return r.has(e)}function oU(r,e){return r?.[e]}function aU(r){var e=-1,t=Array(r.size);return r.forEach(function(n,i){t[++e]=[i,n]}),t}function cU(r,e){return function(t){return r(e(t))}}function lU(r){var e=-1,t=Array(r.size);return r.forEach(function(n){t[++e]=n}),t}var uU=Array.prototype,hU=Function.prototype,Qu=Object.prototype,O0=Bn["__core-js_shared__"],a3=hU.toString,fn=Qu.hasOwnProperty,qE=function(){var r=/[^.]+$/.exec(O0&&O0.keys&&O0.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),c3=Qu.toString,fU=RegExp("^"+a3.call(fn).replace(J$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zE=o3?Bn.Buffer:void 0,Gu=Bn.Symbol,kE=Bn.Uint8Array,l3=Qu.propertyIsEnumerable,dU=uU.splice,ws=Gu?Gu.toStringTag:void 0,HE=Object.getOwnPropertySymbols,pU=zE?zE.isBuffer:void 0,gU=cU(Object.keys,Object),N0=Do(Bn,"DataView"),ka=Do(Bn,"Map"),L0=Do(Bn,"Promise"),F0=Do(Bn,"Set"),$0=Do(Bn,"WeakMap"),Ha=Do(Object,"create"),mU=_s(N0),vU=_s(ka),wU=_s(L0),yU=_s(F0),bU=_s($0),WE=Gu?Gu.prototype:void 0,P0=WE?WE.valueOf:void 0;function ys(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}function _U(){this.__data__=Ha?Ha(null):{},this.size=0}function EU(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}function xU(r){var e=this.__data__;if(Ha){var t=e[r];return t===M0?void 0:t}return fn.call(e,r)?e[r]:void 0}function IU(r){var e=this.__data__;return Ha?e[r]!==void 0:fn.call(e,r)}function CU(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=Ha&&e===void 0?M0:e,this}ys.prototype.clear=_U;ys.prototype.delete=EU;ys.prototype.get=xU;ys.prototype.has=IU;ys.prototype.set=CU;function jn(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}function SU(){this.__data__=[],this.size=0}function DU(r){var e=this.__data__,t=Xu(e,r);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():dU.call(e,t,1),--this.size,!0}function AU(r){var e=this.__data__,t=Xu(e,r);return t<0?void 0:e[t][1]}function OU(r){return Xu(this.__data__,r)>-1}function PU(r,e){var t=this.__data__,n=Xu(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this}jn.prototype.clear=SU;jn.prototype.delete=DU;jn.prototype.get=AU;jn.prototype.has=OU;jn.prototype.set=PU;function bs(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}function RU(){this.size=0,this.__data__={hash:new ys,map:new(ka||jn),string:new ys}}function TU(r){var e=eh(this,r).delete(r);return this.size-=e?1:0,e}function NU(r){return eh(this,r).get(r)}function LU(r){return eh(this,r).has(r)}function FU(r,e){var t=eh(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this}bs.prototype.clear=RU;bs.prototype.delete=TU;bs.prototype.get=NU;bs.prototype.has=LU;bs.prototype.set=FU;function Yu(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new bs;++e<t;)this.add(r[e])}function $U(r){return this.__data__.set(r,M0),this}function UU(r){return this.__data__.has(r)}Yu.prototype.add=Yu.prototype.push=$U;Yu.prototype.has=UU;function Oi(r){var e=this.__data__=new jn(r);this.size=e.size}function MU(){this.__data__=new jn,this.size=0}function BU(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}function jU(r){return this.__data__.get(r)}function qU(r){return this.__data__.has(r)}function zU(r,e){var t=this.__data__;if(t instanceof jn){var n=t.__data__;if(!ka||n.length<L$-1)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new bs(n)}return t.set(r,e),this.size=t.size,this}Oi.prototype.clear=MU;Oi.prototype.delete=BU;Oi.prototype.get=jU;Oi.prototype.has=qU;Oi.prototype.set=zU;function kU(r,e){var t=Ju(r),n=!t&&iM(r),i=!t&&!n&&U0(r),a=!t&&!n&&!i&&m3(r),c=t||n||i||a,u=c?nU(r.length,String):[],h=u.length;for(var f in r)(e||fn.call(r,f))&&!(c&&(f=="length"||i&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||XU(f,h)))&&u.push(f);return u}function Xu(r,e){for(var t=r.length;t--;)if(f3(r[t][0],e))return t;return-1}function HU(r,e,t){var n=e(r);return Ju(r)?n:tU(n,t(r))}function Va(r){return r==null?r===void 0?j$:U$:ws&&ws in Object(r)?ZU(r):nM(r)}function VE(r){return Wa(r)&&Va(r)==Hu}function u3(r,e,t,n,i){return r===e?!0:r==null||e==null||!Wa(r)&&!Wa(e)?r!==r&&e!==e:WU(r,e,t,n,u3,i)}function WU(r,e,t,n,i,a){var c=Ju(r),u=Ju(e),h=c?R0:Ai(r),f=u?R0:Ai(e);h=h==Hu?Co:h,f=f==Hu?Co:f;var p=h==Co,m=f==Co,w=h==f;if(w&&U0(r)){if(!U0(e))return!1;c=!0,p=!1}if(w&&!p)return a||(a=new Oi),c||m3(r)?h3(r,e,t,n,i,a):YU(r,e,h,t,n,i,a);if(!(t&Zu)){var _=p&&fn.call(r,"__wrapped__"),b=m&&fn.call(e,"__wrapped__");if(_||b){var I=_?r.value():r,P=b?e.value():e;return a||(a=new Oi),i(I,P,t,n,a)}}return w?(a||(a=new Oi),JU(r,e,t,n,i,a)):!1}function VU(r){if(!g3(r)||tM(r))return!1;var e=d3(r)?fU:Z$;return e.test(_s(r))}function KU(r){return Wa(r)&&p3(r.length)&&!!tt[Va(r)]}function GU(r){if(!rM(r))return gU(r);var e=[];for(var t in Object(r))fn.call(r,t)&&t!="constructor"&&e.push(t);return e}function h3(r,e,t,n,i,a){var c=t&Zu,u=r.length,h=e.length;if(u!=h&&!(c&&h>u))return!1;var f=a.get(r);if(f&&a.get(e))return f==e;var p=-1,m=!0,w=t&GE?new Yu:void 0;for(a.set(r,e),a.set(e,r);++p<u;){var _=r[p],b=e[p];if(n)var I=c?n(b,_,p,e,r,a):n(_,b,p,r,e,a);if(I!==void 0){if(I)continue;m=!1;break}if(w){if(!rU(e,function(P,A){if(!sU(w,A)&&(_===P||i(_,P,t,n,a)))return w.push(A)})){m=!1;break}}else if(!(_===b||i(_,b,t,n,a))){m=!1;break}}return a.delete(r),a.delete(e),m}function YU(r,e,t,n,i,a,c){switch(t){case Ku:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case n3:return!(r.byteLength!=e.byteLength||!a(new kE(r),new kE(e)));case JE:case ZE:case e3:return f3(+r,+e);case QE:return r.name==e.name&&r.message==e.message;case t3:case r3:return r==e+"";case Wu:var u=aU;case Vu:var h=n&Zu;if(u||(u=lU),r.size!=e.size&&!h)return!1;var f=c.get(r);if(f)return f==e;n|=GE,c.set(r,e);var p=h3(u(r),u(e),n,i,a,c);return c.delete(r),p;case B$:if(P0)return P0.call(r)==P0.call(e)}return!1}function JU(r,e,t,n,i,a){var c=t&Zu,u=KE(r),h=u.length,f=KE(e),p=f.length;if(h!=p&&!c)return!1;for(var m=h;m--;){var w=u[m];if(!(c?w in e:fn.call(e,w)))return!1}var _=a.get(r);if(_&&a.get(e))return _==e;var b=!0;a.set(r,e),a.set(e,r);for(var I=c;++m<h;){w=u[m];var P=r[w],A=e[w];if(n)var U=c?n(A,P,w,e,r,a):n(P,A,w,r,e,a);if(!(U===void 0?P===A||i(P,A,t,n,a):U)){b=!1;break}I||(I=w=="constructor")}if(b&&!I){var S=r.constructor,T=e.constructor;S!=T&&"constructor"in r&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof T=="function"&&T instanceof T)&&(b=!1)}return a.delete(r),a.delete(e),b}function KE(r){return HU(r,aM,QU)}function eh(r,e){var t=r.__data__;return eM(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Do(r,e){var t=oU(r,e);return VU(t)?t:void 0}function ZU(r){var e=fn.call(r,ws),t=r[ws];try{r[ws]=void 0;var n=!0}catch{}var i=c3.call(r);return n&&(e?r[ws]=t:delete r[ws]),i}var QU=HE?function(r){return r==null?[]:(r=Object(r),eU(HE(r),function(e){return l3.call(r,e)}))}:cM,Ai=Va;(N0&&Ai(new N0(new ArrayBuffer(1)))!=Ku||ka&&Ai(new ka)!=Wu||L0&&Ai(L0.resolve())!=UE||F0&&Ai(new F0)!=Vu||$0&&Ai(new $0)!=T0)&&(Ai=function(r){var e=Va(r),t=e==Co?r.constructor:void 0,n=t?_s(t):"";if(n)switch(n){case mU:return Ku;case vU:return Wu;case wU:return UE;case yU:return Vu;case bU:return T0}return e});function XU(r,e){return e=e??YE,!!e&&(typeof r=="number"||Q$.test(r))&&r>-1&&r%1==0&&r<e}function eM(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function tM(r){return!!qE&&qE in r}function rM(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||Qu;return r===t}function nM(r){return c3.call(r)}function _s(r){if(r!=null){try{return a3.call(r)}catch{}try{return r+""}catch{}}return""}function f3(r,e){return r===e||r!==r&&e!==e}var iM=VE(function(){return arguments}())?VE:function(r){return Wa(r)&&fn.call(r,"callee")&&!l3.call(r,"callee")},Ju=Array.isArray;function sM(r){return r!=null&&p3(r.length)&&!d3(r)}var U0=pU||lM;function oM(r,e){return u3(r,e)}function d3(r){if(!g3(r))return!1;var e=Va(r);return e==XE||e==$$||e==F$||e==M$}function p3(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=YE}function g3(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}function Wa(r){return r!=null&&typeof r=="object"}var m3=jE?iU(jE):KU;function aM(r){return sM(r)?kU(r):GU(r)}function cM(){return[]}function lM(){return!1}So.exports=oM});var B0=Q((mG,w3)=>{w3.exports=function(r,e){return e=e||{},new Promise(function(t,n){var i=new XMLHttpRequest,a=[],c=[],u={},h=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:h,headers:{keys:function(){return a},entries:function(){return c},get:function(p){return u[p.toLowerCase()]},has:function(p){return p.toLowerCase()in u}}}};for(var f in i.open(e.method||"get",r,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(p,m,w){a.push(m=m.toLowerCase()),c.push([m,w]),u[m]=u[m]?u[m]+","+w:w}),t(h())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(f,e.headers[f]);i.send(e.body||null)})}});var b3=Q((vG,y3)=>{y3.exports=self.fetch||(self.fetch=B0().default||B0())});var c5=Q((Ri,a5)=>{var sh=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,oh=function(){function r(){this.fetch=!1,this.DOMException=sh.DOMException}return r.prototype=sh,new r}();(function(r){var e=function(t){var n=typeof r<"u"&&r||typeof self<"u"&&self||typeof global<"u"&&global||{},i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function a(x){return x&&DataView.prototype.isPrototypeOf(x)}if(i.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(x){return x&&c.indexOf(Object.prototype.toString.call(x))>-1};function h(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(x)||x==="")throw new TypeError('Invalid character in header field name: "'+x+'"');return x.toLowerCase()}function f(x){return typeof x!="string"&&(x=String(x)),x}function p(x){var N={next:function(){var G=x.shift();return{done:G===void 0,value:G}}};return i.iterable&&(N[Symbol.iterator]=function(){return N}),N}function m(x){this.map={},x instanceof m?x.forEach(function(N,G){this.append(G,N)},this):Array.isArray(x)?x.forEach(function(N){if(N.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+N.length);this.append(N[0],N[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(N){this.append(N,x[N])},this)}m.prototype.append=function(x,N){x=h(x),N=f(N);var G=this.map[x];this.map[x]=G?G+", "+N:N},m.prototype.delete=function(x){delete this.map[h(x)]},m.prototype.get=function(x){return x=h(x),this.has(x)?this.map[x]:null},m.prototype.has=function(x){return this.map.hasOwnProperty(h(x))},m.prototype.set=function(x,N){this.map[h(x)]=f(N)},m.prototype.forEach=function(x,N){for(var G in this.map)this.map.hasOwnProperty(G)&&x.call(N,this.map[G],G,this)},m.prototype.keys=function(){var x=[];return this.forEach(function(N,G){x.push(G)}),p(x)},m.prototype.values=function(){var x=[];return this.forEach(function(N){x.push(N)}),p(x)},m.prototype.entries=function(){var x=[];return this.forEach(function(N,G){x.push([G,N])}),p(x)},i.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function w(x){if(!x._noBody){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}}function _(x){return new Promise(function(N,G){x.onload=function(){N(x.result)},x.onerror=function(){G(x.error)}})}function b(x){var N=new FileReader,G=_(N);return N.readAsArrayBuffer(x),G}function I(x){var N=new FileReader,G=_(N),ie=/charset=([A-Za-z0-9_-]+)/.exec(x.type),H=ie?ie[1]:"utf-8";return N.readAsText(x,H),G}function P(x){for(var N=new Uint8Array(x),G=new Array(N.length),ie=0;ie<N.length;ie++)G[ie]=String.fromCharCode(N[ie]);return G.join("")}function A(x){if(x.slice)return x.slice(0);var N=new Uint8Array(x.byteLength);return N.set(new Uint8Array(x)),N.buffer}function U(){return this.bodyUsed=!1,this._initBody=function(x){this.bodyUsed=this.bodyUsed,this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:i.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:i.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():i.arrayBuffer&&i.blob&&a(x)?(this._bodyArrayBuffer=A(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||u(x))?this._bodyArrayBuffer=A(x):this._bodyText=x=Object.prototype.toString.call(x):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var x=w(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var x=w(this);return x||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(i.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var x=w(this);if(x)return x;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function T(x){var N=x.toUpperCase();return S.indexOf(N)>-1?N:x}function L(x,N){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N=N||{};var G=N.body;if(x instanceof L){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,N.headers||(this.headers=new m(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!G&&x._bodyInit!=null&&(G=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new m(N.headers)),this.method=T(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal||function(){if("AbortController"in n){var R=new AbortController;return R.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&G)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(G),(this.method==="GET"||this.method==="HEAD")&&(N.cache==="no-store"||N.cache==="no-cache")){var ie=/([?&])_=[^&]*/;if(ie.test(this.url))this.url=this.url.replace(ie,"$1_="+new Date().getTime());else{var H=/\?/;this.url+=(H.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})};function W(x){var N=new FormData;return x.trim().split("&").forEach(function(G){if(G){var ie=G.split("="),H=ie.shift().replace(/\+/g," "),R=ie.join("=").replace(/\+/g," ");N.append(decodeURIComponent(H),decodeURIComponent(R))}}),N}function B(x){var N=new m,G=x.replace(/\r?\n[\t ]+/g," ");return G.split("\r").map(function(ie){return ie.indexOf(`
`)===0?ie.substr(1,ie.length):ie}).forEach(function(ie){var H=ie.split(":"),R=H.shift().trim();if(R){var $=H.join(":").trim();try{N.append(R,$)}catch(K){console.warn("Response "+K.message)}}}),N}U.call(L.prototype);function q(x,N){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=N.statusText===void 0?"":""+N.statusText,this.headers=new m(N.headers),this.url=N.url||"",this._initBody(x)}U.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},q.error=function(){var x=new q(null,{status:200,statusText:""});return x.ok=!1,x.status=0,x.type="error",x};var M=[301,302,303,307,308];q.redirect=function(x,N){if(M.indexOf(N)===-1)throw new RangeError("Invalid status code");return new q(null,{status:N,headers:{location:x}})},t.DOMException=n.DOMException;try{new t.DOMException}catch{t.DOMException=function(N,G){this.message=N,this.name=G;var ie=Error(N);this.stack=ie.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function Y(x,N){return new Promise(function(G,ie){var H=new L(x,N);if(H.signal&&H.signal.aborted)return ie(new t.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function $(){R.abort()}R.onload=function(){var J={statusText:R.statusText,headers:B(R.getAllResponseHeaders()||"")};H.url.indexOf("file://")===0&&(R.status<200||R.status>599)?J.status=200:J.status=R.status,J.url="responseURL"in R?R.responseURL:J.headers.get("X-Request-URL");var X="response"in R?R.response:R.responseText;setTimeout(function(){G(new q(X,J))},0)},R.onerror=function(){setTimeout(function(){ie(new TypeError("Network request failed"))},0)},R.ontimeout=function(){setTimeout(function(){ie(new TypeError("Network request timed out"))},0)},R.onabort=function(){setTimeout(function(){ie(new t.DOMException("Aborted","AbortError"))},0)};function K(J){try{return J===""&&n.location.href?n.location.href:J}catch{return J}}if(R.open(H.method,K(H.url),!0),H.credentials==="include"?R.withCredentials=!0:H.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&(i.blob?R.responseType="blob":i.arrayBuffer&&(R.responseType="arraybuffer")),N&&typeof N.headers=="object"&&!(N.headers instanceof m||n.Headers&&N.headers instanceof n.Headers)){var ce=[];Object.getOwnPropertyNames(N.headers).forEach(function(J){ce.push(h(J)),R.setRequestHeader(J,f(N.headers[J]))}),H.headers.forEach(function(J,X){ce.indexOf(X)===-1&&R.setRequestHeader(X,J)})}else H.headers.forEach(function(J,X){R.setRequestHeader(X,J)});H.signal&&(H.signal.addEventListener("abort",$),R.onreadystatechange=function(){R.readyState===4&&H.signal.removeEventListener("abort",$)}),R.send(typeof H._bodyInit>"u"?null:H._bodyInit)})}return Y.polyfill=!0,n.fetch||(n.fetch=Y,n.Headers=m,n.Request=L,n.Response=q),t.Headers=m,t.Request=L,t.Response=q,t.fetch=Y,Object.defineProperty(t,"__esModule",{value:!0}),t}({})})(oh);oh.fetch.ponyfill=!0;delete oh.fetch.polyfill;var Po=sh.fetch?sh:oh;Ri=Po.fetch;Ri.default=Po.fetch;Ri.fetch=Po.fetch;Ri.Headers=Po.Headers;Ri.Request=Po.Request;Ri.Response=Po.Response;a5.exports=Ri});var JG,tq,O5,Fg,rq,P5,$g,R5=te(()=>{JG=Symbol(),tq=Symbol(),O5=Object.getPrototypeOf,Fg=new WeakMap,rq=r=>r&&(Fg.has(r)?Fg.get(r):O5(r)===Object.prototype||O5(r)===Array.prototype),P5=r=>rq(r)&&r[tq]||null,$g=(r,e=!0)=>{Fg.set(r,e)}});function Vn(r={}){return iq(r)}function Fi(r,e,t){let n=Ni.get(r);(Li.env?Li.env.MODE:void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i,a=[],c=n[3],u=!1,f=c(p=>{if(a.push(p),t){e(a.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,u&&e(a.splice(0))}))});return u=!0,()=>{u=!1,f()}}function T5(r,e){let t=Ni.get(r);(Li.env?Li.env.MODE:void 0)!=="production"&&!t&&console.warn("Please use proxy object");let[n,i,a]=t;return a(n,i(),e)}var Li,Ug,Ni,lh,nq,iq,N5=te(()=>{R5();Li={},Ug=r=>typeof r=="object"&&r!==null,Ni=new WeakMap,lh=new WeakSet,nq=(r=Object.is,e=(f,p)=>new Proxy(f,p),t=f=>Ug(f)&&!lh.has(f)&&(Array.isArray(f)||!(Symbol.iterator in f))&&!(f instanceof WeakMap)&&!(f instanceof WeakSet)&&!(f instanceof Error)&&!(f instanceof Number)&&!(f instanceof Date)&&!(f instanceof String)&&!(f instanceof RegExp)&&!(f instanceof ArrayBuffer),n=f=>{switch(f.status){case"fulfilled":return f.value;case"rejected":throw f.reason;default:throw f}},i=new WeakMap,a=(f,p,m=n)=>{let w=i.get(f);if(w?.[0]===p)return w[1];let _=Array.isArray(f)?[]:Object.create(Object.getPrototypeOf(f));return $g(_,!0),i.set(f,[p,_]),Reflect.ownKeys(f).forEach(b=>{if(Object.getOwnPropertyDescriptor(_,b))return;let I=Reflect.get(f,b),P={value:I,enumerable:!0,configurable:!0};if(lh.has(I))$g(I,!1);else if(I instanceof Promise)delete P.value,P.get=()=>m(I);else if(Ni.has(I)){let[A,U]=Ni.get(I);P.value=a(A,U(),m)}Object.defineProperty(_,b,P)}),Object.preventExtensions(_)},c=new WeakMap,u=[1,1],h=f=>{if(!Ug(f))throw new Error("object required");let p=c.get(f);if(p)return p;let m=u[0],w=new Set,_=(M,Y=++u[0])=>{m!==Y&&(m=Y,w.forEach(x=>x(M,Y)))},b=u[1],I=(M=++u[1])=>(b!==M&&!w.size&&(b=M,A.forEach(([Y])=>{let x=Y[1](M);x>m&&(m=x)})),m),P=M=>(Y,x)=>{let N=[...Y];N[1]=[M,...N[1]],_(N,x)},A=new Map,U=(M,Y)=>{if((Li.env?Li.env.MODE:void 0)!=="production"&&A.has(M))throw new Error("prop listener already exists");if(w.size){let x=Y[3](P(M));A.set(M,[Y,x])}else A.set(M,[Y])},S=M=>{var Y;let x=A.get(M);x&&(A.delete(M),(Y=x[1])==null||Y.call(x))},T=M=>(w.add(M),w.size===1&&A.forEach(([x,N],G)=>{if((Li.env?Li.env.MODE:void 0)!=="production"&&N)throw new Error("remove already exists");let ie=x[3](P(G));A.set(G,[x,ie])}),()=>{w.delete(M),w.size===0&&A.forEach(([x,N],G)=>{N&&(N(),A.set(G,[x]))})}),L=Array.isArray(f)?[]:Object.create(Object.getPrototypeOf(f)),B=e(L,{deleteProperty(M,Y){let x=Reflect.get(M,Y);S(Y);let N=Reflect.deleteProperty(M,Y);return N&&_(["delete",[Y],x]),N},set(M,Y,x,N){let G=Reflect.has(M,Y),ie=Reflect.get(M,Y,N);if(G&&(r(ie,x)||c.has(x)&&r(ie,c.get(x))))return!0;S(Y),Ug(x)&&(x=P5(x)||x);let H=x;if(x instanceof Promise)x.then(R=>{x.status="fulfilled",x.value=R,_(["resolve",[Y],R])}).catch(R=>{x.status="rejected",x.reason=R,_(["reject",[Y],R])});else{!Ni.has(x)&&t(x)&&(H=h(x));let R=!lh.has(H)&&Ni.get(H);R&&U(Y,R)}return Reflect.set(M,Y,H,N),_(["set",[Y],x,ie]),!0}});c.set(f,B);let q=[L,I,a,T];return Ni.set(B,q),Reflect.ownKeys(f).forEach(M=>{let Y=Object.getOwnPropertyDescriptor(f,M);"value"in Y&&(B[M]=f[M],delete Y.value,delete Y.writable),Object.defineProperty(L,M,Y)}),B})=>[h,Ni,lh,r,e,t,n,i,a,c,u],[iq]=nq()});async function hh(r,e){let t=lq({sdkType:Bg,sdkVersion:jg},e),n=new URL(r,Mg);return n.searchParams.append("projectId",nr.state.projectId),Object.entries(t).forEach(([a,c])=>{c&&n.searchParams.append(a,String(c))}),(await fetch(n)).json()}function wq(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}var Ot,st,oe,sq,Vt,qg,pn,lt,uh,nr,oq,L5,aq,cq,F5,lq,Mg,Bg,jg,Ss,uq,$5,hq,fq,U5,dq,M5,gn,ir,Ro,Kn,pq,B5,gq,mq,j5,vq,Za,mn,Ds,Gn,zg=te(()=>{N5();Ot=Vn({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),st={state:Ot,subscribe(r){return Fi(Ot,()=>r(Ot))},push(r,e){r!==Ot.view&&(Ot.view=r,e&&(Ot.data=e),Ot.history.push(r))},reset(r){Ot.view=r,Ot.history=[r]},replace(r){Ot.history.length>1&&(Ot.history[Ot.history.length-1]=r,Ot.view=r)},goBack(){if(Ot.history.length>1){Ot.history.pop();let[r]=Ot.history.slice(-1);Ot.view=r}},setData(r){Ot.data=r}},oe={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return oe.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){let r=navigator.userAgent.toLowerCase();return oe.isMobile()&&(r.includes("iphone")||r.includes("ipad"))},isHttpUrl(r){return r.startsWith("http://")||r.startsWith("https://")},isArray(r){return Array.isArray(r)&&r.length>0},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},formatNativeUrl(r,e,t){if(oe.isHttpUrl(r))return this.formatUniversalUrl(r,e,t);let n=r;n.includes("://")||(n=r.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,t);let i=encodeURIComponent(e);return`${n}wc?uri=${i}`},formatUniversalUrl(r,e,t){if(!oe.isHttpUrl(r))return this.formatNativeUrl(r,e,t);let n=r;if(n.startsWith("https://t.me")){let a=Buffer.from(e).toString("base64").replace(/[=]/g,"");n.endsWith("/")&&(n=n.slice(0,-1)),this.setWalletConnectDeepLink(n,t);let c=new URL(n);return c.searchParams.set("startapp",a),c.toString()}n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,t);let i=encodeURIComponent(e);return`${n}wc?uri=${i}`},async wait(r){return new Promise(e=>{setTimeout(e,r)})},openHref(r,e){let t=this.isTelegram()?"_blank":e;window.open(r,t,"noreferrer noopener")},setWalletConnectDeepLink(r,e){try{localStorage.setItem(oe.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:r,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(r){try{let[e]=r.split("?");localStorage.setItem(oe.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(oe.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(oe.WCM_VERSION,"2.7.0")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var r;let e=(r=st.state.data)==null?void 0:r.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},sq=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),Vt=Vn({enabled:sq,userSessionId:"",events:[],connectedWalletId:void 0}),qg={state:Vt,subscribe(r){return Fi(Vt.events,()=>r(T5(Vt.events[Vt.events.length-1])))},initialize(){Vt.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(Vt.userSessionId=crypto.randomUUID())},setConnectedWalletId(r){Vt.connectedWalletId=r},click(r){if(Vt.enabled){let e={type:"CLICK",name:r.name,userSessionId:Vt.userSessionId,timestamp:Date.now(),data:r};Vt.events.push(e)}},track(r){if(Vt.enabled){let e={type:"TRACK",name:r.name,userSessionId:Vt.userSessionId,timestamp:Date.now(),data:r};Vt.events.push(e)}},view(r){if(Vt.enabled){let e={type:"VIEW",name:r.name,userSessionId:Vt.userSessionId,timestamp:Date.now(),data:r};Vt.events.push(e)}}},pn=Vn({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),lt={state:pn,subscribe(r){return Fi(pn,()=>r(pn))},setChains(r){pn.chains=r},setWalletConnectUri(r){pn.walletConnectUri=r},setIsCustomDesktop(r){pn.isCustomDesktop=r},setIsCustomMobile(r){pn.isCustomMobile=r},setIsDataLoaded(r){pn.isDataLoaded=r},setIsUiLoaded(r){pn.isUiLoaded=r},setIsAuth(r){pn.isAuth=r}},uh=Vn({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),nr={state:uh,subscribe(r){return Fi(uh,()=>r(uh))},setConfig(r){var e,t;qg.initialize(),lt.setChains(r.chains),lt.setIsAuth(!!r.enableAuthMode),lt.setIsCustomMobile(!!((e=r.mobileWallets)!=null&&e.length)),lt.setIsCustomDesktop(!!((t=r.desktopWallets)!=null&&t.length)),oe.setModalVersionInStorage(),Object.assign(uh,r)}},oq=Object.defineProperty,L5=Object.getOwnPropertySymbols,aq=Object.prototype.hasOwnProperty,cq=Object.prototype.propertyIsEnumerable,F5=(r,e,t)=>e in r?oq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,lq=(r,e)=>{for(var t in e||(e={}))aq.call(e,t)&&F5(r,t,e[t]);if(L5)for(var t of L5(e))cq.call(e,t)&&F5(r,t,e[t]);return r},Mg="https://explorer-api.walletconnect.com",Bg="wcm",jg="js-2.7.0";Ss={async getDesktopListings(r){return hh("/w3m/v1/getDesktopListings",r)},async getMobileListings(r){return hh("/w3m/v1/getMobileListings",r)},async getInjectedListings(r){return hh("/w3m/v1/getInjectedListings",r)},async getAllListings(r){return hh("/w3m/v1/getAllListings",r)},getWalletImageUrl(r){return`${Mg}/w3m/v1/getWalletImage/${r}?projectId=${nr.state.projectId}&sdkType=${Bg}&sdkVersion=${jg}`},getAssetImageUrl(r){return`${Mg}/w3m/v1/getAssetImage/${r}?projectId=${nr.state.projectId}&sdkType=${Bg}&sdkVersion=${jg}`}},uq=Object.defineProperty,$5=Object.getOwnPropertySymbols,hq=Object.prototype.hasOwnProperty,fq=Object.prototype.propertyIsEnumerable,U5=(r,e,t)=>e in r?uq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dq=(r,e)=>{for(var t in e||(e={}))hq.call(e,t)&&U5(r,t,e[t]);if($5)for(var t of $5(e))fq.call(e,t)&&U5(r,t,e[t]);return r},M5=oe.isMobile(),gn=Vn({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),ir={state:gn,async getRecomendedWallets(){let{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:e}=nr.state;if(r==="NONE"||e==="ALL"&&!r)return gn.recomendedWallets;if(oe.isArray(r)){let n={recommendedIds:r.join(",")},{listings:i}=await Ss.getAllListings(n),a=Object.values(i);a.sort((c,u)=>{let h=r.indexOf(c.id),f=r.indexOf(u.id);return h-f}),gn.recomendedWallets=a}else{let{chains:t,isAuth:n}=lt.state,i=t?.join(","),a=oe.isArray(e),c={page:1,sdks:n?"auth_v1":void 0,entries:oe.RECOMMENDED_WALLET_AMOUNT,chains:i,version:2,excludedIds:a?e.join(","):void 0},{listings:u}=M5?await Ss.getMobileListings(c):await Ss.getDesktopListings(c);gn.recomendedWallets=Object.values(u)}return gn.recomendedWallets},async getWallets(r){let e=dq({},r),{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:n}=nr.state,{recomendedWallets:i}=gn;if(n==="ALL")return gn.wallets;i.length?e.excludedIds=i.map(m=>m.id).join(","):oe.isArray(t)&&(e.excludedIds=t.join(",")),oe.isArray(n)&&(e.excludedIds=[e.excludedIds,n].filter(Boolean).join(",")),lt.state.isAuth&&(e.sdks="auth_v1");let{page:a,search:c}=r,{listings:u,total:h}=M5?await Ss.getMobileListings(e):await Ss.getDesktopListings(e),f=Object.values(u),p=c?"search":"wallets";return gn[p]={listings:[...gn[p].listings,...f],total:h,page:a??1},{listings:f,total:h}},getWalletImageUrl(r){return Ss.getWalletImageUrl(r)},getAssetImageUrl(r){return Ss.getAssetImageUrl(r)},resetSearch(){gn.search={listings:[],total:0,page:1}}},Ro=Vn({open:!1}),Kn={state:Ro,subscribe(r){return Fi(Ro,()=>r(Ro))},async open(r){return new Promise(e=>{let{isUiLoaded:t,isDataLoaded:n}=lt.state;if(oe.removeWalletConnectDeepLink(),lt.setWalletConnectUri(r?.uri),lt.setChains(r?.chains),st.reset("ConnectWallet"),t&&n)Ro.open=!0,e();else{let i=setInterval(()=>{let a=lt.state;a.isUiLoaded&&a.isDataLoaded&&(clearInterval(i),Ro.open=!0,e())},200)}})},close(){Ro.open=!1}},pq=Object.defineProperty,B5=Object.getOwnPropertySymbols,gq=Object.prototype.hasOwnProperty,mq=Object.prototype.propertyIsEnumerable,j5=(r,e,t)=>e in r?pq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,vq=(r,e)=>{for(var t in e||(e={}))gq.call(e,t)&&j5(r,t,e[t]);if(B5)for(var t of B5(e))mq.call(e,t)&&j5(r,t,e[t]);return r};Za=Vn({themeMode:wq()?"dark":"light"}),mn={state:Za,subscribe(r){return Fi(Za,()=>r(Za))},setThemeConfig(r){let{themeMode:e,themeVariables:t}=r;e&&(Za.themeMode=e),t&&(Za.themeVariables=vq({},t))}},Ds=Vn({open:!1,message:"",variant:"success"}),Gn={state:Ds,subscribe(r){return Fi(Ds,()=>r(Ds))},openToast(r,e){Ds.open=!0,Ds.message=r,Ds.variant=e},closeToast(){Ds.open=!1}}});var fh,dh,kg,q5,Qa,z5,Fe,Hg,ph,Wg=te(()=>{fh=window,dh=fh.ShadowRoot&&(fh.ShadyCSS===void 0||fh.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,kg=Symbol(),q5=new WeakMap,Qa=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==kg)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(dh&&e===void 0){let n=t!==void 0&&t.length===1;n&&(e=q5.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&q5.set(t,e))}return e}toString(){return this.cssText}},z5=r=>new Qa(typeof r=="string"?r:r+"",void 0,kg),Fe=(r,...e)=>{let t=r.length===1?r[0]:e.reduce((n,i,a)=>n+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+r[a+1],r[0]);return new Qa(t,r,kg)},Hg=(r,e)=>{dh?r.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):e.forEach(t=>{let n=document.createElement("style"),i=fh.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=t.cssText,r.appendChild(n)})},ph=dh?r=>r:r=>r instanceof CSSStyleSheet?(e=>{let t="";for(let n of e.cssRules)t+=n.cssText;return z5(t)})(r):r});var Vg,gh,k5,yq,H5,Gg,W5,Kg,Yg,Yn,mh=te(()=>{Wg();Wg();gh=window,k5=gh.trustedTypes,yq=k5?k5.emptyScript:"",H5=gh.reactiveElementPolyfillSupport,Gg={toAttribute(r,e){switch(e){case Boolean:r=r?yq:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,e){let t=r;switch(e){case Boolean:t=r!==null;break;case Number:t=r===null?null:Number(r);break;case Object:case Array:try{t=JSON.parse(r)}catch{t=null}}return t}},W5=(r,e)=>e!==r&&(e==e||r==r),Kg={attribute:!0,type:String,converter:Gg,reflect:!1,hasChanged:W5},Yg="finalized",Yn=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((t,n)=>{let i=this._$Ep(n,t);i!==void 0&&(this._$Ev.set(i,n),e.push(i))}),e}static createProperty(e,t=Kg){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let n=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,n,t);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,t,n){return{get(){return this[t]},set(i){let a=this[e];this[t]=i,this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Kg}static finalize(){if(this.hasOwnProperty(Yg))return!1;this[Yg]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let t=this.properties,n=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let i of n)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let n=new Set(e.flat(1/0).reverse());for(let i of n)t.unshift(ph(i))}else e!==void 0&&t.push(ph(e));return t}static _$Ep(e,t){let n=t.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,n;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)===null||n===void 0||n.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;let t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return Hg(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var n;return(n=t.hostConnected)===null||n===void 0?void 0:n.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var n;return(n=t.hostDisconnected)===null||n===void 0?void 0:n.call(t)})}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EO(e,t,n=Kg){var i;let a=this.constructor._$Ep(e,n);if(a!==void 0&&n.reflect===!0){let c=(((i=n.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?n.converter:Gg).toAttribute(t,n.type);this._$El=e,c==null?this.removeAttribute(a):this.setAttribute(a,c),this._$El=null}}_$AK(e,t){var n;let i=this.constructor,a=i._$Ev.get(e);if(a!==void 0&&this._$El!==a){let c=i.getPropertyOptions(a),u=typeof c.converter=="function"?{fromAttribute:c.converter}:((n=c.converter)===null||n===void 0?void 0:n.fromAttribute)!==void 0?c.converter:Gg;this._$El=a,this[a]=u.fromAttribute(t,c.type),this._$El=null}}requestUpdate(e,t,n){let i=!0;e!==void 0&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||W5)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),n.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,a)=>this[a]=i),this._$Ei=void 0);let t=!1,n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var a;return(a=i.hostUpdate)===null||a===void 0?void 0:a.call(i)}),this.update(n)):this._$Ek()}catch(i){throw t=!1,this._$Ek(),i}t&&this._$AE(n)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(n=>{var i;return(i=n.hostUpdated)===null||i===void 0?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,n)=>this._$EO(n,this[n],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};Yn[Yg]=!0,Yn.elementProperties=new Map,Yn.elementStyles=[],Yn.shadowRootOptions={mode:"open"},H5?.({ReactiveElement:Yn}),((Vg=gh.reactiveElementVersions)!==null&&Vg!==void 0?Vg:gh.reactiveElementVersions=[]).push("1.6.3")});function nx(r,e){if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return V5!==void 0?V5.createHTML(e):e}function No(r,e,t=r,n){var i,a,c,u;if(e===Jn)return e;let h=n!==void 0?(i=t._$Co)===null||i===void 0?void 0:i[n]:t._$Cl,f=tc(e)?void 0:e._$litDirective$;return h?.constructor!==f&&((a=h?._$AO)===null||a===void 0||a.call(h,!1),f===void 0?h=void 0:(h=new f(r),h._$AT(r,t,n)),n!==void 0?((c=(u=t)._$Co)!==null&&c!==void 0?c:u._$Co=[])[n]=h:t._$Cl=h),h!==void 0&&(e=No(r,h._$AS(r,e.values),h,n)),e}var Jg,vh,To,V5,Qg,$i,X5,bq,Ps,ec,tc,ex,_q,Zg,Xa,K5,G5,As,Y5,J5,tx,rx,ee,ot,Jn,yt,Z5,Os,Eq,rc,Xg,nc,Lo,em,xq,tm,rm,nm,Q5,ix,Rs=te(()=>{vh=window,To=vh.trustedTypes,V5=To?To.createPolicy("lit-html",{createHTML:r=>r}):void 0,Qg="$lit$",$i=`lit$${(Math.random()+"").slice(9)}$`,X5="?"+$i,bq=`<${X5}>`,Ps=document,ec=()=>Ps.createComment(""),tc=r=>r===null||typeof r!="object"&&typeof r!="function",ex=Array.isArray,_q=r=>ex(r)||typeof r?.[Symbol.iterator]=="function",Zg=`[ 	
\f\r]`,Xa=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,K5=/-->/g,G5=/>/g,As=RegExp(`>|${Zg}(?:([^\\s"'>=/]+)(${Zg}*=${Zg}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Y5=/'/g,J5=/"/g,tx=/^(?:script|style|textarea|title)$/i,rx=r=>(e,...t)=>({_$litType$:r,strings:e,values:t}),ee=rx(1),ot=rx(2),Jn=Symbol.for("lit-noChange"),yt=Symbol.for("lit-nothing"),Z5=new WeakMap,Os=Ps.createTreeWalker(Ps,129,null,!1);Eq=(r,e)=>{let t=r.length-1,n=[],i,a=e===2?"<svg>":"",c=Xa;for(let u=0;u<t;u++){let h=r[u],f,p,m=-1,w=0;for(;w<h.length&&(c.lastIndex=w,p=c.exec(h),p!==null);)w=c.lastIndex,c===Xa?p[1]==="!--"?c=K5:p[1]!==void 0?c=G5:p[2]!==void 0?(tx.test(p[2])&&(i=RegExp("</"+p[2],"g")),c=As):p[3]!==void 0&&(c=As):c===As?p[0]===">"?(c=i??Xa,m=-1):p[1]===void 0?m=-2:(m=c.lastIndex-p[2].length,f=p[1],c=p[3]===void 0?As:p[3]==='"'?J5:Y5):c===J5||c===Y5?c=As:c===K5||c===G5?c=Xa:(c=As,i=void 0);let _=c===As&&r[u+1].startsWith("/>")?" ":"";a+=c===Xa?h+bq:m>=0?(n.push(f),h.slice(0,m)+Qg+h.slice(m)+$i+_):h+$i+(m===-2?(n.push(void 0),u):_)}return[nx(r,a+(r[t]||"<?>")+(e===2?"</svg>":"")),n]},rc=class r{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let a=0,c=0,u=e.length-1,h=this.parts,[f,p]=Eq(e,t);if(this.el=r.createElement(f,n),Os.currentNode=this.el.content,t===2){let m=this.el.content,w=m.firstChild;w.remove(),m.append(...w.childNodes)}for(;(i=Os.nextNode())!==null&&h.length<u;){if(i.nodeType===1){if(i.hasAttributes()){let m=[];for(let w of i.getAttributeNames())if(w.endsWith(Qg)||w.startsWith($i)){let _=p[c++];if(m.push(w),_!==void 0){let b=i.getAttribute(_.toLowerCase()+Qg).split($i),I=/([.?@])?(.*)/.exec(_);h.push({type:1,index:a,name:I[2],strings:b,ctor:I[1]==="."?em:I[1]==="?"?tm:I[1]==="@"?rm:Lo})}else h.push({type:6,index:a})}for(let w of m)i.removeAttribute(w)}if(tx.test(i.tagName)){let m=i.textContent.split($i),w=m.length-1;if(w>0){i.textContent=To?To.emptyScript:"";for(let _=0;_<w;_++)i.append(m[_],ec()),Os.nextNode(),h.push({type:2,index:++a});i.append(m[w],ec())}}}else if(i.nodeType===8)if(i.data===X5)h.push({type:2,index:a});else{let m=-1;for(;(m=i.data.indexOf($i,m+1))!==-1;)h.push({type:7,index:a}),m+=$i.length-1}a++}}static createElement(e,t){let n=Ps.createElement("template");return n.innerHTML=e,n}};Xg=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:n},parts:i}=this._$AD,a=((t=e?.creationScope)!==null&&t!==void 0?t:Ps).importNode(n,!0);Os.currentNode=a;let c=Os.nextNode(),u=0,h=0,f=i[0];for(;f!==void 0;){if(u===f.index){let p;f.type===2?p=new nc(c,c.nextSibling,this,e):f.type===1?p=new f.ctor(c,f.name,f.strings,this,e):f.type===6&&(p=new nm(c,this,e)),this._$AV.push(p),f=i[++h]}u!==f?.index&&(c=Os.nextNode(),u++)}return Os.currentNode=Ps,a}v(e){let t=0;for(let n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}},nc=class r{constructor(e,t,n,i){var a;this.type=2,this._$AH=yt,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$Cp=(a=i?.isConnected)===null||a===void 0||a}get _$AU(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=No(this,e,t),tc(e)?e===yt||e==null||e===""?(this._$AH!==yt&&this._$AR(),this._$AH=yt):e!==this._$AH&&e!==Jn&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):_q(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==yt&&tc(this._$AH)?this._$AA.nextSibling.data=e:this.$(Ps.createTextNode(e)),this._$AH=e}g(e){var t;let{values:n,_$litType$:i}=e,a=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=rc.createElement(nx(i.h,i.h[0]),this.options)),i);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===a)this._$AH.v(n);else{let c=new Xg(a,this),u=c.u(this.options);c.v(n),this.$(u),this._$AH=c}}_$AC(e){let t=Z5.get(e.strings);return t===void 0&&Z5.set(e.strings,t=new rc(e)),t}T(e){ex(this._$AH)||(this._$AH=[],this._$AR());let t=this._$AH,n,i=0;for(let a of e)i===t.length?t.push(n=new r(this.k(ec()),this.k(ec()),this,this.options)):n=t[i],n._$AI(a),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,t);e&&e!==this._$AB;){let i=e.nextSibling;e.remove(),e=i}}setConnected(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}},Lo=class{constructor(e,t,n,i,a){this.type=1,this._$AH=yt,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=a,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=yt}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,n,i){let a=this.strings,c=!1;if(a===void 0)e=No(this,e,t,0),c=!tc(e)||e!==this._$AH&&e!==Jn,c&&(this._$AH=e);else{let u=e,h,f;for(e=a[0],h=0;h<a.length-1;h++)f=No(this,u[n+h],t,h),f===Jn&&(f=this._$AH[h]),c||(c=!tc(f)||f!==this._$AH[h]),f===yt?e=yt:e!==yt&&(e+=(f??"")+a[h+1]),this._$AH[h]=f}c&&!i&&this.j(e)}j(e){e===yt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},em=class extends Lo{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===yt?void 0:e}},xq=To?To.emptyScript:"",tm=class extends Lo{constructor(){super(...arguments),this.type=4}j(e){e&&e!==yt?this.element.setAttribute(this.name,xq):this.element.removeAttribute(this.name)}},rm=class extends Lo{constructor(e,t,n,i,a){super(e,t,n,i,a),this.type=5}_$AI(e,t=this){var n;if((e=(n=No(this,e,t,0))!==null&&n!==void 0?n:yt)===Jn)return;let i=this._$AH,a=e===yt&&i!==yt||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,c=e!==yt&&(i===yt||a);a&&this.element.removeEventListener(this.name,this,i),c&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,n;typeof this._$AH=="function"?this._$AH.call((n=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&n!==void 0?n:this.element,e):this._$AH.handleEvent(e)}},nm=class{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){No(this,e)}},Q5=vh.litHtmlPolyfillSupport;Q5?.(rc,nc),((Jg=vh.litHtmlVersions)!==null&&Jg!==void 0?Jg:vh.litHtmlVersions=[]).push("2.8.0");ix=(r,e,t)=>{var n,i;let a=(n=t?.renderBefore)!==null&&n!==void 0?n:e,c=a._$litPart$;if(c===void 0){let u=(i=t?.renderBefore)!==null&&i!==void 0?i:null;a._$litPart$=c=new nc(e.insertBefore(ec(),u),u,void 0,t??{})}return c._$AI(r),c}});var im,sm,xe,sx,ox=te(()=>{mh();mh();Rs();Rs();xe=class extends Yn{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let n=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=n.firstChild),n}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=ix(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return Jn}};xe.finalized=!0,xe._$litElement$=!0,(im=globalThis.litElementHydrateSupport)===null||im===void 0||im.call(globalThis,{LitElement:xe});sx=globalThis.litElementPolyfillSupport;sx?.({LitElement:xe});((sm=globalThis.litElementVersions)!==null&&sm!==void 0?sm:globalThis.litElementVersions=[]).push("3.3.3")});var ax=te(()=>{});var cx=te(()=>{mh();Rs();ox();ax()});var Ne,lx=te(()=>{Ne=r=>e=>typeof e=="function"?((t,n)=>(customElements.define(t,n),n))(r,e):((t,n)=>{let{kind:i,elements:a}=n;return{kind:i,elements:a,finisher(c){customElements.define(t,c)}}})(r,e)});function _e(r){return(e,t)=>t!==void 0?Cq(r,e,t):Iq(r,e)}var Iq,Cq,om=te(()=>{Iq=(r,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(t){t.createProperty(e.key,r)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(t){t.createProperty(e.key,r)}},Cq=(r,e,t)=>{e.constructor.createProperty(t,r)}});function sr(r){return _e({...r,state:!0})}var ux=te(()=>{om();});var Ts=te(()=>{});var hx=te(()=>{Ts();});var fx=te(()=>{Ts();});var dx=te(()=>{Ts();});var px=te(()=>{Ts();});var am,TY,cm=te(()=>{Ts();TY=((am=window.HTMLSlotElement)===null||am===void 0?void 0:am.prototype.assignedElements)!=null?(r,e)=>r.assignedElements(e):(r,e)=>r.assignedNodes(e).filter(t=>t.nodeType===Node.ELEMENT_NODE)});var gx=te(()=>{Ts();cm();});var mx=te(()=>{lx();om();ux();hx();fx();dx();px();cm();gx()});var vx,wx,wh,yx=te(()=>{vx={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},wx=r=>(...e)=>({_$litDirective$:r,values:e}),wh=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}});var vn,bx=te(()=>{Rs();yx();vn=wx(class extends wh{constructor(r){var e;if(super(r),r.type!==vx.ATTRIBUTE||r.name!=="class"||((e=r.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(r){return" "+Object.keys(r).filter(e=>r[e]).join(" ")+" "}update(r,[e]){var t,n;if(this.it===void 0){this.it=new Set,r.strings!==void 0&&(this.nt=new Set(r.strings.join(" ").split(/\s/).filter(a=>a!=="")));for(let a in e)e[a]&&!(!((t=this.nt)===null||t===void 0)&&t.has(a))&&this.it.add(a);return this.render(e)}let i=r.element.classList;this.it.forEach(a=>{a in e||(i.remove(a),this.it.delete(a))});for(let a in e){let c=!!e[a];c===this.it.has(a)||!((n=this.nt)===null||n===void 0)&&n.has(a)||(c?(i.add(a),this.it.add(a)):(i.remove(a),this.it.delete(a)))}return Jn}})});var _x=te(()=>{bx()});function lm(r,e){r.indexOf(e)===-1&&r.push(e)}var Ex=te(()=>{});var sc,um=te(()=>{sc=(r,e,t)=>Math.min(Math.max(t,r),e)});var Ut,xx=te(()=>{Ut={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"}});var Zn,yh=te(()=>{Zn=r=>typeof r=="number"});var wn,hm=te(()=>{yh();wn=r=>Array.isArray(r)&&!Zn(r[0])});var Ix,Cx=te(()=>{Ix=(r,e,t)=>{let n=e-r;return((t-r)%n+n)%n+r}});function Sx(r,e){return wn(r)?r[Ix(0,r.length,e)]:r}var Dx=te(()=>{hm();Cx()});var bh,fm=te(()=>{bh=(r,e,t)=>-t*r+t*e+r});var oc,or,dm=te(()=>{oc=()=>{},or=r=>r});var Ns,_h=te(()=>{Ns=(r,e,t)=>e-r===0?1:(t-r)/(e-r)});function pm(r,e){let t=r[r.length-1];for(let n=1;n<=e;n++){let i=Ns(0,e,n);r.push(bh(t,1,i))}}function Ax(r){let e=[0];return pm(e,r-1),e}var Ox=te(()=>{fm();_h()});function gm(r,e=Ax(r.length),t=or){let n=r.length,i=n-e.length;return i>0&&pm(e,i),a=>{let c=0;for(;c<n-2&&!(a<e[c+1]);c++);let u=sc(0,1,Ns(e[c],e[c+1],a));return u=Sx(t,c)(u),bh(r[c],r[c+1],u)}}var Px=te(()=>{fm();dm();Ox();_h();Dx();um()});var ac,Rx=te(()=>{yh();ac=r=>Array.isArray(r)&&Zn(r[0])});var Fo,Tx=te(()=>{Fo=r=>typeof r=="object"&&!!r.createAnimation});var Ur,Nx=te(()=>{Ur=r=>typeof r=="function"});var mm,Lx=te(()=>{mm=r=>typeof r=="string"});var Ui,Fx=te(()=>{Ui={ms:r=>r*1e3,s:r=>r/1e3}});var Mr=te(()=>{Ex();um();xx();Px();Rx();Tx();hm();Nx();yh();Lx();dm();_h();Fx()});function Aq(r,e,t,n,i){let a,c,u=0;do c=e+(t-e)/2,a=$x(c,n,i)-r,a>0?t=c:e=c;while(Math.abs(a)>Sq&&++u<Dq);return c}function Ls(r,e,t,n){if(r===e&&t===n)return or;let i=a=>Aq(a,0,1,r,t);return a=>a===0||a===1?a:$x(i(a),e,n)}var $x,Sq,Dq,Ux=te(()=>{Mr();$x=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,Sq=1e-7,Dq=12});var vm,Mx=te(()=>{Mr();vm=(r,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);let n=t*r,i=e==="end"?Math.floor(n):Math.ceil(n);return sc(0,1,i/r)}});var Bx=te(()=>{Ux();Mx()});function wm(r){if(Ur(r))return r;if(ac(r))return Ls(...r);let e=Oq[r];if(e)return e;if(r.startsWith("steps")){let t=Pq.exec(r);if(t){let n=t[1].split(",");return vm(parseFloat(n[0]),n[1].trim())}}return or}var Oq,Pq,jx=te(()=>{Bx();Mr();Oq={ease:Ls(.25,.1,.25,1),"ease-in":Ls(.42,0,1,1),"ease-in-out":Ls(.42,0,.58,1),"ease-out":Ls(0,0,.58,1)},Pq=/\((.*?)\)/});var Fs,qx=te(()=>{Mr();jx();Fs=class{constructor(e,t=[0,1],{easing:n,duration:i=Ut.duration,delay:a=Ut.delay,endDelay:c=Ut.endDelay,repeat:u=Ut.repeat,offset:h,direction:f="normal",autoplay:p=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=or,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((w,_)=>{this.resolve=w,this.reject=_}),n=n||Ut.easing,Fo(n)){let w=n.createAnimation(t);n=w.easing,t=w.keyframes||t,i=w.duration||i}this.repeat=u,this.easing=wn(n)?or:wm(n),this.updateDuration(i);let m=gm(t,h,wn(n)?n.map(wm):or);this.tick=w=>{var _;a=a;let b=0;this.pauseTime!==void 0?b=this.pauseTime:b=(w-this.startTime)*this.rate,this.t=b,b/=1e3,b=Math.max(b-a,0),this.playState==="finished"&&this.pauseTime===void 0&&(b=this.totalDuration);let I=b/this.duration,P=Math.floor(I),A=I%1;!A&&I>=1&&(A=1),A===1&&P--;let U=P%2;(f==="reverse"||f==="alternate"&&U||f==="alternate-reverse"&&!U)&&(A=1-A);let S=b>=this.totalDuration?1:Math.min(A,1),T=m(this.easing(S));e(T),this.pauseTime===void 0&&(this.playState==="finished"||b>=this.totalDuration+c)?(this.playState="finished",(_=this.resolve)===null||_===void 0||_.call(this,T)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},p&&this.play()}play(){let e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}});var ym=te(()=>{qx()});var bm,zx=te(()=>{bm=function(){}});var cc,kx=te(()=>{cc=class{setAnimation(e){this.animation=e,e?.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}});var _m=te(()=>{kx()});function Eh(r){return Em.has(r)||Em.set(r,{transforms:[],values:new Map}),Em.get(r)}function Hx(r,e){return r.has(e)||r.set(e,new cc),r.get(e)}var Em,xm=te(()=>{_m();Em=new WeakMap});var Rq,Tq,lc,Wx,Nq,Mi,Ih,xh,Lq,Fq,Ch,Vx,$q,Uq,uc=te(()=>{Mr();xm();Rq=["","X","Y","Z"],Tq=["translate","scale","rotate","skew"],lc={x:"translateX",y:"translateY",z:"translateZ"},Wx={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:r=>r+"deg"},Nq={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:r=>r+"px"},rotate:Wx,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:or},skew:Wx},Mi=new Map,Ih=r=>`--motion-${r}`,xh=["x","y","z"];Tq.forEach(r=>{Rq.forEach(e=>{xh.push(r+e),Mi.set(Ih(r+e),Nq[r])})});Lq=(r,e)=>xh.indexOf(r)-xh.indexOf(e),Fq=new Set(xh),Ch=r=>Fq.has(r),Vx=(r,e)=>{lc[e]&&(e=lc[e]);let{transforms:t}=Eh(r);lm(t,e),r.style.transform=$q(t)},$q=r=>r.sort(Lq).reduce(Uq,"").trim(),Uq=(r,e)=>`${r} ${e}(var(${Ih(e)}))`});function Gx(r){if(!Kx.has(r)){Kx.add(r);try{let{syntax:e,initialValue:t}=Mi.has(r)?Mi.get(r):{};CSS.registerProperty({name:r,inherits:!1,syntax:e,initialValue:t})}catch{}}}var hc,Kx,Im=te(()=>{uc();hc=r=>r.startsWith("--"),Kx=new Set});var Cm,Yx,Sm,Bi,Dm=te(()=>{Cm=(r,e)=>document.createElement("div").animate(r,e),Yx={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{Cm({opacity:[1]})}catch{return!1}return!0},finished:()=>!!Cm({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{Cm({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},Sm={},Bi={};for(let r in Yx)Bi[r]=()=>(Sm[r]===void 0&&(Sm[r]=Yx[r]()),Sm[r])});var Mq,Bq,Am,jq,Jx=te(()=>{Mr();Dm();Mq=.015,Bq=(r,e)=>{let t="",n=Math.round(e/Mq);for(let i=0;i<n;i++)t+=r(Ns(0,n-1,i))+", ";return t.substring(0,t.length-2)},Am=(r,e)=>Ur(r)?Bi.linearEasing()?`linear(${Bq(r,e)})`:Ut.easing:ac(r)?jq(r):r,jq=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`});function Zx(r,e){for(let t=0;t<r.length;t++)r[t]===null&&(r[t]=t?r[t-1]:e());return r}var Qx,Xx=te(()=>{Qx=r=>Array.isArray(r)?r:[r]});function fc(r){return lc[r]&&(r=lc[r]),Ch(r)?Ih(r):r}var Om=te(()=>{uc()});var dc,e4=te(()=>{Im();Om();uc();dc={get:(r,e)=>{e=fc(e);let t=hc(e)?r.style.getPropertyValue(e):getComputedStyle(r)[e];if(!t&&t!==0){let n=Mi.get(e);n&&(t=n.initialValue)}return t},set:(r,e,t)=>{e=fc(e),hc(e)?r.style.setProperty(e,t):r.style[e]=t}}});function Sh(r,e=!0){if(!(!r||r.playState==="finished"))try{r.stop?r.stop():(e&&r.commitStyles(),r.cancel())}catch{}}var Pm=te(()=>{});function t4(r,e){var t;let n=e?.toDefaultUnit||or,i=r[r.length-1];if(mm(i)){let a=((t=i.match(/(-?[\d.]+)([a-z%]*)/))===null||t===void 0?void 0:t[2])||"";a&&(n=c=>c+a)}return n}var r4=te(()=>{Mr()});function qq(){return window.__MOTION_DEV_TOOLS_RECORD}function n4(r,e,t,n={},i){let a=qq(),c=n.record!==!1&&a,u,{duration:h=Ut.duration,delay:f=Ut.delay,endDelay:p=Ut.endDelay,repeat:m=Ut.repeat,easing:w=Ut.easing,persist:_=!1,direction:b,offset:I,allowWebkitAcceleration:P=!1,autoplay:A=!0}=n,U=Eh(r),S=Ch(e),T=Bi.waapi();S&&Vx(r,e);let L=fc(e),W=Hx(U.values,L),B=Mi.get(L);return Sh(W.animation,!(Fo(w)&&W.generator)&&n.record!==!1),()=>{let q=()=>{var x,N;return(N=(x=dc.get(r,L))!==null&&x!==void 0?x:B?.initialValue)!==null&&N!==void 0?N:0},M=Zx(Qx(t),q),Y=t4(M,B);if(Fo(w)){let x=w.createAnimation(M,e!=="opacity",q,L,W);w=x.easing,M=x.keyframes||M,h=x.duration||h}if(hc(L)&&(Bi.cssRegisterProperty()?Gx(L):T=!1),S&&!Bi.linearEasing()&&(Ur(w)||wn(w)&&w.some(Ur))&&(T=!1),T){B&&(M=M.map(G=>Zn(G)?B.toDefaultUnit(G):G)),M.length===1&&(!Bi.partialKeyframes()||c)&&M.unshift(q());let x={delay:Ui.ms(f),duration:Ui.ms(h),endDelay:Ui.ms(p),easing:wn(w)?void 0:Am(w,h),direction:b,iterations:m+1,fill:"both"};u=r.animate({[L]:M,offset:I,easing:wn(w)?w.map(G=>Am(G,h)):void 0},x),u.finished||(u.finished=new Promise((G,ie)=>{u.onfinish=G,u.oncancel=ie}));let N=M[M.length-1];u.finished.then(()=>{_||(dc.set(r,L,N),u.cancel())}).catch(oc),P||(u.playbackRate=1.000001)}else if(i&&S)M=M.map(x=>typeof x=="string"?parseFloat(x):x),M.length===1&&M.unshift(parseFloat(q())),u=new i(x=>{dc.set(r,L,Y?Y(x):x)},M,Object.assign(Object.assign({},n),{duration:h,easing:w}));else{let x=M[M.length-1];dc.set(r,L,B&&Zn(x)?B.toDefaultUnit(x):x)}return c&&a(r,e,M,{duration:h,delay:f,easing:w,repeat:m,offset:I},"motion-one"),W.setAnimation(u),u&&!A&&u.pause(),u}}var i4=te(()=>{xm();Im();Mr();uc();Jx();Dm();Xx();e4();Om();Pm();r4()});var s4,o4=te(()=>{s4=(r,e)=>r[e]?Object.assign(Object.assign({},r),r[e]):Object.assign({},r)});function a4(r,e){var t;return typeof r=="string"?e?((t=e[r])!==null&&t!==void 0||(e[r]=document.querySelectorAll(r)),r=e[r]):r=document.querySelectorAll(r):r instanceof Element&&(r=[r]),Array.from(r||[])}var c4=te(()=>{});var zq,pc,kq,Hq,Wq,Rm=te(()=>{Mr();Pm();zq=r=>r(),pc=(r,e,t=Ut.duration)=>new Proxy({animations:r.map(zq).filter(Boolean),duration:t,options:e},Hq),kq=r=>r.animations[0],Hq={get:(r,e)=>{let t=kq(r);switch(e){case"duration":return r.duration;case"currentTime":return Ui.s(t?.[e]||0);case"playbackRate":case"playState":return t?.[e];case"finished":return r.finished||(r.finished=Promise.all(r.animations.map(Wq)).catch(oc)),r.finished;case"stop":return()=>{r.animations.forEach(n=>Sh(n))};case"forEachNative":return n=>{r.animations.forEach(i=>n(i,r))};default:return typeof t?.[e]>"u"?void 0:()=>r.animations.forEach(n=>n[e]())}},set:(r,e,t)=>{switch(e){case"currentTime":t=Ui.ms(t);case"playbackRate":for(let n=0;n<r.animations.length;n++)r.animations[n][e]=t;return!0}return!1}},Wq=r=>r.finished});function l4(r,e,t){return Ur(r)?r(e,t):r}var u4=te(()=>{Mr()});function h4(r){return function(t,n,i={}){t=a4(t);let a=t.length;bm(!!a,"No valid element provided."),bm(!!n,"No keyframes defined.");let c=[];for(let u=0;u<a;u++){let h=t[u];for(let f in n){let p=s4(i,f);p.delay=l4(p.delay,u,a);let m=n4(h,f,n[f],p,r);c.push(m)}}return pc(c,i,i.duration)}}var f4=te(()=>{zx();i4();o4();c4();Rm();u4()});var Tm,d4=te(()=>{ym();f4();Tm=h4(Fs)});var Nm=te(()=>{d4();Rm()});function Vq(r,e={}){return pc([()=>{let t=new Fs(r,[0,1],e);return t.finished.catch(()=>{}),t}],e,e.duration)}function Qn(r,e,t){return(Ur(r)?Vq:Tm)(r,e,t)}var p4=te(()=>{Nm();Mr();ym()});var g4=te(()=>{Nm();_m();p4()});var Kt,m4=te(()=>{Rs();Kt=r=>r??yt});var v4=te(()=>{m4()});var y4=Q((_Q,w4)=>{w4.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var ji=Q($s=>{var Lm,Kq=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];$s.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};$s.getSymbolTotalCodewords=function(e){return Kq[e]};$s.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};$s.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Lm=e};$s.isKanjiModeEnabled=function(){return typeof Lm<"u"};$s.toSJIS=function(e){return Lm(e)}});var Dh=Q(Br=>{Br.L={bit:1};Br.M={bit:0};Br.Q={bit:3};Br.H={bit:2};function Gq(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return Br.L;case"m":case"medium":return Br.M;case"q":case"quartile":return Br.Q;case"h":case"high":return Br.H;default:throw new Error("Unknown EC Level: "+r)}}Br.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};Br.from=function(e,t){if(Br.isValid(e))return e;try{return Gq(e)}catch{return t}}});var E4=Q((IQ,_4)=>{function b4(){this.buffer=[],this.length=0}b4.prototype={get:function(r){let e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};_4.exports=b4});var I4=Q((CQ,x4)=>{function gc(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}gc.prototype.set=function(r,e,t,n){let i=r*this.size+e;this.data[i]=t,n&&(this.reservedBit[i]=!0)};gc.prototype.get=function(r,e){return this.data[r*this.size+e]};gc.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t};gc.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};x4.exports=gc});var C4=Q(Ah=>{var Yq=ji().getSymbolSize;Ah.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,n=Yq(e),i=n===145?26:Math.ceil((n-13)/(2*t-2))*2,a=[n-7];for(let c=1;c<t-1;c++)a[c]=a[c-1]-i;return a.push(6),a.reverse()};Ah.getPositions=function(e){let t=[],n=Ah.getRowColCoords(e),i=n.length;for(let a=0;a<i;a++)for(let c=0;c<i;c++)a===0&&c===0||a===0&&c===i-1||a===i-1&&c===0||t.push([n[a],n[c]]);return t}});var A4=Q(D4=>{var Jq=ji().getSymbolSize,S4=7;D4.getPositions=function(e){let t=Jq(e);return[[0,0],[t-S4,0],[0,t-S4]]}});var O4=Q(Xe=>{Xe.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Us={N1:3,N2:3,N3:40,N4:10};Xe.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};Xe.from=function(e){return Xe.isValid(e)?parseInt(e,10):void 0};Xe.getPenaltyN1=function(e){let t=e.size,n=0,i=0,a=0,c=null,u=null;for(let h=0;h<t;h++){i=a=0,c=u=null;for(let f=0;f<t;f++){let p=e.get(h,f);p===c?i++:(i>=5&&(n+=Us.N1+(i-5)),c=p,i=1),p=e.get(f,h),p===u?a++:(a>=5&&(n+=Us.N1+(a-5)),u=p,a=1)}i>=5&&(n+=Us.N1+(i-5)),a>=5&&(n+=Us.N1+(a-5))}return n};Xe.getPenaltyN2=function(e){let t=e.size,n=0;for(let i=0;i<t-1;i++)for(let a=0;a<t-1;a++){let c=e.get(i,a)+e.get(i,a+1)+e.get(i+1,a)+e.get(i+1,a+1);(c===4||c===0)&&n++}return n*Us.N2};Xe.getPenaltyN3=function(e){let t=e.size,n=0,i=0,a=0;for(let c=0;c<t;c++){i=a=0;for(let u=0;u<t;u++)i=i<<1&2047|e.get(c,u),u>=10&&(i===1488||i===93)&&n++,a=a<<1&2047|e.get(u,c),u>=10&&(a===1488||a===93)&&n++}return n*Us.N3};Xe.getPenaltyN4=function(e){let t=0,n=e.data.length;for(let a=0;a<n;a++)t+=e.data[a];return Math.abs(Math.ceil(t*100/n/5)-10)*Us.N4};function Zq(r,e,t){switch(r){case Xe.Patterns.PATTERN000:return(e+t)%2===0;case Xe.Patterns.PATTERN001:return e%2===0;case Xe.Patterns.PATTERN010:return t%3===0;case Xe.Patterns.PATTERN011:return(e+t)%3===0;case Xe.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case Xe.Patterns.PATTERN101:return e*t%2+e*t%3===0;case Xe.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case Xe.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}Xe.applyMask=function(e,t){let n=t.size;for(let i=0;i<n;i++)for(let a=0;a<n;a++)t.isReserved(a,i)||t.xor(a,i,Zq(e,a,i))};Xe.getBestMask=function(e,t){let n=Object.keys(Xe.Patterns).length,i=0,a=1/0;for(let c=0;c<n;c++){t(c),Xe.applyMask(c,e);let u=Xe.getPenaltyN1(e)+Xe.getPenaltyN2(e)+Xe.getPenaltyN3(e)+Xe.getPenaltyN4(e);Xe.applyMask(c,e),u<a&&(a=u,i=c)}return i}});var $m=Q(Fm=>{var qi=Dh(),Oh=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ph=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Fm.getBlocksCount=function(e,t){switch(t){case qi.L:return Oh[(e-1)*4+0];case qi.M:return Oh[(e-1)*4+1];case qi.Q:return Oh[(e-1)*4+2];case qi.H:return Oh[(e-1)*4+3];default:return}};Fm.getTotalCodewordsCount=function(e,t){switch(t){case qi.L:return Ph[(e-1)*4+0];case qi.M:return Ph[(e-1)*4+1];case qi.Q:return Ph[(e-1)*4+2];case qi.H:return Ph[(e-1)*4+3];default:return}}});var P4=Q(Th=>{var mc=new Uint8Array(512),Rh=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)mc[t]=e,Rh[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)mc[t]=mc[t-255]})();Th.log=function(e){if(e<1)throw new Error("log("+e+")");return Rh[e]};Th.exp=function(e){return mc[e]};Th.mul=function(e,t){return e===0||t===0?0:mc[Rh[e]+Rh[t]]}});var R4=Q(vc=>{var Um=P4();vc.mul=function(e,t){let n=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let a=0;a<t.length;a++)n[i+a]^=Um.mul(e[i],t[a]);return n};vc.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){let i=n[0];for(let c=0;c<t.length;c++)n[c]^=Um.mul(t[c],i);let a=0;for(;a<n.length&&n[a]===0;)a++;n=n.slice(a)}return n};vc.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=vc.mul(t,new Uint8Array([1,Um.exp(n)]));return t}});var L4=Q((TQ,N4)=>{var T4=R4();function Mm(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}Mm.prototype.initialize=function(e){this.degree=e,this.genPoly=T4.generateECPolynomial(this.degree)};Mm.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let n=T4.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){let a=new Uint8Array(this.degree);return a.set(n,i),a}return n};N4.exports=Mm});var Bm=Q(F4=>{F4.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var jm=Q(Xn=>{var $4="[0-9]+",Qq="[A-Z $%*+\\-./:]+",wc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";wc=wc.replace(/u/g,"\\u");var Xq="(?:(?![A-Z0-9 $%*+\\-./:]|"+wc+`)(?:.|[\r
]))+`;Xn.KANJI=new RegExp(wc,"g");Xn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Xn.BYTE=new RegExp(Xq,"g");Xn.NUMERIC=new RegExp($4,"g");Xn.ALPHANUMERIC=new RegExp(Qq,"g");var ez=new RegExp("^"+wc+"$"),tz=new RegExp("^"+$4+"$"),rz=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Xn.testKanji=function(e){return ez.test(e)};Xn.testNumeric=function(e){return tz.test(e)};Xn.testAlphanumeric=function(e){return rz.test(e)}});var zi=Q(bt=>{var nz=Bm(),qm=jm();bt.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};bt.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};bt.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};bt.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};bt.MIXED={bit:-1};bt.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!nz.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};bt.getBestModeForData=function(e){return qm.testNumeric(e)?bt.NUMERIC:qm.testAlphanumeric(e)?bt.ALPHANUMERIC:qm.testKanji(e)?bt.KANJI:bt.BYTE};bt.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};bt.isValid=function(e){return e&&e.bit&&e.ccBits};function iz(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return bt.NUMERIC;case"alphanumeric":return bt.ALPHANUMERIC;case"kanji":return bt.KANJI;case"byte":return bt.BYTE;default:throw new Error("Unknown mode: "+r)}}bt.from=function(e,t){if(bt.isValid(e))return e;try{return iz(e)}catch{return t}}});var q4=Q(Ms=>{var Nh=ji(),sz=$m(),U4=Dh(),ki=zi(),zm=Bm(),B4=7973,M4=Nh.getBCHDigit(B4);function oz(r,e,t){for(let n=1;n<=40;n++)if(e<=Ms.getCapacity(n,t,r))return n}function j4(r,e){return ki.getCharCountIndicator(r,e)+4}function az(r,e){let t=0;return r.forEach(function(n){let i=j4(n.mode,e);t+=i+n.getBitsLength()}),t}function cz(r,e){for(let t=1;t<=40;t++)if(az(r,t)<=Ms.getCapacity(t,e,ki.MIXED))return t}Ms.from=function(e,t){return zm.isValid(e)?parseInt(e,10):t};Ms.getCapacity=function(e,t,n){if(!zm.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=ki.BYTE);let i=Nh.getSymbolTotalCodewords(e),a=sz.getTotalCodewordsCount(e,t),c=(i-a)*8;if(n===ki.MIXED)return c;let u=c-j4(n,e);switch(n){case ki.NUMERIC:return Math.floor(u/10*3);case ki.ALPHANUMERIC:return Math.floor(u/11*2);case ki.KANJI:return Math.floor(u/13);case ki.BYTE:default:return Math.floor(u/8)}};Ms.getBestVersionForData=function(e,t){let n,i=U4.from(t,U4.M);if(Array.isArray(e)){if(e.length>1)return cz(e,i);if(e.length===0)return 1;n=e[0]}else n=e;return oz(n.mode,n.getLength(),i)};Ms.getEncodedBits=function(e){if(!zm.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;Nh.getBCHDigit(t)-M4>=0;)t^=B4<<Nh.getBCHDigit(t)-M4;return e<<12|t}});var W4=Q(H4=>{var km=ji(),k4=1335,lz=21522,z4=km.getBCHDigit(k4);H4.getEncodedBits=function(e,t){let n=e.bit<<3|t,i=n<<10;for(;km.getBCHDigit(i)-z4>=0;)i^=k4<<km.getBCHDigit(i)-z4;return(n<<10|i)^lz}});var K4=Q((MQ,V4)=>{var uz=zi();function $o(r){this.mode=uz.NUMERIC,this.data=r.toString()}$o.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};$o.prototype.getLength=function(){return this.data.length};$o.prototype.getBitsLength=function(){return $o.getBitsLength(this.data.length)};$o.prototype.write=function(e){let t,n,i;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),i=parseInt(n,10),e.put(i,10);let a=this.data.length-t;a>0&&(n=this.data.substr(t),i=parseInt(n,10),e.put(i,a*3+1))};V4.exports=$o});var Y4=Q((BQ,G4)=>{var hz=zi(),Hm=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Uo(r){this.mode=hz.ALPHANUMERIC,this.data=r}Uo.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Uo.prototype.getLength=function(){return this.data.length};Uo.prototype.getBitsLength=function(){return Uo.getBitsLength(this.data.length)};Uo.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=Hm.indexOf(this.data[t])*45;n+=Hm.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(Hm.indexOf(this.data[t]),6)};G4.exports=Uo});var Z4=Q((jQ,J4)=>{"use strict";J4.exports=function(e){for(var t=[],n=e.length,i=0;i<n;i++){var a=e.charCodeAt(i);if(a>=55296&&a<=56319&&n>i+1){var c=e.charCodeAt(i+1);c>=56320&&c<=57343&&(a=(a-55296)*1024+c-56320+65536,i+=1)}if(a<128){t.push(a);continue}if(a<2048){t.push(a>>6|192),t.push(a&63|128);continue}if(a<55296||a>=57344&&a<65536){t.push(a>>12|224),t.push(a>>6&63|128),t.push(a&63|128);continue}if(a>=65536&&a<=1114111){t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}});var X4=Q((qQ,Q4)=>{var fz=Z4(),dz=zi();function Mo(r){this.mode=dz.BYTE,typeof r=="string"&&(r=fz(r)),this.data=new Uint8Array(r)}Mo.getBitsLength=function(e){return e*8};Mo.prototype.getLength=function(){return this.data.length};Mo.prototype.getBitsLength=function(){return Mo.getBitsLength(this.data.length)};Mo.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};Q4.exports=Mo});var t6=Q((zQ,e6)=>{var pz=zi(),gz=ji();function Bo(r){this.mode=pz.KANJI,this.data=r}Bo.getBitsLength=function(e){return e*13};Bo.prototype.getLength=function(){return this.data.length};Bo.prototype.getBitsLength=function(){return Bo.getBitsLength(this.data.length)};Bo.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=gz.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};e6.exports=Bo});var r6=Q((kQ,Wm)=>{"use strict";var yc={single_source_shortest_paths:function(r,e,t){var n={},i={};i[e]=0;var a=yc.PriorityQueue.make();a.push(e,0);for(var c,u,h,f,p,m,w,_,b;!a.empty();){c=a.pop(),u=c.value,f=c.cost,p=r[u]||{};for(h in p)p.hasOwnProperty(h)&&(m=p[h],w=f+m,_=i[h],b=typeof i[h]>"u",(b||_>w)&&(i[h]=w,a.push(h,w),n[h]=u))}if(typeof t<"u"&&typeof i[t]>"u"){var I=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(I)}return n},extract_shortest_path_from_predecessor_list:function(r,e){for(var t=[],n=e,i;n;)t.push(n),i=r[n],n=r[n];return t.reverse(),t},find_path:function(r,e,t){var n=yc.single_source_shortest_paths(r,e,t);return yc.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(r){var e=yc.PriorityQueue,t={},n;r=r||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=r.sorter||e.default_sorter,t},default_sorter:function(r,e){return r.cost-e.cost},push:function(r,e){var t={value:r,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Wm<"u"&&(Wm.exports=yc)});var u6=Q(jo=>{var ze=zi(),s6=K4(),o6=Y4(),a6=X4(),c6=t6(),bc=jm(),Lh=ji(),mz=r6();function n6(r){return unescape(encodeURIComponent(r)).length}function _c(r,e,t){let n=[],i;for(;(i=r.exec(t))!==null;)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function l6(r){let e=_c(bc.NUMERIC,ze.NUMERIC,r),t=_c(bc.ALPHANUMERIC,ze.ALPHANUMERIC,r),n,i;return Lh.isKanjiModeEnabled()?(n=_c(bc.BYTE,ze.BYTE,r),i=_c(bc.KANJI,ze.KANJI,r)):(n=_c(bc.BYTE_KANJI,ze.BYTE,r),i=[]),e.concat(t,n,i).sort(function(c,u){return c.index-u.index}).map(function(c){return{data:c.data,mode:c.mode,length:c.length}})}function Vm(r,e){switch(e){case ze.NUMERIC:return s6.getBitsLength(r);case ze.ALPHANUMERIC:return o6.getBitsLength(r);case ze.KANJI:return c6.getBitsLength(r);case ze.BYTE:return a6.getBitsLength(r)}}function vz(r){return r.reduce(function(e,t){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function wz(r){let e=[];for(let t=0;t<r.length;t++){let n=r[t];switch(n.mode){case ze.NUMERIC:e.push([n,{data:n.data,mode:ze.ALPHANUMERIC,length:n.length},{data:n.data,mode:ze.BYTE,length:n.length}]);break;case ze.ALPHANUMERIC:e.push([n,{data:n.data,mode:ze.BYTE,length:n.length}]);break;case ze.KANJI:e.push([n,{data:n.data,mode:ze.BYTE,length:n6(n.data)}]);break;case ze.BYTE:e.push([{data:n.data,mode:ze.BYTE,length:n6(n.data)}])}}return e}function yz(r,e){let t={},n={start:{}},i=["start"];for(let a=0;a<r.length;a++){let c=r[a],u=[];for(let h=0;h<c.length;h++){let f=c[h],p=""+a+h;u.push(p),t[p]={node:f,lastCount:0},n[p]={};for(let m=0;m<i.length;m++){let w=i[m];t[w]&&t[w].node.mode===f.mode?(n[w][p]=Vm(t[w].lastCount+f.length,f.mode)-Vm(t[w].lastCount,f.mode),t[w].lastCount+=f.length):(t[w]&&(t[w].lastCount=f.length),n[w][p]=Vm(f.length,f.mode)+4+ze.getCharCountIndicator(f.mode,e))}}i=u}for(let a=0;a<i.length;a++)n[i[a]].end=0;return{map:n,table:t}}function i6(r,e){let t,n=ze.getBestModeForData(r);if(t=ze.from(e,n),t!==ze.BYTE&&t.bit<n.bit)throw new Error('"'+r+'" cannot be encoded with mode '+ze.toString(t)+`.
 Suggested mode is: `+ze.toString(n));switch(t===ze.KANJI&&!Lh.isKanjiModeEnabled()&&(t=ze.BYTE),t){case ze.NUMERIC:return new s6(r);case ze.ALPHANUMERIC:return new o6(r);case ze.KANJI:return new c6(r);case ze.BYTE:return new a6(r)}}jo.fromArray=function(e){return e.reduce(function(t,n){return typeof n=="string"?t.push(i6(n,null)):n.data&&t.push(i6(n.data,n.mode)),t},[])};jo.fromString=function(e,t){let n=l6(e,Lh.isKanjiModeEnabled()),i=wz(n),a=yz(i,t),c=mz.find_path(a.map,"start","end"),u=[];for(let h=1;h<c.length-1;h++)u.push(a.table[c[h]].node);return jo.fromArray(vz(u))};jo.rawSplit=function(e){return jo.fromArray(l6(e,Lh.isKanjiModeEnabled()))}});var f6=Q(h6=>{var $h=ji(),Km=Dh(),bz=E4(),_z=I4(),Ez=C4(),xz=A4(),Jm=O4(),Zm=$m(),Iz=L4(),Fh=q4(),Cz=W4(),Sz=zi(),Gm=u6();function Dz(r,e){let t=r.size,n=xz.getPositions(e);for(let i=0;i<n.length;i++){let a=n[i][0],c=n[i][1];for(let u=-1;u<=7;u++)if(!(a+u<=-1||t<=a+u))for(let h=-1;h<=7;h++)c+h<=-1||t<=c+h||(u>=0&&u<=6&&(h===0||h===6)||h>=0&&h<=6&&(u===0||u===6)||u>=2&&u<=4&&h>=2&&h<=4?r.set(a+u,c+h,!0,!0):r.set(a+u,c+h,!1,!0))}}function Az(r){let e=r.size;for(let t=8;t<e-8;t++){let n=t%2===0;r.set(t,6,n,!0),r.set(6,t,n,!0)}}function Oz(r,e){let t=Ez.getPositions(e);for(let n=0;n<t.length;n++){let i=t[n][0],a=t[n][1];for(let c=-2;c<=2;c++)for(let u=-2;u<=2;u++)c===-2||c===2||u===-2||u===2||c===0&&u===0?r.set(i+c,a+u,!0,!0):r.set(i+c,a+u,!1,!0)}}function Pz(r,e){let t=r.size,n=Fh.getEncodedBits(e),i,a,c;for(let u=0;u<18;u++)i=Math.floor(u/3),a=u%3+t-8-3,c=(n>>u&1)===1,r.set(i,a,c,!0),r.set(a,i,c,!0)}function Ym(r,e,t){let n=r.size,i=Cz.getEncodedBits(e,t),a,c;for(a=0;a<15;a++)c=(i>>a&1)===1,a<6?r.set(a,8,c,!0):a<8?r.set(a+1,8,c,!0):r.set(n-15+a,8,c,!0),a<8?r.set(8,n-a-1,c,!0):a<9?r.set(8,15-a-1+1,c,!0):r.set(8,15-a-1,c,!0);r.set(n-8,8,1,!0)}function Rz(r,e){let t=r.size,n=-1,i=t-1,a=7,c=0;for(let u=t-1;u>0;u-=2)for(u===6&&u--;;){for(let h=0;h<2;h++)if(!r.isReserved(i,u-h)){let f=!1;c<e.length&&(f=(e[c]>>>a&1)===1),r.set(i,u-h,f),a--,a===-1&&(c++,a=7)}if(i+=n,i<0||t<=i){i-=n,n=-n;break}}}function Tz(r,e,t){let n=new bz;t.forEach(function(h){n.put(h.mode.bit,4),n.put(h.getLength(),Sz.getCharCountIndicator(h.mode,r)),h.write(n)});let i=$h.getSymbolTotalCodewords(r),a=Zm.getTotalCodewordsCount(r,e),c=(i-a)*8;for(n.getLengthInBits()+4<=c&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let u=(c-n.getLengthInBits())/8;for(let h=0;h<u;h++)n.put(h%2?17:236,8);return Nz(n,r,e)}function Nz(r,e,t){let n=$h.getSymbolTotalCodewords(e),i=Zm.getTotalCodewordsCount(e,t),a=n-i,c=Zm.getBlocksCount(e,t),u=n%c,h=c-u,f=Math.floor(n/c),p=Math.floor(a/c),m=p+1,w=f-p,_=new Iz(w),b=0,I=new Array(c),P=new Array(c),A=0,U=new Uint8Array(r.buffer);for(let B=0;B<c;B++){let q=B<h?p:m;I[B]=U.slice(b,b+q),P[B]=_.encode(I[B]),b+=q,A=Math.max(A,q)}let S=new Uint8Array(n),T=0,L,W;for(L=0;L<A;L++)for(W=0;W<c;W++)L<I[W].length&&(S[T++]=I[W][L]);for(L=0;L<w;L++)for(W=0;W<c;W++)S[T++]=P[W][L];return S}function Lz(r,e,t,n){let i;if(Array.isArray(r))i=Gm.fromArray(r);else if(typeof r=="string"){let f=e;if(!f){let p=Gm.rawSplit(r);f=Fh.getBestVersionForData(p,t)}i=Gm.fromString(r,f||40)}else throw new Error("Invalid data");let a=Fh.getBestVersionForData(i,t);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=a;else if(e<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);let c=Tz(e,t,i),u=$h.getSymbolSize(e),h=new _z(u);return Dz(h,e),Az(h),Oz(h,e),Ym(h,t,0),e>=7&&Pz(h,e),Rz(h,c),isNaN(n)&&(n=Jm.getBestMask(h,Ym.bind(null,h,t))),Jm.applyMask(n,h),Ym(h,t,n),{modules:h,version:e,errorCorrectionLevel:t,maskPattern:n,segments:i}}h6.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=Km.M,i,a;return typeof t<"u"&&(n=Km.from(t.errorCorrectionLevel,Km.M),i=Fh.from(t.version),a=Jm.from(t.maskPattern),t.toSJISFunc&&$h.setToSJISFunction(t.toSJISFunc)),Lz(e,i,n,a)}});var Qm=Q(Bs=>{function d6(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let e=r.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+r);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}Bs.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:t,color:{dark:d6(e.color.dark||"#000000ff"),light:d6(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};Bs.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};Bs.getImageWidth=function(e,t){let n=Bs.getScale(e,t);return Math.floor((e+t.margin*2)*n)};Bs.qrToImageData=function(e,t,n){let i=t.modules.size,a=t.modules.data,c=Bs.getScale(i,n),u=Math.floor((i+n.margin*2)*c),h=n.margin*c,f=[n.color.light,n.color.dark];for(let p=0;p<u;p++)for(let m=0;m<u;m++){let w=(p*u+m)*4,_=n.color.light;if(p>=h&&m>=h&&p<u-h&&m<u-h){let b=Math.floor((p-h)/c),I=Math.floor((m-h)/c);_=f[a[b*i+I]?1:0]}e[w++]=_.r,e[w++]=_.g,e[w++]=_.b,e[w]=_.a}}});var p6=Q(Uh=>{var Xm=Qm();function Fz(r,e,t){r.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function $z(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Uh.render=function(e,t,n){let i=n,a=t;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),t||(a=$z()),i=Xm.getOptions(i);let c=Xm.getImageWidth(e.modules.size,i),u=a.getContext("2d"),h=u.createImageData(c,c);return Xm.qrToImageData(h.data,e,i),Fz(u,a,c),u.putImageData(h,0,0),a};Uh.renderToDataURL=function(e,t,n){let i=n;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),i||(i={});let a=Uh.render(e,t,i),c=i.type||"image/png",u=i.rendererOpts||{};return a.toDataURL(c,u.quality)}});var v6=Q(m6=>{var Uz=Qm();function g6(r,e){let t=r.a/255,n=e+'="'+r.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function e1(r,e,t){let n=r+e;return typeof t<"u"&&(n+=" "+t),n}function Mz(r,e,t){let n="",i=0,a=!1,c=0;for(let u=0;u<r.length;u++){let h=Math.floor(u%e),f=Math.floor(u/e);!h&&!a&&(a=!0),r[u]?(c++,u>0&&h>0&&r[u-1]||(n+=a?e1("M",h+t,.5+f+t):e1("m",i,0),i=0,a=!1),h+1<e&&r[u+1]||(n+=e1("h",c),c=0)):i++}return n}m6.render=function(e,t,n){let i=Uz.getOptions(t),a=e.modules.size,c=e.modules.data,u=a+i.margin*2,h=i.color.light.a?"<path "+g6(i.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",f="<path "+g6(i.color.dark,"stroke")+' d="'+Mz(c,a,i.margin)+'"/>',p='viewBox="0 0 '+u+" "+u+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+p+' shape-rendering="crispEdges">'+h+f+`</svg>
`;return typeof n=="function"&&n(null,w),w}});var y6=Q(Ec=>{var Bz=y4(),t1=f6(),w6=p6(),jz=v6();function r1(r,e,t,n,i){let a=[].slice.call(arguments,1),c=a.length,u=typeof a[c-1]=="function";if(!u&&!Bz())throw new Error("Callback required as last argument");if(u){if(c<2)throw new Error("Too few arguments provided");c===2?(i=t,t=e,e=n=void 0):c===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=t,t=e,e=void 0))}else{if(c<1)throw new Error("Too few arguments provided");return c===1?(t=e,e=n=void 0):c===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(h,f){try{let p=t1.create(t,n);h(r(p,e,n))}catch(p){f(p)}})}try{let h=t1.create(t,n);i(null,r(h,e,n))}catch(h){i(h)}}Ec.create=t1.create;Ec.toCanvas=r1.bind(null,w6.render);Ec.toDataURL=r1.bind(null,w6.renderToDataURL);Ec.toString=r1.bind(null,function(r,e,t){return jz.render(r,t)})});var T6={};Dt(T6,{WcmModal:()=>ko,WcmQrCode:()=>ti});function Hz(){var r;let e=(r=mn.state.themeMode)!=null?r:"dark",n={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[e];return{"--wcm-color-fg-1":n.foreground[1],"--wcm-color-fg-2":n.foreground[2],"--wcm-color-fg-3":n.foreground[3],"--wcm-color-bg-1":n.background[1],"--wcm-color-bg-2":n.background[2],"--wcm-color-bg-3":n.background[3],"--wcm-color-overlay":n.overlay}}function E6(){return{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}}function i1(r,e,t){return r===e?!1:(r-e<0?e-r:r-e)<=t+Ek}function xk(r,e){let t=Array.prototype.slice.call(C6.default.create(r,{errorCorrectionLevel:e}).modules.data,0),n=Math.sqrt(t.length);return t.reduce((i,a,c)=>(c%n===0?i.push([a]):i[i.length-1].push(a))&&i,[])}var C6,qz,b6,zz,kz,_6,n1,Le,Wz,Vz,Kz,Wo,Wi,Gz,Yz,Jz,_1,xc,Zz,Qz,Xz,ek,o1,ke,tk,rk,nk,ik,a1,sk,ok,ak,ck,c1,lk,uk,hk,fk,l1,dk,pk,gk,Sc,js,ye,mk,vk,wk,E1,Ic,yk,bk,_k,S6,Mh,Ek,x6,ei,Ik,Ck,Sk,Dk,Vo,ti,Ak,Ok,Pk,D6,Bh,Rk,Tk,Nk,Lk,u1,Fk,$k,Uk,x1,Cc,Mk,Bk,jk,Ki,yn,qk,zk,kk,kh,zo,Hk,Wk,A6,h1,Vk,Kk,Gk,I6,Yk,Jk,Zk,Qk,f1,Xk,eH,tH,Ko,Vi,qo,Hi,rH,nH,iH,sH,d1,oH,aH,cH,lH,p1,uH,hH,fH,dH,g1,pH,gH,mH,I1,ko,vH,wH,yH,Dc,qs,bH,_H,EH,xH,m1,IH,CH,SH,Hh,Ho,DH,AH,OH,v1,PH,RH,TH,O6,jh,NH,LH,FH,$H,w1,UH,MH,BH,P6,qh,jH,qH,zH,kH,y1,HH,WH,VH,b1,KH,GH,YH,Ac,s1,zs,JH,ZH,QH,R6,zh,N6=te(()=>{cx();mx();_x();zg();Rs();g4();v4();C6=je(y6(),1),qz=Object.defineProperty,b6=Object.getOwnPropertySymbols,zz=Object.prototype.hasOwnProperty,kz=Object.prototype.propertyIsEnumerable,_6=(r,e,t)=>e in r?qz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,n1=(r,e)=>{for(var t in e||(e={}))zz.call(e,t)&&_6(r,t,e[t]);if(b6)for(var t of b6(e))kz.call(e,t)&&_6(r,t,e[t]);return r};Le={getPreset(r){return E6()[r]},setTheme(){let r=document.querySelector(":root"),{themeVariables:e}=mn.state;if(r){let t=n1(n1(n1({},Hz()),E6()),e);Object.entries(t).forEach(([n,i])=>r.style.setProperty(n,i))}},globalCss:Fe`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},Wz=Fe`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`,Vz=Object.defineProperty,Kz=Object.getOwnPropertyDescriptor,Wo=(r,e,t,n)=>{for(var i=n>1?void 0:n?Kz(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&Vz(e,t,i),i},Wi=class extends xe{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){let r={"wcm-icon-left":this.iconLeft!==void 0,"wcm-icon-right":this.iconRight!==void 0,"wcm-ghost":this.variant==="ghost","wcm-outline":this.variant==="outline"},e="inverse";return this.variant==="ghost"&&(e="secondary"),this.variant==="outline"&&(e="accent"),ee`<button class="${vn(r)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${e}"><slot></slot></wcm-text>${this.iconRight}</button>`}};Wi.styles=[Le.globalCss,Wz];Wo([_e({type:Boolean})],Wi.prototype,"disabled",2);Wo([_e()],Wi.prototype,"iconLeft",2);Wo([_e()],Wi.prototype,"iconRight",2);Wo([_e()],Wi.prototype,"onClick",2);Wo([_e()],Wi.prototype,"variant",2);Wi=Wo([Ne("wcm-button")],Wi);Gz=Fe`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`,Yz=Object.defineProperty,Jz=Object.getOwnPropertyDescriptor,_1=(r,e,t,n)=>{for(var i=n>1?void 0:n?Jz(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&Yz(e,t,i),i},xc=class extends xe{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){let r={"wcm-secondary":this.variant==="secondary"};return ee`<button ?disabled="${this.disabled}" class="${vn(r)}"><slot></slot></button>`}};xc.styles=[Le.globalCss,Gz];_1([_e({type:Boolean})],xc.prototype,"disabled",2);_1([_e()],xc.prototype,"variant",2);xc=_1([Ne("wcm-button-big")],xc);Zz=Fe`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`,Qz=Object.defineProperty,Xz=Object.getOwnPropertyDescriptor,ek=(r,e,t,n)=>{for(var i=n>1?void 0:n?Xz(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&Qz(e,t,i),i},o1=class extends xe{render(){return ee`<div><slot></slot></div>`}};o1.styles=[Le.globalCss,Zz];o1=ek([Ne("wcm-info-footer")],o1);ke={CROSS_ICON:ot`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:ot`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:ot`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:ot`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:ot`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:ot`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:ot`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:ot`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:ot`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:ot`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:ot`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:ot`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:ot`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:ot`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:ot`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:ot`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:ot`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:ot`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},tk=Fe`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`,rk=Object.defineProperty,nk=Object.getOwnPropertyDescriptor,ik=(r,e,t,n)=>{for(var i=n>1?void 0:n?nk(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&rk(e,t,i),i},a1=class extends xe{render(){return ee`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${ke.WALLET_CONNECT_LOGO} <button @click="${Kn.close}">${ke.CROSS_ICON}</button></div>`}};a1.styles=[Le.globalCss,tk];a1=ik([Ne("wcm-modal-backcard")],a1);sk=Fe`main{padding:20px;padding-top:0;width:100%}`,ok=Object.defineProperty,ak=Object.getOwnPropertyDescriptor,ck=(r,e,t,n)=>{for(var i=n>1?void 0:n?ak(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&ok(e,t,i),i},c1=class extends xe{render(){return ee`<main><slot></slot></main>`}};c1.styles=[Le.globalCss,sk];c1=ck([Ne("wcm-modal-content")],c1);lk=Fe`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`,uk=Object.defineProperty,hk=Object.getOwnPropertyDescriptor,fk=(r,e,t,n)=>{for(var i=n>1?void 0:n?hk(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&uk(e,t,i),i},l1=class extends xe{render(){return ee`<footer><slot></slot></footer>`}};l1.styles=[Le.globalCss,lk];l1=fk([Ne("wcm-modal-footer")],l1);dk=Fe`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`,pk=Object.defineProperty,gk=Object.getOwnPropertyDescriptor,Sc=(r,e,t,n)=>{for(var i=n>1?void 0:n?gk(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&pk(e,t,i),i},js=class extends xe{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return ee`<button class="wcm-back-btn" @click="${st.goBack}">${ke.BACK_ICON}</button>`}actionBtnTemplate(){return ee`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){let r={"wcm-border":this.border},e=st.state.history.length>1,t=this.title?ee`<wcm-text variant="big-bold">${this.title}</wcm-text>`:ee`<slot></slot>`;return ee`<header class="${vn(r)}">${e?this.backBtnTemplate():null} ${t} ${this.onAction?this.actionBtnTemplate():null}</header>`}};js.styles=[Le.globalCss,dk];Sc([_e()],js.prototype,"title",2);Sc([_e()],js.prototype,"onAction",2);Sc([_e()],js.prototype,"actionIcon",2);Sc([_e({type:Boolean})],js.prototype,"border",2);js=Sc([Ne("wcm-modal-header")],js);ye={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(r,e){let t=r.renderRoot.querySelector(e);if(!t)throw new Error(`${e} not found`);return t},getWalletIcon({id:r,image_id:e}){let{walletImages:t}=nr.state;return t?.[r]?t[r]:e?ir.getWalletImageUrl(e):""},getWalletName(r,e=!1){return e&&r.length>8?`${r.substring(0,8)}..`:r},isMobileAnimation(){return window.innerWidth<=ye.MOBILE_BREAKPOINT},async preloadImage(r){let e=new Promise((t,n)=>{let i=new Image;i.onload=t,i.onerror=n,i.crossOrigin="anonymous",i.src=r});return Promise.race([e,oe.wait(3e3)])},getErrorMessage(r){return r instanceof Error?r.message:"Unknown Error"},debounce(r,e=500){let t;return(...n)=>{function i(){r(...n)}t&&clearTimeout(t),t=setTimeout(i,e)}},handleMobileLinking(r,e="_self"){let{walletConnectUri:t}=lt.state,{mobile:n,name:i}=r,a=n?.native,c=n?.universal;ye.setRecentWallet(r);function u(h){if(a){let f=oe.formatNativeUrl(a,h,i);oe.openHref(f,e)}else if(c){let f=oe.formatUniversalUrl(c,h,i);oe.openHref(f,e)}}t&&u(t)},handleAndroidLinking(){let{walletConnectUri:r}=lt.state;r&&(oe.setWalletConnectAndroidDeepLink(r),oe.openHref(r,oe.isTelegram()?"_blank":"_self"))},async handleUriCopy(){let{walletConnectUri:r}=lt.state;if(r)try{await navigator.clipboard.writeText(r),Gn.openToast("Link copied","success")}catch{Gn.openToast("Failed to copy","error")}},getCustomImageUrls(){let{walletImages:r}=nr.state,e=Object.values(r??{});return Object.values(e)},truncate(r,e=8){return r.length<=e?r:`${r.substring(0,4)}...${r.substring(r.length-4)}`},setRecentWallet(r){try{localStorage.setItem(ye.WCM_RECENT_WALLET_DATA,JSON.stringify(r))}catch{console.info("Unable to set recent wallet")}},getRecentWallet(){try{let r=localStorage.getItem(ye.WCM_RECENT_WALLET_DATA);return r?JSON.parse(r):void 0}catch{console.info("Unable to get recent wallet")}},caseSafeIncludes(r,e){return r.toUpperCase().includes(e.toUpperCase())},openWalletExplorerUrl(){oe.openHref(ye.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){let{desktop:r,mobile:e}=oe.getWalletRouterData(),t=!!r?.native,n=!!r?.universal,i=!!e?.native||!!e?.universal;return{isDesktop:t,isMobile:i,isWeb:n}},goToConnectingView(r){st.setData({Wallet:r});let e=oe.isMobile(),{isDesktop:t,isWeb:n,isMobile:i}=ye.getCachedRouterWalletPlatforms();e?i?(st.push("MobileConnecting"),!oe.isAndroid()&&oe.isTelegram()&&this.handleMobileLinking(r,"_blank")):n?st.push("WebConnecting"):st.push("InstallWallet"):t?st.push("DesktopConnecting"):n?st.push("WebConnecting"):i?st.push("MobileQrcodeConnecting"):st.push("InstallWallet")}},mk=Fe`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`,vk=Object.defineProperty,wk=Object.getOwnPropertyDescriptor,E1=(r,e,t,n)=>{for(var i=n>1?void 0:n?wk(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&vk(e,t,i),i},Ic=class extends xe{constructor(){super(),this.view=st.state.view,this.prevView=st.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=st.subscribe(r=>{this.view!==r.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([r])=>{let e=`${r.contentRect.height}px`;this.oldHeight!=="0px"&&Qn(this.routerEl,{height:[this.oldHeight,e]},{duration:.2}),this.oldHeight=e}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var r,e;(r=this.unsubscribe)==null||r.call(this),(e=this.resizeObserver)==null||e.disconnect()}get routerEl(){return ye.getShadowRootElement(this,".wcm-router")}get contentEl(){return ye.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return ee`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return ee`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return ee`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return ee`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return ee`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return ee`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return ee`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return ee`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return ee`<div>Not Found</div>`}}async onChangeRoute(){await Qn(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=st.state.view,Qn(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return ee`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};Ic.styles=[Le.globalCss,mk];E1([sr()],Ic.prototype,"view",2);E1([sr()],Ic.prototype,"prevView",2);Ic=E1([Ne("wcm-modal-router")],Ic);yk=Fe`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`,bk=Object.defineProperty,_k=Object.getOwnPropertyDescriptor,S6=(r,e,t,n)=>{for(var i=n>1?void 0:n?_k(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&bk(e,t,i),i},Mh=class extends xe{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=Gn.subscribe(r=>{r.open?(this.open=!0,this.timeout=setTimeout(()=>Gn.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var r;(r=this.unsubscribe)==null||r.call(this),clearTimeout(this.timeout),Gn.closeToast()}render(){let{message:r,variant:e}=Gn.state,t={"wcm-success":e==="success","wcm-error":e==="error"};return this.open?ee`<div class="${vn(t)}">${e==="success"?ke.CHECKMARK_ICON:null} ${e==="error"?ke.CROSS_ICON:null}<wcm-text variant="small-regular">${r}</wcm-text></div>`:null}};Mh.styles=[Le.globalCss,yk];S6([sr()],Mh.prototype,"open",2);Mh=S6([Ne("wcm-modal-toast")],Mh);Ek=.1,x6=2.5,ei=7;Ik={generate(r,e,t){let n="#141414",i="#ffffff",a=[],c=xk(r,"Q"),u=e/c.length,h=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];h.forEach(({x:b,y:I})=>{let P=(c.length-ei)*u*b,A=(c.length-ei)*u*I,U=.45;for(let S=0;S<h.length;S+=1){let T=u*(ei-S*2);a.push(ot`<rect fill="${S%2===0?n:i}" height="${T}" rx="${T*U}" ry="${T*U}" width="${T}" x="${P+u*S}" y="${A+u*S}">`)}});let f=Math.floor((t+25)/u),p=c.length/2-f/2,m=c.length/2+f/2-1,w=[];c.forEach((b,I)=>{b.forEach((P,A)=>{if(c[I][A]&&!(I<ei&&A<ei||I>c.length-(ei+1)&&A<ei||I<ei&&A>c.length-(ei+1))&&!(I>p&&I<m&&A>p&&A<m)){let U=I*u+u/2,S=A*u+u/2;w.push([U,S])}})});let _={};return w.forEach(([b,I])=>{_[b]?_[b].push(I):_[b]=[I]}),Object.entries(_).map(([b,I])=>{let P=I.filter(A=>I.every(U=>!i1(A,U,u)));return[Number(b),P]}).forEach(([b,I])=>{I.forEach(P=>{a.push(ot`<circle cx="${b}" cy="${P}" fill="${n}" r="${u/x6}">`)})}),Object.entries(_).filter(([b,I])=>I.length>1).map(([b,I])=>{let P=I.filter(A=>I.some(U=>i1(A,U,u)));return[Number(b),P]}).map(([b,I])=>{I.sort((A,U)=>A<U?-1:1);let P=[];for(let A of I){let U=P.find(S=>S.some(T=>i1(A,T,u)));U?U.push(A):P.push([A])}return[b,P.map(A=>[A[0],A[A.length-1]])]}).forEach(([b,I])=>{I.forEach(([P,A])=>{a.push(ot`<line x1="${b}" x2="${b}" y1="${P}" y2="${A}" stroke="${n}" stroke-width="${u/(x6/2)}" stroke-linecap="round">`)})}),a}},Ck=Fe`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`,Sk=Object.defineProperty,Dk=Object.getOwnPropertyDescriptor,Vo=(r,e,t,n)=>{for(var i=n>1?void 0:n?Dk(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&Sk(e,t,i),i},ti=class extends xe{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){let e=mn.state.themeMode==="light"?this.size:this.size-18*2;return ot`<svg height="${e}" width="${e}">${Ik.generate(this.uri,e,e/4)}</svg>`}render(){let r={"wcm-dark":mn.state.themeMode==="dark"};return ee`<div style="${`width: ${this.size}px`}" class="${vn(r)}">${this.walletId||this.imageUrl?ee`<wcm-wallet-image walletId="${Kt(this.walletId)}" imageId="${Kt(this.imageId)}" imageUrl="${Kt(this.imageUrl)}"></wcm-wallet-image>`:ke.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};ti.styles=[Le.globalCss,Ck];Vo([_e()],ti.prototype,"uri",2);Vo([_e({type:Number})],ti.prototype,"size",2);Vo([_e()],ti.prototype,"imageId",2);Vo([_e()],ti.prototype,"walletId",2);Vo([_e()],ti.prototype,"imageUrl",2);ti=Vo([Ne("wcm-qrcode")],ti);Ak=Fe`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`,Ok=Object.defineProperty,Pk=Object.getOwnPropertyDescriptor,D6=(r,e,t,n)=>{for(var i=n>1?void 0:n?Pk(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&Ok(e,t,i),i},Bh=class extends xe{constructor(){super(...arguments),this.onChange=()=>null}render(){return ee`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${ke.SEARCH_ICON}`}};Bh.styles=[Le.globalCss,Ak];D6([_e()],Bh.prototype,"onChange",2);Bh=D6([Ne("wcm-search-input")],Bh);Rk=Fe`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`,Tk=Object.defineProperty,Nk=Object.getOwnPropertyDescriptor,Lk=(r,e,t,n)=>{for(var i=n>1?void 0:n?Nk(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&Tk(e,t,i),i},u1=class extends xe{render(){return ee`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};u1.styles=[Le.globalCss,Rk];u1=Lk([Ne("wcm-spinner")],u1);Fk=Fe`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`,$k=Object.defineProperty,Uk=Object.getOwnPropertyDescriptor,x1=(r,e,t,n)=>{for(var i=n>1?void 0:n?Uk(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&$k(e,t,i),i},Cc=class extends xe{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){let r={"wcm-big-bold":this.variant==="big-bold","wcm-medium-regular":this.variant==="medium-regular","wcm-small-regular":this.variant==="small-regular","wcm-small-thin":this.variant==="small-thin","wcm-xsmall-regular":this.variant==="xsmall-regular","wcm-xsmall-bold":this.variant==="xsmall-bold","wcm-color-primary":this.color==="primary","wcm-color-secondary":this.color==="secondary","wcm-color-tertiary":this.color==="tertiary","wcm-color-inverse":this.color==="inverse","wcm-color-accnt":this.color==="accent","wcm-color-error":this.color==="error"};return ee`<span><slot class="${vn(r)}"></slot></span>`}};Cc.styles=[Le.globalCss,Fk];x1([_e()],Cc.prototype,"variant",2);x1([_e()],Cc.prototype,"color",2);Cc=x1([Ne("wcm-text")],Cc);Mk=Fe`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`,Bk=Object.defineProperty,jk=Object.getOwnPropertyDescriptor,Ki=(r,e,t,n)=>{for(var i=n>1?void 0:n?jk(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&Bk(e,t,i),i},yn=class extends xe{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?ee`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?ee`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){qg.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var r;return ee`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${Kt(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${(r=this.label)!=null?r:ye.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};yn.styles=[Le.globalCss,Mk];Ki([_e()],yn.prototype,"onClick",2);Ki([_e()],yn.prototype,"name",2);Ki([_e()],yn.prototype,"walletId",2);Ki([_e()],yn.prototype,"label",2);Ki([_e()],yn.prototype,"imageId",2);Ki([_e({type:Boolean})],yn.prototype,"installed",2);Ki([_e({type:Boolean})],yn.prototype,"recent",2);yn=Ki([Ne("wcm-wallet-button")],yn);qk=Fe`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`,zk=Object.defineProperty,kk=Object.getOwnPropertyDescriptor,kh=(r,e,t,n)=>{for(var i=n>1?void 0:n?kk(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&zk(e,t,i),i},zo=class extends xe{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var r;let e=(r=this.imageUrl)!=null&&r.length?this.imageUrl:ye.getWalletIcon({id:this.walletId,image_id:this.imageId});return ee`${e.length?ee`<div><img crossorigin="anonymous" src="${e}" alt="${this.id}"></div>`:ke.WALLET_PLACEHOLDER}`}};zo.styles=[Le.globalCss,qk];kh([_e()],zo.prototype,"walletId",2);kh([_e()],zo.prototype,"imageId",2);kh([_e()],zo.prototype,"imageUrl",2);zo=kh([Ne("wcm-wallet-image")],zo);Hk=Object.defineProperty,Wk=Object.getOwnPropertyDescriptor,A6=(r,e,t,n)=>{for(var i=n>1?void 0:n?Wk(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&Hk(e,t,i),i},h1=class extends xe{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(r){try{r?.length&&await Promise.all(r.map(async e=>ye.preloadImage(e)))}catch{console.info("Unsuccessful attempt at preloading some images",r)}}async preloadListings(){if(nr.state.enableExplorer){await ir.getRecomendedWallets(),lt.setIsDataLoaded(!0);let{recomendedWallets:r}=ir.state,e=r.map(t=>ye.getWalletIcon(t));await this.loadImages(e)}else lt.setIsDataLoaded(!0)}async preloadCustomImages(){let r=ye.getCustomImageUrls();await this.loadImages(r)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(r){console.error(r),Gn.openToast("Failed preloading","error")}}};A6([sr()],h1.prototype,"preload",2);h1=A6([Ne("wcm-explorer-context")],h1);Vk=Object.defineProperty,Kk=Object.getOwnPropertyDescriptor,Gk=(r,e,t,n)=>{for(var i=n>1?void 0:n?Kk(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&Vk(e,t,i),i},I6=class extends xe{constructor(){super(),this.unsubscribeTheme=void 0,Le.setTheme(),this.unsubscribeTheme=mn.subscribe(Le.setTheme)}disconnectedCallback(){var r;(r=this.unsubscribeTheme)==null||r.call(this)}};I6=Gk([Ne("wcm-theme-context")],I6);Yk=Fe`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`,Jk=Object.defineProperty,Zk=Object.getOwnPropertyDescriptor,Qk=(r,e,t,n)=>{for(var i=n>1?void 0:n?Zk(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&Jk(e,t,i),i},f1=class extends xe{onGoToQrcode(){st.push("Qrcode")}render(){let{recomendedWallets:r}=ir.state,e=[...r,...r],t=oe.RECOMMENDED_WALLET_AMOUNT*2;return ee`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${ke.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${ke.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(t)].map((n,i)=>{let a=e[i%e.length];return a?ee`<wcm-wallet-image walletId="${a.id}" imageId="${a.image_id}"></wcm-wallet-image>`:ke.WALLET_PLACEHOLDER})}</div><wcm-button-big @click="${ye.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};f1.styles=[Le.globalCss,Yk];f1=Qk([Ne("wcm-android-wallet-selection")],f1);Xk=Fe`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`,eH=Object.defineProperty,tH=Object.getOwnPropertyDescriptor,Ko=(r,e,t,n)=>{for(var i=n>1?void 0:n?tH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&eH(e,t,i),i},Vi=class extends xe{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var r,e;let a=(e=(r=mn.state.themeVariables)==null?void 0:r["--wcm-wallet-icon-large-border-radius"])!=null?e:Le.getPreset("--wcm-wallet-icon-large-border-radius"),c=0;a.includes("%")?c=88/100*parseInt(a,10):c=parseInt(a,10),c*=1.17;let u=317-c*1.57,h=425-c*1.8;return ee`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${c}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${u}" stroke-dashoffset="${h}"></use></svg>`}render(){let r={"wcm-error":this.isError,"wcm-stale":this.isStale};return ee`<div class="${vn(r)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${Kt(this.walletId)}" imageId="${Kt(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};Vi.styles=[Le.globalCss,Xk];Ko([_e()],Vi.prototype,"walletId",2);Ko([_e()],Vi.prototype,"imageId",2);Ko([_e({type:Boolean})],Vi.prototype,"isError",2);Ko([_e({type:Boolean})],Vi.prototype,"isStale",2);Ko([_e()],Vi.prototype,"label",2);Vi=Ko([Ne("wcm-connector-waiting")],Vi);qo={manualWallets(){var r,e;let{mobileWallets:t,desktopWallets:n}=nr.state,i=(r=qo.recentWallet())==null?void 0:r.id,a=oe.isMobile()?t:n,c=a?.filter(u=>i!==u.id);return(e=oe.isMobile()?c?.map(({id:u,name:h,links:f})=>({id:u,name:h,mobile:f,links:f})):c?.map(({id:u,name:h,links:f})=>({id:u,name:h,desktop:f,links:f})))!=null?e:[]},recentWallet(){return ye.getRecentWallet()},recomendedWallets(r=!1){var e;let t=r||(e=qo.recentWallet())==null?void 0:e.id,{recomendedWallets:n}=ir.state;return n.filter(a=>t!==a.id)}},Hi={onConnecting(r){ye.goToConnectingView(r)},manualWalletsTemplate(){return qo.manualWallets().map(e=>ee`<wcm-wallet-button walletId="${e.id}" name="${e.name}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`)},recomendedWalletsTemplate(r=!1){return qo.recomendedWallets(r).map(t=>ee`<wcm-wallet-button name="${t.name}" walletId="${t.id}" imageId="${t.image_id}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`)},recentWalletTemplate(){let r=qo.recentWallet();if(r)return ee`<wcm-wallet-button name="${r.name}" walletId="${r.id}" imageId="${Kt(r.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(r)}"></wcm-wallet-button>`}},rH=Fe`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`,nH=Object.defineProperty,iH=Object.getOwnPropertyDescriptor,sH=(r,e,t,n)=>{for(var i=n>1?void 0:n?iH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&nH(e,t,i),i},d1=class extends xe{render(){let{explorerExcludedWalletIds:r,enableExplorer:e}=nr.state,t=r!=="ALL"&&e,n=Hi.manualWalletsTemplate(),i=Hi.recomendedWalletsTemplate(),c=[Hi.recentWalletTemplate(),...n,...i];c=c.filter(Boolean);let u=c.length>4||t,h=[];u?h=c.slice(0,3):h=c;let f=!!h.length;return ee`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${ye.handleUriCopy}" .actionIcon="${ke.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${ke.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${ke.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${f?ee`<wcm-modal-footer><div class="wcm-desktop-title">${ke.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${h} ${u?ee`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};d1.styles=[Le.globalCss,rH];d1=sH([Ne("wcm-desktop-wallet-selection")],d1);oH=Fe`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`,aH=Object.defineProperty,cH=Object.getOwnPropertyDescriptor,lH=(r,e,t,n)=>{for(var i=n>1?void 0:n?cH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&aH(e,t,i),i},p1=class extends xe{render(){let{termsOfServiceUrl:r,privacyPolicyUrl:e}=nr.state;return r??e?ee`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${r?ee`<a href="${r}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${r&&e?"and":null} ${e?ee`<a href="${e}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};p1.styles=[Le.globalCss,oH];p1=lH([Ne("wcm-legal-notice")],p1);uH=Fe`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`,hH=Object.defineProperty,fH=Object.getOwnPropertyDescriptor,dH=(r,e,t,n)=>{for(var i=n>1?void 0:n?fH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&hH(e,t,i),i},g1=class extends xe{onQrcode(){st.push("Qrcode")}render(){let{explorerExcludedWalletIds:r,enableExplorer:e}=nr.state,t=r!=="ALL"&&e,n=Hi.manualWalletsTemplate(),i=Hi.recomendedWalletsTemplate(),c=[Hi.recentWalletTemplate(),...n,...i];c=c.filter(Boolean);let u=c.length>8||t,h=[];u?h=c.slice(0,7):h=c;let f=!!h.length;return ee`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${ke.QRCODE_ICON}"></wcm-modal-header>${f?ee`<wcm-modal-content><div>${h} ${u?ee`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};g1.styles=[Le.globalCss,uH];g1=dH([Ne("wcm-mobile-wallet-selection")],g1);pH=Fe`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`,gH=Object.defineProperty,mH=Object.getOwnPropertyDescriptor,I1=(r,e,t,n)=>{for(var i=n>1?void 0:n?mH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&gH(e,t,i),i},ko=class extends xe{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=Kn.subscribe(r=>{r.open?this.onOpenModalEvent():this.onCloseModalEvent()})}disconnectedCallback(){var r;(r=this.unsubscribeModal)==null||r.call(this)}get overlayEl(){return ye.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return ye.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(r){if(document.querySelector("body"))if(r){let t=document.getElementById("wcm-styles");t?.remove()}else document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>')}onCloseModal(r){r.target===r.currentTarget&&Kn.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(async()=>{let r=ye.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},e=.1,t=.2;await Promise.all([Qn(this.overlayEl,{opacity:[0,1]},{delay:e,duration:t}).finished,Qn(this.containerEl,r,{delay:e,duration:t}).finished]),this.active=!0},0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();let r=ye.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},e=.2;await Promise.all([Qn(this.overlayEl,{opacity:[1,0]},{duration:e}).finished,Qn(this.containerEl,r,{duration:e}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",r=>{var e;r.key==="Escape"?Kn.close():r.key==="Tab"&&((e=r.target)!=null&&e.tagName.includes("wcm-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var r;(r=this.abortController)==null||r.abort(),this.abortController=void 0}render(){let r={"wcm-overlay":!0,"wcm-active":this.active};return ee`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${vn(r)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?ee`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};ko.styles=[Le.globalCss,pH];I1([sr()],ko.prototype,"open",2);I1([sr()],ko.prototype,"active",2);ko=I1([Ne("wcm-modal")],ko);vH=Fe`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`,wH=Object.defineProperty,yH=Object.getOwnPropertyDescriptor,Dc=(r,e,t,n)=>{for(var i=n>1?void 0:n?yH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&wH(e,t,i),i},qs=class extends xe{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){oe.isMobile()?st.replace("MobileConnecting"):st.replace("MobileQrcodeConnecting")}onDesktop(){st.replace("DesktopConnecting")}onWeb(){st.replace("WebConnecting")}render(){return ee`<div>${this.isRetry?ee`<slot></slot>`:null} ${this.isMobile?ee`<wcm-button .onClick="${this.onMobile}" .iconLeft="${ke.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?ee`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${ke.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?ee`<wcm-button .onClick="${this.onWeb}" .iconLeft="${ke.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};qs.styles=[Le.globalCss,vH];Dc([_e({type:Boolean})],qs.prototype,"isMobile",2);Dc([_e({type:Boolean})],qs.prototype,"isDesktop",2);Dc([_e({type:Boolean})],qs.prototype,"isWeb",2);Dc([_e({type:Boolean})],qs.prototype,"isRetry",2);qs=Dc([Ne("wcm-platform-selection")],qs);bH=Fe`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`,_H=Object.defineProperty,EH=Object.getOwnPropertyDescriptor,xH=(r,e,t,n)=>{for(var i=n>1?void 0:n?EH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&_H(e,t,i),i},m1=class extends xe{onClick(){st.push("WalletExplorer")}render(){let{recomendedWallets:r}=ir.state,e=qo.manualWallets(),t=[...r,...e].reverse().slice(0,4);return ee`<button @click="${this.onClick}"><div class="wcm-icons">${t.map(n=>{let i=ye.getWalletIcon(n);if(i)return ee`<img crossorigin="anonymous" src="${i}">`;let a=ye.getWalletIcon({id:n.id});return a?ee`<img crossorigin="anonymous" src="${a}">`:ke.WALLET_PLACEHOLDER})} ${[...Array(4-t.length)].map(()=>ke.WALLET_PLACEHOLDER)}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};m1.styles=[Le.globalCss,bH];m1=xH([Ne("wcm-view-all-wallets-button")],m1);IH=Fe`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`,CH=Object.defineProperty,SH=Object.getOwnPropertyDescriptor,Hh=(r,e,t,n)=>{for(var i=n>1?void 0:n?SH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&CH(e,t,i),i},Ho=class extends xe{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout(()=>{let{walletConnectUri:r}=lt.state;this.uri=r},0)}get overlayEl(){return ye.getShadowRootElement(this,".wcm-qr-container")}render(){return ee`<div class="wcm-qr-container">${this.uri?ee`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${Kt(this.walletId)}" imageId="${Kt(this.imageId)}"></wcm-qrcode>`:ee`<wcm-spinner></wcm-spinner>`}</div>`}};Ho.styles=[Le.globalCss,IH];Hh([_e()],Ho.prototype,"walletId",2);Hh([_e()],Ho.prototype,"imageId",2);Hh([sr()],Ho.prototype,"uri",2);Ho=Hh([Ne("wcm-walletconnect-qr")],Ho);DH=Object.defineProperty,AH=Object.getOwnPropertyDescriptor,OH=(r,e,t,n)=>{for(var i=n>1?void 0:n?AH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&DH(e,t,i),i},v1=class extends xe{viewTemplate(){return oe.isAndroid()&&!oe.isTelegram()?ee`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:oe.isMobile()?ee`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:ee`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return ee`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};v1.styles=[Le.globalCss];v1=OH([Ne("wcm-connect-wallet-view")],v1);PH=Fe`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`,RH=Object.defineProperty,TH=Object.getOwnPropertyDescriptor,O6=(r,e,t,n)=>{for(var i=n>1?void 0:n?TH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&RH(e,t,i),i},jh=class extends xe{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(r){let{desktop:e,name:t}=oe.getWalletRouterData(),n=e?.native,i=e?.universal;if(n){let a=oe.formatNativeUrl(n,r,t);oe.openHref(a,"_self")}else if(i){let a=oe.formatUniversalUrl(i,r,t);oe.openHref(a,"_blank")}}openDesktopApp(){let{walletConnectUri:r}=lt.state,e=oe.getWalletRouterData();ye.setRecentWallet(e),r&&this.onFormatAndRedirect(r)}render(){let{name:r,id:e,image_id:t}=oe.getWalletRouterData(),{isMobile:n,isWeb:i}=ye.getCachedRouterWalletPlatforms();return ee`<wcm-modal-header title="${r}" .onAction="${ye.handleUriCopy}" .actionIcon="${ke.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Kt(t)}" label="${`Continue in ${r}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${r} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isWeb="${i}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${ke.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};jh.styles=[Le.globalCss,PH];O6([sr()],jh.prototype,"isError",2);jh=O6([Ne("wcm-desktop-connecting-view")],jh);NH=Fe`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`,LH=Object.defineProperty,FH=Object.getOwnPropertyDescriptor,$H=(r,e,t,n)=>{for(var i=n>1?void 0:n?FH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&LH(e,t,i),i},w1=class extends xe{onInstall(r){r&&oe.openHref(r,"_blank")}render(){let{name:r,id:e,image_id:t,homepage:n}=oe.getWalletRouterData();return ee`<wcm-modal-header title="${r}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Kt(t)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${r} to continue. If multiple browser extensions are installed, disable non ${r} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(n)}" .iconLeft="${ke.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};w1.styles=[Le.globalCss,NH];w1=$H([Ne("wcm-install-wallet-view")],w1);UH=Fe`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`,MH=Object.defineProperty,BH=Object.getOwnPropertyDescriptor,P6=(r,e,t,n)=>{for(var i=n>1?void 0:n?BH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&MH(e,t,i),i},qh=class extends xe{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(r,e=!1){let{mobile:t,name:n}=oe.getWalletRouterData(),i=t?.native,a=t?.universal,c=oe.isTelegram()?"_blank":"_self";if(r=oe.isTelegram()&&oe.isAndroid()?encodeURIComponent(r):r,i&&!e){let u=oe.formatNativeUrl(i,r,n);oe.openHref(u,c)}else if(a){let u=oe.formatUniversalUrl(a,r,n);oe.openHref(u,c)}}openMobileApp(r=!1){let{walletConnectUri:e}=lt.state,t=oe.getWalletRouterData();e&&this.onFormatAndRedirect(e,r),ye.setRecentWallet(t)}onGoToAppStore(r){r&&oe.openHref(r,"_blank")}render(){let{name:r,id:e,image_id:t,app:n,mobile:i}=oe.getWalletRouterData(),{isWeb:a}=ye.getCachedRouterWalletPlatforms(),c=n?.ios,u=i?.universal;return ee`<wcm-modal-header title="${r}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Kt(t)}" label="Tap 'Open' to continue…" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${a}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${ke.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${u?ee`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${e}" imageId="${Kt(t)}"></wcm-wallet-image><wcm-text>${`Get ${r}`}</wcm-text></div><wcm-button .iconRight="${ke.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(c)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};qh.styles=[Le.globalCss,UH];P6([sr()],qh.prototype,"isError",2);qh=P6([Ne("wcm-mobile-connecting-view")],qh);jH=Fe`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`,qH=Object.defineProperty,zH=Object.getOwnPropertyDescriptor,kH=(r,e,t,n)=>{for(var i=n>1?void 0:n?zH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&qH(e,t,i),i},y1=class extends xe{render(){let{name:r,id:e,image_id:t}=oe.getWalletRouterData(),{isDesktop:n,isWeb:i}=ye.getCachedRouterWalletPlatforms();return ee`<wcm-modal-header title="${r}" .onAction="${ye.handleUriCopy}" .actionIcon="${ke.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${e}" imageId="${Kt(t)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${r} app`}</wcm-text><wcm-platform-selection .isDesktop="${n}" .isWeb="${i}"></wcm-platform-selection></wcm-info-footer>`}};y1.styles=[Le.globalCss,jH];y1=kH([Ne("wcm-mobile-qr-connecting-view")],y1);HH=Object.defineProperty,WH=Object.getOwnPropertyDescriptor,VH=(r,e,t,n)=>{for(var i=n>1?void 0:n?WH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&HH(e,t,i),i},b1=class extends xe{render(){return ee`<wcm-modal-header title="Scan the code" .onAction="${ye.handleUriCopy}" .actionIcon="${ke.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};b1.styles=[Le.globalCss];b1=VH([Ne("wcm-qrcode-view")],b1);KH=Fe`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`,GH=Object.defineProperty,YH=Object.getOwnPropertyDescriptor,Ac=(r,e,t,n)=>{for(var i=n>1?void 0:n?YH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&GH(e,t,i),i},s1=40,zs=class extends xe{constructor(){super(...arguments),this.loading=!ir.state.wallets.listings.length,this.firstFetch=!ir.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=ye.debounce(r=>{r.length>=1?(this.firstFetch=!0,this.endReached=!1,this.search=r,ir.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),ir.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var r;(r=this.intersectionObserver)==null||r.disconnect()}get placeholderEl(){return ye.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([r])=>{r.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){let{wallets:r,search:e}=ir.state,{listings:t,total:n}=this.search?e:r;return n<=s1||t.length>=n}async fetchWallets(){var r;let{wallets:e,search:t}=ir.state,{listings:n,total:i,page:a}=this.search?t:e;if(!this.endReached&&(this.firstFetch||i>s1&&n.length<i))try{this.loading=!0;let c=(r=lt.state.chains)==null?void 0:r.join(","),{listings:u}=await ir.getWallets({page:this.firstFetch?1:a+1,entries:s1,search:this.search,version:2,chains:c}),h=u.map(f=>ye.getWalletIcon(f));await Promise.all([...h.map(async f=>ye.preloadImage(f)),oe.wait(300)]),this.endReached=this.isLastPage()}catch(c){console.error(c),Gn.openToast(ye.getErrorMessage(c),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(r){oe.isAndroid()?ye.handleMobileLinking(r):ye.goToConnectingView(r)}onSearchChange(r){let{value:e}=r.target;this.searchDebounce(e)}render(){let{wallets:r,search:e}=ir.state,{listings:t}=this.search?e:r,n=this.loading&&!t.length,i=this.search.length>=3,a=Hi.manualWalletsTemplate(),c=Hi.recomendedWalletsTemplate(!0);i&&(a=a.filter(({values:f})=>ye.caseSafeIncludes(f[0],this.search)),c=c.filter(({values:f})=>ye.caseSafeIncludes(f[0],this.search)));let u=!this.loading&&!t.length&&!c.length,h={"wcm-loading":n,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":u};return ee`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${vn(h)}"><div class="wcm-grid">${n?null:a} ${n?null:c} ${n?null:t.map(f=>ee`${f?ee`<wcm-wallet-button imageId="${f.image_id}" name="${f.name}" walletId="${f.id}" .onClick="${()=>this.onConnect(f)}"></wcm-wallet-button>`:null}`)}</div><div class="wcm-placeholder-block">${u?ee`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!u&&this.loading?ee`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};zs.styles=[Le.globalCss,KH];Ac([sr()],zs.prototype,"loading",2);Ac([sr()],zs.prototype,"firstFetch",2);Ac([sr()],zs.prototype,"search",2);Ac([sr()],zs.prototype,"endReached",2);zs=Ac([Ne("wcm-wallet-explorer-view")],zs);JH=Fe`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`,ZH=Object.defineProperty,QH=Object.getOwnPropertyDescriptor,R6=(r,e,t,n)=>{for(var i=n>1?void 0:n?QH(e,t):e,a=r.length-1,c;a>=0;a--)(c=r[a])&&(i=(n?c(e,t,i):c(i))||i);return n&&i&&ZH(e,t,i),i},zh=class extends xe{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(r){let{desktop:e,name:t}=oe.getWalletRouterData(),n=e?.universal;if(n){let i=oe.formatUniversalUrl(n,r,t);oe.openHref(i,"_blank")}}openWebWallet(){let{walletConnectUri:r}=lt.state,e=oe.getWalletRouterData();ye.setRecentWallet(e),r&&this.onFormatAndRedirect(r)}render(){let{name:r,id:e,image_id:t}=oe.getWalletRouterData(),{isMobile:n,isDesktop:i}=ye.getCachedRouterWalletPlatforms(),a=oe.isMobile();return ee`<wcm-modal-header title="${r}" .onAction="${ye.handleUriCopy}" .actionIcon="${ke.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Kt(t)}" label="${`Continue in ${r}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${r} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isDesktop="${a?!1:i}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${ke.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};zh.styles=[Le.globalCss,JH];R6([sr()],zh.prototype,"isError",2);zh=R6([Ne("wcm-web-connecting-view")],zh)});var L6={};Dt(L6,{WalletConnectModal:()=>C1});var C1,F6=te(()=>{zg();C1=class{constructor(e){this.openModal=Kn.open,this.closeModal=Kn.close,this.subscribeModal=Kn.subscribe,this.setTheme=mn.setThemeConfig,mn.setThemeConfig(e),nr.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.resolve().then(()=>(N6(),T6));let e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),lt.setIsUiLoaded(!0)}}}});var B6=je(Wr());var lp=je(Oy()),l2=je(Fy()),up=je(Sd()),xa=je(Wy()),Xl=je(Yy());function ss(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function ma(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?ss(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function Bl(r,e){e||(e=r.reduce((i,a)=>i+a.length,0));let t=ma(e),n=0;for(let i of r)t.set(i,n),n+=i.length;return ss(t)}var Ld={};Dt(Ld,{identity:()=>HP});function BP(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var a=r.charAt(i),c=a.charCodeAt(0);if(t[c]!==255)throw new TypeError(a+" is ambiguous");t[c]=i}var u=r.length,h=r.charAt(0),f=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function m(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var I=0,P=0,A=0,U=b.length;A!==U&&b[A]===0;)A++,I++;for(var S=(U-A)*p+1>>>0,T=new Uint8Array(S);A!==U;){for(var L=b[A],W=0,B=S-1;(L!==0||W<P)&&B!==-1;B--,W++)L+=256*T[B]>>>0,T[B]=L%u>>>0,L=L/u>>>0;if(L!==0)throw new Error("Non-zero carry");P=W,A++}for(var q=S-P;q!==S&&T[q]===0;)q++;for(var M=h.repeat(I);q<S;++q)M+=r.charAt(T[q]);return M}function w(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var I=0;if(b[I]!==" "){for(var P=0,A=0;b[I]===h;)P++,I++;for(var U=(b.length-I)*f+1>>>0,S=new Uint8Array(U);b[I];){var T=t[b.charCodeAt(I)];if(T===255)return;for(var L=0,W=U-1;(T!==0||L<A)&&W!==-1;W--,L++)T+=u*S[W]>>>0,S[W]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");A=L,I++}if(b[I]!==" "){for(var B=U-A;B!==U&&S[B]===0;)B++;for(var q=new Uint8Array(P+(U-B)),M=P;B!==U;)q[M++]=S[B++];return q}}}function _(b){var I=w(b);if(I)return I;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:w,decode:_}}var jP=BP,qP=jP,Jy=qP;var qW=new Uint8Array(0);var Zy=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},Tn=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")};var Qy=r=>new TextEncoder().encode(r),Xy=r=>new TextDecoder().decode(r);var Pd=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Rd=class{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return tb(this,e)}},Td=class{constructor(e){this.decoders=e}or(e){return tb(this,e)}decode(e){let t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},tb=(r,e)=>new Td({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),Nd=class{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new Pd(e,t,n),this.decoder=new Rd(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},so=({name:r,prefix:e,encode:t,decode:n})=>new Nd(r,e,t,n),mi=({prefix:r,name:e,alphabet:t})=>{let{encode:n,decode:i}=Jy(t,e);return so({prefix:r,name:e,encode:n,decode:a=>Tn(i(a))})},zP=(r,e,t,n)=>{let i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let a=r.length;for(;r[a-1]==="=";)--a;let c=new Uint8Array(a*t/8|0),u=0,h=0,f=0;for(let p=0;p<a;++p){let m=i[r[p]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);h=h<<t|m,u+=t,u>=8&&(u-=8,c[f++]=255&h>>u)}if(u>=t||255&h<<8-u)throw new SyntaxError("Unexpected end of data");return c},kP=(r,e,t)=>{let n=e[e.length-1]==="=",i=(1<<t)-1,a="",c=0,u=0;for(let h=0;h<r.length;++h)for(u=u<<8|r[h],c+=8;c>t;)c-=t,a+=e[i&u>>c];if(c&&(a+=e[i&u<<t-c]),n)for(;a.length*t&7;)a+="=";return a},dt=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>so({prefix:e,name:r,encode(i){return kP(i,n,t)},decode(i){return zP(i,n,t,r)}});var HP=so({prefix:"\0",name:"identity",encode:r=>Xy(r),decode:r=>Qy(r)});var Fd={};Dt(Fd,{base2:()=>WP});var WP=dt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var $d={};Dt($d,{base8:()=>VP});var VP=dt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ud={};Dt(Ud,{base10:()=>KP});var KP=mi({prefix:"9",name:"base10",alphabet:"0123456789"});var Md={};Dt(Md,{base16:()=>GP,base16upper:()=>YP});var GP=dt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),YP=dt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Bd={};Dt(Bd,{base32:()=>oo,base32hex:()=>XP,base32hexpad:()=>tR,base32hexpadupper:()=>rR,base32hexupper:()=>eR,base32pad:()=>ZP,base32padupper:()=>QP,base32upper:()=>JP,base32z:()=>nR});var oo=dt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),JP=dt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ZP=dt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),QP=dt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),XP=dt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eR=dt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tR=dt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rR=dt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nR=dt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var jd={};Dt(jd,{base36:()=>iR,base36upper:()=>sR});var iR=mi({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),sR=mi({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var qd={};Dt(qd,{base58btc:()=>rn,base58flickr:()=>oR});var rn=mi({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oR=mi({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var zd={};Dt(zd,{base64:()=>aR,base64pad:()=>cR,base64url:()=>lR,base64urlpad:()=>uR});var aR=dt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),cR=dt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lR=dt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),uR=dt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var kd={};Dt(kd,{base256emoji:()=>gR});var rb=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),hR=rb.reduce((r,e,t)=>(r[t]=e,r),[]),fR=rb.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function dR(r){return r.reduce((e,t)=>(e+=hR[t],e),"")}function pR(r){let e=[];for(let t of r){let n=fR[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}var gR=so({prefix:"\u{1F680}",name:"base256emoji",encode:dR,decode:pR});var Kd={};Dt(Kd,{sha256:()=>LR,sha512:()=>FR});var mR=sb,nb=128,vR=127,wR=~vR,yR=Math.pow(2,31);function sb(r,e,t){e=e||[],t=t||0;for(var n=t;r>=yR;)e[t++]=r&255|nb,r/=128;for(;r&wR;)e[t++]=r&255|nb,r>>>=7;return e[t]=r|0,sb.bytes=t-n+1,e}var bR=Hd,_R=128,ib=127;function Hd(r,n){var t=0,n=n||0,i=0,a=n,c,u=r.length;do{if(a>=u)throw Hd.bytes=0,new RangeError("Could not decode varint");c=r[a++],t+=i<28?(c&ib)<<i:(c&ib)*Math.pow(2,i),i+=7}while(c>=_R);return Hd.bytes=a-n,t}var ER=Math.pow(2,7),xR=Math.pow(2,14),IR=Math.pow(2,21),CR=Math.pow(2,28),SR=Math.pow(2,35),DR=Math.pow(2,42),AR=Math.pow(2,49),OR=Math.pow(2,56),PR=Math.pow(2,63),RR=function(r){return r<ER?1:r<xR?2:r<IR?3:r<CR?4:r<SR?5:r<DR?6:r<AR?7:r<OR?8:r<PR?9:10},TR={encode:mR,decode:bR,encodingLength:RR},NR=TR,va=NR;var wa=(r,e=0)=>[va.decode(r,e),va.decode.bytes],ao=(r,e,t=0)=>(va.encode(r,e,t),e),co=r=>va.encodingLength(r);var os=(r,e)=>{let t=e.byteLength,n=co(r),i=n+co(t),a=new Uint8Array(i+t);return ao(r,a,0),ao(t,a,n),a.set(e,i),new lo(r,t,e,a)},ob=r=>{let e=Tn(r),[t,n]=wa(e),[i,a]=wa(e.subarray(n)),c=e.subarray(n+a);if(c.byteLength!==i)throw new Error("Incorrect length");return new lo(t,i,c,e)},ab=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&Zy(r.bytes,e.bytes),lo=class{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}};var Vd=({name:r,code:e,encode:t})=>new Wd(r,e,t),Wd=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?os(this.code,t):t.then(n=>os(this.code,n))}else throw Error("Unknown type, must be binary type")}};var lb=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),LR=Vd({name:"sha2-256",code:18,encode:lb("SHA-256")}),FR=Vd({name:"sha2-512",code:19,encode:lb("SHA-512")});var Gd={};Dt(Gd,{identity:()=>MR});var ub=0,$R="identity",hb=Tn,UR=r=>os(ub,hb(r)),MR={code:ub,name:$R,encode:hb,digest:UR};var cV=new TextEncoder,lV=new TextDecoder;var kl=class r{constructor(e,t,n,i){this.code=t,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:zl,byteLength:zl,code:ql,version:ql,multihash:ql,bytes:ql,_baseCache:zl,asCID:zl})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==ba)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==HR)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return r.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,n=os(e,t);return r.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&ab(this.multihash,e.multihash)}toString(e){let{bytes:t,version:n,_baseCache:i}=this;switch(n){case 0:return zR(t,i,e||rn.encoder);default:return kR(t,i,e||oo.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return VR(/^0\.0/,KR),!!(e&&(e[db]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof r)return e;if(e!=null&&e.asCID===e){let{version:t,code:n,multihash:i,bytes:a}=e;return new r(t,n,i,a||fb(t,n,i.bytes))}else if(e!=null&&e[db]===!0){let{version:t,multihash:n,code:i}=e,a=ob(n);return r.create(t,i,a)}else return null}static create(e,t,n){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==ba)throw new Error(`Version 0 CID must use dag-pb (code: ${ba}) block encoding`);return new r(e,t,n,n.bytes)}case 1:{let i=fb(e,t,n.bytes);return new r(e,t,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return r.create(0,ba,e)}static createV1(e,t){return r.create(1,e,t)}static decode(e){let[t,n]=r.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=r.inspectBytes(e),n=t.size-t.multihashSize,i=Tn(e.subarray(n,n+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");let a=i.subarray(t.multihashSize-t.digestSize),c=new lo(t.multihashCode,t.digestSize,a,i);return[t.version===0?r.createV0(c):r.createV1(t.codec,c),e.subarray(t.size)]}static inspectBytes(e){let t=0,n=()=>{let[m,w]=wa(e.subarray(t));return t+=w,m},i=n(),a=ba;if(i===18?(i=0,t=0):i===1&&(a=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let c=t,u=n(),h=n(),f=t+h,p=f-c;return{version:i,codec:a,multihashCode:u,digestSize:h,multihashSize:p,size:f}}static parse(e,t){let[n,i]=qR(e,t),a=r.decode(i);return a._baseCache.set(n,e),a}},qR=(r,e)=>{switch(r[0]){case"Q":{let t=e||rn;return[rn.prefix,t.decode(`${rn.prefix}${r}`)]}case rn.prefix:{let t=e||rn;return[rn.prefix,t.decode(r)]}case oo.prefix:{let t=e||oo;return[oo.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},zR=(r,e,t)=>{let{prefix:n}=t;if(n!==rn.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let i=e.get(n);if(i==null){let a=t.encode(r).slice(1);return e.set(n,a),a}else return i},kR=(r,e,t)=>{let{prefix:n}=t,i=e.get(n);if(i==null){let a=t.encode(r);return e.set(n,a),a}else return i},ba=112,HR=18,fb=(r,e,t)=>{let n=co(r),i=n+co(e),a=new Uint8Array(i+t.byteLength);return ao(r,a,0),ao(e,a,n),a.set(t,i),a},db=Symbol.for("@ipld/js-cid/CID"),ql={writable:!1,configurable:!1,enumerable:!0},zl={writable:!1,enumerable:!1,configurable:!1},WR="0.0.0-dev",VR=(r,e)=>{if(r.test(WR))console.warn(e);else throw new Error(e)},KR=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var Yd={...Ld,...Fd,...$d,...Ud,...Md,...Bd,...jd,...qd,...zd,...kd},vV={...Kd,...Gd};function gb(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}var pb=gb("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Jd=gb("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=ma(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),GR={utf8:pb,"utf-8":pb,hex:Yd.base16,latin1:Jd,ascii:Jd,binary:Jd,...Yd},Hl=GR;function Er(r,e="utf8"){let t=Hl[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?ss(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function Qt(r,e="utf8"){let t=Hl[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var mb=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))},YR=function(){function r(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"}return r}();var JR=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}();var ZR=function(){function r(e,t,n,i){this.name=e,this.version=t,this.os=n,this.bot=i,this.type="bot-device"}return r}();var QR=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}();var XR=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}();var eT=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,tT=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,vb=3,rT=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",eT]],wb=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function bb(r){return r?yb(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new XR:typeof navigator<"u"?yb(navigator.userAgent):sT()}function nT(r){return r!==""&&rT.reduce(function(e,t){var n=t[0],i=t[1];if(e)return e;var a=i.exec(r);return!!a&&[n,a]},!1)}function yb(r){var e=nT(r);if(!e)return null;var t=e[0],n=e[1];if(t==="searchbot")return new QR;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<vb&&(i=mb(mb([],i,!0),oT(vb-i.length),!0)):i=[];var a=i.join("."),c=iT(r),u=tT.exec(r);return u&&u[1]?new ZR(t,a,c,u[1]):new YR(t,a,c)}function iT(r){for(var e=0,t=wb.length;e<t;e++){var n=wb[e],i=n[0],a=n[1],c=a.exec(r);if(c)return i}return null}function sT(){var r=typeof process<"u"&&process.version;return r?new JR(process.version.slice(1)):null}function oT(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var Ln=je(as()),vi=je(np()),u2=je(Lb()),go=je(Xb());var e2={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var JT=":";function h2(r){let[e,t]=r.split(JT);return{namespace:e,reference:t}}function f2(r,e=[]){let t=[];return Object.keys(r).forEach(n=>{if(e.length&&!e.includes(n))return;let i=r[n];t.push(...i.accounts)}),t}function d2(r,e){return r.includes(":")?[r]:e.chains||[]}var p2="base10",zt="base16",ap="base64pad",hp="utf8",g2=0,Fn=1,ZT=0,t2=1,cp=12,fp=32;function m2(){let r=Xl.generateKeyPair();return{privateKey:Qt(r.secretKey,zt),publicKey:Qt(r.publicKey,zt)}}function eu(){let r=(0,up.randomBytes)(fp);return Qt(r,zt)}function v2(r,e){let t=Xl.sharedKey(Er(r,zt),Er(e,zt),!0),n=new l2.HKDF(xa.SHA256,t).expand(fp);return Qt(n,zt)}function w2(r){let e=(0,xa.hash)(Er(r,zt));return Qt(e,zt)}function wi(r){let e=(0,xa.hash)(Er(r,hp));return Qt(e,zt)}function QT(r){return Er(`${r}`,p2)}function mo(r){return Number(Qt(r,p2))}function y2(r){let e=QT(typeof r.type<"u"?r.type:g2);if(mo(e)===Fn&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let t=typeof r.senderPublicKey<"u"?Er(r.senderPublicKey,zt):void 0,n=typeof r.iv<"u"?Er(r.iv,zt):(0,up.randomBytes)(cp),i=new lp.ChaCha20Poly1305(Er(r.symKey,zt)).seal(n,Er(r.message,hp));return XT({type:e,sealed:i,iv:n,senderPublicKey:t})}function b2(r){let e=new lp.ChaCha20Poly1305(Er(r.symKey,zt)),{sealed:t,iv:n}=Ia(r.encoded),i=e.open(n,t);if(i===null)throw new Error("Failed to decrypt");return Qt(i,hp)}function XT(r){if(mo(r.type)===Fn){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Qt(Bl([r.type,r.senderPublicKey,r.iv,r.sealed]),ap)}return Qt(Bl([r.type,r.iv,r.sealed]),ap)}function Ia(r){let e=Er(r,ap),t=e.slice(ZT,t2),n=t2;if(mo(t)===Fn){let u=n+fp,h=u+cp,f=e.slice(n,u),p=e.slice(u,h),m=e.slice(h);return{type:t,sealed:m,iv:p,senderPublicKey:f}}let i=n+cp,a=e.slice(n,i),c=e.slice(i);return{type:t,sealed:c,iv:a}}function _2(r,e){let t=Ia(r);return dp({type:mo(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?Qt(t.senderPublicKey,zt):void 0,receiverPublicKey:e?.receiverPublicKey})}function dp(r){let e=r?.type||g2;if(e===Fn){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function pp(r){return r.type===Fn&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var e9=Object.defineProperty,r2=Object.getOwnPropertySymbols,t9=Object.prototype.hasOwnProperty,r9=Object.prototype.propertyIsEnumerable,n2=(r,e,t)=>e in r?e9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,i2=(r,e)=>{for(var t in e||(e={}))t9.call(e,t)&&n2(r,t,e[t]);if(r2)for(var t of r2(e))r9.call(e,t)&&n2(r,t,e[t]);return r},n9="ReactNative",fr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};var i9="js";function tu(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function hs(){return!(0,vi.getDocument)()&&!!(0,vi.getNavigator)()&&navigator.product===n9}function yi(){return!tu()&&!!(0,vi.getNavigator)()&&!!(0,vi.getDocument)()}function Ca(){return hs()?fr.reactNative:tu()?fr.node:yi()?fr.browser:fr.unknown}function E2(){var r;try{return hs()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(r=global.Application)==null?void 0:r.applicationId:void 0}catch{return}}function s9(r,e){let t=go.parse(r);return t=i2(i2({},t),e),r=go.stringify(t),r}function x2(){return(0,u2.getWindowMetadata)()||{name:"",description:"",url:"",icons:[""]}}function o9(){if(Ca()===fr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){let{OS:t,Version:n}=global.Platform;return[t,n].join("-")}let r=bb();if(r===null)return"unknown";let e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function a9(){var r;let e=Ca();return e===fr.browser?[e,((r=(0,vi.getLocation)())==null?void 0:r.host)||"unknown"].join(":"):e}function c9(r,e,t){let n=o9(),i=a9();return[[r,e].join("-"),[i9,t].join("-"),n,i].join("/")}function I2({protocol:r,version:e,relayUrl:t,sdkVersion:n,auth:i,projectId:a,useOnCloseEvent:c,bundleId:u}){let h=t.split("?"),f=c9(r,e,n),p={auth:i,ua:f,projectId:a,useOnCloseEvent:c||void 0,origin:u||void 0},m=s9(h[1]||"",p);return h[0]+"?"+m}function ls(r,e){return r.filter(t=>e.includes(t)).length===r.length}function gp(r){return Object.fromEntries(r.entries())}function mp(r){return new Map(Object.entries(r))}function bi(r=Ln.FIVE_MINUTES,e){let t=(0,Ln.toMiliseconds)(r||Ln.FIVE_MINUTES),n,i,a;return{resolve:c=>{a&&n&&(clearTimeout(a),n(c))},reject:c=>{a&&i&&(clearTimeout(a),i(c))},done:()=>new Promise((c,u)=>{a=setTimeout(()=>{u(new Error(e))},t),n=c,i=u})}}function vo(r,e,t){return new Promise(async(n,i)=>{let a=setTimeout(()=>i(new Error(t)),e);try{let c=await r;n(c)}catch(c){i(c)}clearTimeout(a)})}function C2(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function S2(r){return C2("topic",r)}function D2(r){return C2("id",r)}function ru(r){let[e,t]=r.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")n.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))n.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return n}function Xt(r,e){return(0,Ln.fromMiliseconds)((e||Date.now())+(0,Ln.toMiliseconds)(r))}function on(r){return Date.now()>=(0,Ln.toMiliseconds)(r)}function ct(r,e){return`${r}${e?`:${e}`:""}`}function nu(r=[],e=[]){return[...new Set([...r,...e])]}async function A2({id:r,topic:e,wcDeepLink:t}){try{if(!t)return;let i=(typeof t=="string"?JSON.parse(t):t)?.href;if(typeof i!="string")return;i.endsWith("/")&&(i=i.slice(0,-1));let a=`${i}/wc?requestId=${r}&sessionTopic=${e}`,c=Ca();c===fr.browser?a.startsWith("https://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,"_self","noreferrer noopener"):c===fr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(n){console.error(n)}}async function O2(r,e){try{return await r.getItem(e)||(yi()?localStorage.getItem(e):void 0)}catch(t){console.error(t)}}var l9="irn";function iu(r){return r?.relay||{protocol:l9}}function Sa(r){let e=e2[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var u9=Object.defineProperty,h9=Object.defineProperties,f9=Object.getOwnPropertyDescriptors,s2=Object.getOwnPropertySymbols,d9=Object.prototype.hasOwnProperty,p9=Object.prototype.propertyIsEnumerable,o2=(r,e,t)=>e in r?u9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,g9=(r,e)=>{for(var t in e||(e={}))d9.call(e,t)&&o2(r,t,e[t]);if(s2)for(var t of s2(e))p9.call(e,t)&&o2(r,t,e[t]);return r},m9=(r,e)=>h9(r,f9(e));function v9(r,e="-"){let t={},n="relay"+e;return Object.keys(r).forEach(i=>{if(i.startsWith(n)){let a=i.replace(n,""),c=r[i];t[a]=c}}),t}function vp(r){r=r.includes("wc://")?r.replace("wc://",""):r,r=r.includes("wc:")?r.replace("wc:",""):r;let e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,n=r.substring(0,e),i=r.substring(e+1,t).split("@"),a=typeof t<"u"?r.substring(t):"",c=go.parse(a);return{protocol:n,topic:w9(i[0]),version:parseInt(i[1],10),symKey:c.symKey,relay:v9(c),expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function w9(r){return r.startsWith("//")?r.substring(2):r}function y9(r,e="-"){let t="relay",n={};return Object.keys(r).forEach(i=>{let a=t+e+i;r[i]&&(n[a]=r[i])}),n}function P2(r){return`${r.protocol}:${r.topic}@${r.version}?`+go.stringify(m9(g9({symKey:r.symKey},y9(r.relay)),{expiryTimestamp:r.expiryTimestamp}))}function wo(r){let e=[];return r.forEach(t=>{let[n,i]=t.split(":");e.push(`${n}:${i}`)}),e}function b9(r){let e=[];return Object.values(r).forEach(t=>{e.push(...wo(t.accounts))}),e}function _9(r,e){let t=[];return Object.values(r).forEach(n=>{wo(n.accounts).includes(e)&&t.push(...n.methods)}),t}function E9(r,e){let t=[];return Object.values(r).forEach(n=>{wo(n.accounts).includes(e)&&t.push(...n.events)}),t}function su(r){return r.includes(":")}function yo(r){return su(r)?r.split(":")[0]:r}var x9={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},I9={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Z(r,e){let{message:t,code:n}=I9[r];return{message:e?`${t} ${e}`:t,code:n}}function Ke(r,e){let{message:t,code:n}=x9[r];return{message:e?`${t} ${e}`:t,code:n}}function xr(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function fs(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function Tt(r){return typeof r>"u"}function wt(r,e){return e&&Tt(r)?!0:typeof r=="string"&&!!r.trim().length}function wp(r,e){return e&&Tt(r)?!0:typeof r=="number"&&!isNaN(r)}function R2(r,e){let{requiredNamespaces:t}=e,n=Object.keys(r.namespaces),i=Object.keys(t),a=!0;return ls(i,n)?(n.forEach(c=>{let{accounts:u,methods:h,events:f}=r.namespaces[c],p=wo(u),m=t[c];(!ls(d2(c,m),p)||!ls(m.methods,h)||!ls(m.events,f))&&(a=!1)}),a):!1}function Ql(r){return wt(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function C9(r){if(wt(r,!1)&&r.includes(":")){let e=r.split(":");if(e.length===3){let t=e[0]+":"+e[1];return!!e[2]&&Ql(t)}}return!1}function T2(r){if(wt(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function N2(r){var e;return(e=r?.proposer)==null?void 0:e.publicKey}function L2(r){return r?.topic}function F2(r,e){let t=null;return wt(r?.publicKey,!1)||(t=Z("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function a2(r){let e=!0;return xr(r)?r.length&&(e=r.every(t=>wt(t,!1))):e=!1,e}function S9(r,e,t){let n=null;return xr(e)&&e.length?e.forEach(i=>{n||Ql(i)||(n=Ke("UNSUPPORTED_CHAINS",`${t}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Ql(r)||(n=Ke("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function D9(r,e,t){let n=null;return Object.entries(r).forEach(([i,a])=>{if(n)return;let c=S9(i,d2(i,a),`${e} ${t}`);c&&(n=c)}),n}function A9(r,e){let t=null;return xr(r)?r.forEach(n=>{t||C9(n)||(t=Ke("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):t=Ke("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function O9(r,e){let t=null;return Object.values(r).forEach(n=>{if(t)return;let i=A9(n?.accounts,`${e} namespace`);i&&(t=i)}),t}function P9(r,e){let t=null;return a2(r?.methods)?a2(r?.events)||(t=Ke("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Ke("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function $2(r,e){let t=null;return Object.values(r).forEach(n=>{if(t)return;let i=P9(n,`${e}, namespace`);i&&(t=i)}),t}function U2(r,e,t){let n=null;if(r&&fs(r)){let i=$2(r,e);i&&(n=i);let a=D9(r,e,t);a&&(n=a)}else n=Z("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return n}function ou(r,e){let t=null;if(r&&fs(r)){let n=$2(r,e);n&&(t=n);let i=O9(r,e);i&&(t=i)}else t=Z("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function yp(r){return wt(r.protocol,!0)}function M2(r,e){let t=!1;return e&&!r?t=!0:r&&xr(r)&&r.length&&r.forEach(n=>{t=yp(n)}),t}function B2(r){return typeof r=="number"}function kt(r){return typeof r<"u"&&typeof r!==null}function j2(r){return!(!r||typeof r!="object"||!r.code||!wp(r.code,!1)||!r.message||!wt(r.message,!1))}function q2(r){return!(Tt(r)||!wt(r.method,!1))}function z2(r){return!(Tt(r)||Tt(r.result)&&Tt(r.error)||!wp(r.id,!1)||!wt(r.jsonrpc,!1))}function k2(r){return!(Tt(r)||!wt(r.name,!1))}function bp(r,e){return!(!Ql(e)||!b9(r).includes(e))}function H2(r,e,t){return wt(t,!1)?_9(r,e).includes(t):!1}function W2(r,e,t){return wt(t,!1)?E9(r,e).includes(t):!1}function _p(r,e,t){let n=null,i=R9(r),a=T9(e),c=Object.keys(i),u=Object.keys(a),h=c2(Object.keys(r)),f=c2(Object.keys(e)),p=h.filter(m=>!f.includes(m));return p.length&&(n=Z("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),ls(c,u)||(n=Z("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${u.toString()}`)),Object.keys(e).forEach(m=>{if(!m.includes(":")||n)return;let w=wo(e[m].accounts);w.includes(m)||(n=Z("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${m}
        Required: ${m}
        Approved: ${w.toString()}`))}),c.forEach(m=>{n||(ls(i[m].methods,a[m].methods)?ls(i[m].events,a[m].events)||(n=Z("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${m}`)):n=Z("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${m}`))}),n}function R9(r){let e={};return Object.keys(r).forEach(t=>{var n;t.includes(":")?e[t]=r[t]:(n=r[t].chains)==null||n.forEach(i=>{e[i]={methods:r[t].methods,events:r[t].events}})}),e}function c2(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function T9(r){let e={};return Object.keys(r).forEach(t=>{t.includes(":")?e[t]=r[t]:wo(r[t].accounts)?.forEach(i=>{e[i]={accounts:r[t].accounts.filter(a=>a.includes(`${i}:`)),methods:r[t].methods,events:r[t].events}})}),e}function V2(r,e){return wp(r,!1)&&r<=e.max&&r>=e.min}function Ep(){let r=Ca();return new Promise(e=>{switch(r){case fr.browser:e(N9());break;case fr.reactNative:e(L9());break;case fr.node:e(F9());break;default:e(!0)}})}function N9(){return yi()&&navigator?.onLine}async function L9(){return hs()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function F9(){return!0}function K2(r){switch(Ca()){case fr.browser:$9(r);break;case fr.reactNative:U9(r);break;case fr.node:break}}function $9(r){!hs()&&yi()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function U9(r){hs()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>r(e?.isConnected))}var op={},us=class{static get(e){return op[e]}static set(e,t){op[e]=t}static delete(e){delete op[e]}};var zn=je(Wr());var M9=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,B9=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,j9=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function q9(r,e){if(r==="__proto__"||r==="constructor"&&e&&typeof e=="object"&&"prototype"in e){z9(r);return}return e}function z9(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function Da(r,e={}){if(typeof r!="string")return r;if(r[0]==='"'&&r[r.length-1]==='"'&&r.indexOf("\\")===-1)return r.slice(1,-1);let t=r.trim();if(t.length<=9)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!j9.test(r)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(M9.test(r)||B9.test(r)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,q9)}return JSON.parse(r)}catch(n){if(e.strict)throw n;return r}}function k9(r){return!r||typeof r.then!="function"?Promise.resolve(r):r}function xt(r,...e){try{return k9(r(...e))}catch(t){return Promise.reject(t)}}function H9(r){let e=typeof r;return r===null||e!=="object"&&e!=="function"}function W9(r){let e=Object.getPrototypeOf(r);return!e||e.isPrototypeOf(Object)}function Aa(r){if(H9(r))return String(r);if(W9(r)||Array.isArray(r))return JSON.stringify(r);if(typeof r.toJSON=="function")return Aa(r.toJSON());throw new Error("[unstorage] Cannot stringify value!")}var xp="base64:";function G2(r){return typeof r=="string"?r:xp+K9(r)}function Y2(r){return typeof r!="string"||!r.startsWith(xp)?r:V9(r.slice(xp.length))}function V9(r){return globalThis.Buffer?Buffer.from(r,"base64"):Uint8Array.from(globalThis.atob(r),e=>e.codePointAt(0))}function K9(r){return globalThis.Buffer?Buffer.from(r).toString("base64"):globalThis.btoa(String.fromCodePoint(...r))}function er(r){return r&&r.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function J2(...r){return er(r.join(":"))}function Oa(r){return r=er(r),r?r+":":""}function Z2(r,e){if(e===void 0)return!0;let t=0,n=r.indexOf(":");for(;n>-1;)t++,n=r.indexOf(":",n+1);return t<=e}function Q2(r,e){return e?r.startsWith(e)&&r[r.length-1]!=="$":r[r.length-1]!=="$"}var G9="memory",Y9=()=>{let r=new Map;return{name:G9,getInstance:()=>r,hasItem(e){return r.has(e)},getItem(e){return r.get(e)??null},getItemRaw(e){return r.get(e)??null},setItem(e,t){r.set(e,t)},setItemRaw(e,t){r.set(e,t)},removeItem(e){r.delete(e)},getKeys(){return[...r.keys()]},clear(){r.clear()},dispose(){r.clear()}}};function t_(r={}){let e={mounts:{"":r.driver||Y9()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=f=>{for(let p of e.mountpoints)if(f.startsWith(p))return{base:p,relativeKey:f.slice(p.length),driver:e.mounts[p]};return{base:"",relativeKey:f,driver:e.mounts[""]}},n=(f,p)=>e.mountpoints.filter(m=>m.startsWith(f)||p&&f.startsWith(m)).map(m=>({relativeBase:f.length>m.length?f.slice(m.length):void 0,mountpoint:m,driver:e.mounts[m]})),i=(f,p)=>{if(e.watching){p=er(p);for(let m of e.watchListeners)m(f,p)}},a=async()=>{if(!e.watching){e.watching=!0;for(let f in e.mounts)e.unwatch[f]=await X2(e.mounts[f],i,f)}},c=async()=>{if(e.watching){for(let f in e.unwatch)await e.unwatch[f]();e.unwatch={},e.watching=!1}},u=(f,p,m)=>{let w=new Map,_=b=>{let I=w.get(b.base);return I||(I={driver:b.driver,base:b.base,items:[]},w.set(b.base,I)),I};for(let b of f){let I=typeof b=="string",P=er(I?b:b.key),A=I?void 0:b.value,U=I||!b.options?p:{...p,...b.options},S=t(P);_(S).items.push({key:P,value:A,relativeKey:S.relativeKey,options:U})}return Promise.all([...w.values()].map(b=>m(b))).then(b=>b.flat())},h={hasItem(f,p={}){f=er(f);let{relativeKey:m,driver:w}=t(f);return xt(w.hasItem,m,p)},getItem(f,p={}){f=er(f);let{relativeKey:m,driver:w}=t(f);return xt(w.getItem,m,p).then(_=>Da(_))},getItems(f,p={}){return u(f,p,m=>m.driver.getItems?xt(m.driver.getItems,m.items.map(w=>({key:w.relativeKey,options:w.options})),p).then(w=>w.map(_=>({key:J2(m.base,_.key),value:Da(_.value)}))):Promise.all(m.items.map(w=>xt(m.driver.getItem,w.relativeKey,w.options).then(_=>({key:w.key,value:Da(_)})))))},getItemRaw(f,p={}){f=er(f);let{relativeKey:m,driver:w}=t(f);return w.getItemRaw?xt(w.getItemRaw,m,p):xt(w.getItem,m,p).then(_=>Y2(_))},async setItem(f,p,m={}){if(p===void 0)return h.removeItem(f);f=er(f);let{relativeKey:w,driver:_}=t(f);_.setItem&&(await xt(_.setItem,w,Aa(p),m),_.watch||i("update",f))},async setItems(f,p){await u(f,p,async m=>{if(m.driver.setItems)return xt(m.driver.setItems,m.items.map(w=>({key:w.relativeKey,value:Aa(w.value),options:w.options})),p);m.driver.setItem&&await Promise.all(m.items.map(w=>xt(m.driver.setItem,w.relativeKey,Aa(w.value),w.options)))})},async setItemRaw(f,p,m={}){if(p===void 0)return h.removeItem(f,m);f=er(f);let{relativeKey:w,driver:_}=t(f);if(_.setItemRaw)await xt(_.setItemRaw,w,p,m);else if(_.setItem)await xt(_.setItem,w,G2(p),m);else return;_.watch||i("update",f)},async removeItem(f,p={}){typeof p=="boolean"&&(p={removeMeta:p}),f=er(f);let{relativeKey:m,driver:w}=t(f);w.removeItem&&(await xt(w.removeItem,m,p),(p.removeMeta||p.removeMata)&&await xt(w.removeItem,m+"$",p),w.watch||i("remove",f))},async getMeta(f,p={}){typeof p=="boolean"&&(p={nativeOnly:p}),f=er(f);let{relativeKey:m,driver:w}=t(f),_=Object.create(null);if(w.getMeta&&Object.assign(_,await xt(w.getMeta,m,p)),!p.nativeOnly){let b=await xt(w.getItem,m+"$",p).then(I=>Da(I));b&&typeof b=="object"&&(typeof b.atime=="string"&&(b.atime=new Date(b.atime)),typeof b.mtime=="string"&&(b.mtime=new Date(b.mtime)),Object.assign(_,b))}return _},setMeta(f,p,m={}){return this.setItem(f+"$",p,m)},removeMeta(f,p={}){return this.removeItem(f+"$",p)},async getKeys(f,p={}){f=Oa(f);let m=n(f,!0),w=[],_=[],b=!0;for(let P of m){P.driver.flags?.maxDepth||(b=!1);let A=await xt(P.driver.getKeys,P.relativeBase,p);for(let U of A){let S=P.mountpoint+er(U);w.some(T=>S.startsWith(T))||_.push(S)}w=[P.mountpoint,...w.filter(U=>!U.startsWith(P.mountpoint))]}let I=p.maxDepth!==void 0&&!b;return _.filter(P=>(!I||Z2(P,p.maxDepth))&&Q2(P,f))},async clear(f,p={}){f=Oa(f),await Promise.all(n(f,!1).map(async m=>{if(m.driver.clear)return xt(m.driver.clear,m.relativeBase,p);if(m.driver.removeItem){let w=await m.driver.getKeys(m.relativeBase||"",p);return Promise.all(w.map(_=>m.driver.removeItem(_,p)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(f=>e_(f)))},async watch(f){return await a(),e.watchListeners.push(f),async()=>{e.watchListeners=e.watchListeners.filter(p=>p!==f),e.watchListeners.length===0&&await c()}},async unwatch(){e.watchListeners=[],await c()},mount(f,p){if(f=Oa(f),f&&e.mounts[f])throw new Error(`already mounted at ${f}`);return f&&(e.mountpoints.push(f),e.mountpoints.sort((m,w)=>w.length-m.length)),e.mounts[f]=p,e.watching&&Promise.resolve(X2(p,i,f)).then(m=>{e.unwatch[f]=m}).catch(console.error),h},async unmount(f,p=!0){f=Oa(f),!(!f||!e.mounts[f])&&(e.watching&&f in e.unwatch&&(e.unwatch[f]?.(),delete e.unwatch[f]),p&&await e_(e.mounts[f]),e.mountpoints=e.mountpoints.filter(m=>m!==f),delete e.mounts[f])},getMount(f=""){f=er(f)+":";let p=t(f);return{driver:p.driver,base:p.base}},getMounts(f="",p={}){return f=er(f),n(f,p.parents).map(w=>({driver:w.driver,base:w.mountpoint}))},keys:(f,p={})=>h.getKeys(f,p),get:(f,p={})=>h.getItem(f,p),set:(f,p,m={})=>h.setItem(f,p,m),has:(f,p={})=>h.hasItem(f,p),del:(f,p={})=>h.removeItem(f,p),remove:(f,p={})=>h.removeItem(f,p)};return h}function X2(r,e,t){return r.watch?r.watch((n,i)=>e(n,t+i)):()=>{}}async function e_(r){typeof r.dispose=="function"&&await xt(r.dispose)}function ds(r){return new Promise((e,t)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>t(r.error)})}function Cp(r,e){let t,n=()=>{if(t)return t;let i=indexedDB.open(r);return i.onupgradeneeded=()=>i.result.createObjectStore(e),t=ds(i),t.then(a=>{a.onclose=()=>t=void 0},()=>{}),t};return(i,a)=>n().then(c=>a(c.transaction(e,i).objectStore(e)))}var Ip;function Pa(){return Ip||(Ip=Cp("keyval-store","keyval")),Ip}function Sp(r,e=Pa()){return e("readonly",t=>ds(t.get(r)))}function r_(r,e,t=Pa()){return t("readwrite",n=>(n.put(e,r),ds(n.transaction)))}function n_(r,e=Pa()){return e("readwrite",t=>(t.delete(r),ds(t.transaction)))}function i_(r=Pa()){return r("readwrite",e=>(e.clear(),ds(e.transaction)))}function J9(r,e){return r.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},ds(r.transaction)}function s_(r=Pa()){return r("readonly",e=>{if(e.getAllKeys)return ds(e.getAllKeys());let t=[];return J9(e,n=>t.push(n.key)).then(()=>t)})}var Z9=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),Q9=r=>{let e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function an(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return Q9(r)}catch{return r}}function Ir(r){return typeof r=="string"?r:Z9(r)||""}var X9="idb-keyval",eN=(r={})=>{let e=r.base&&r.base.length>0?`${r.base}:`:"",t=i=>e+i,n;return r.dbName&&r.storeName&&(n=Cp(r.dbName,r.storeName)),{name:X9,options:r,async hasItem(i){return!(typeof await Sp(t(i),n)>"u")},async getItem(i){return await Sp(t(i),n)??null},setItem(i,a){return r_(t(i),a,n)},removeItem(i){return n_(t(i),n)},getKeys(){return s_(n)},clear(){return i_(n)}}},tN="WALLET_CONNECT_V2_INDEXED_DB",rN="keyvaluestorage",Ap=class{constructor(){this.indexedDb=t_({driver:eN({dbName:tN,storeName:rN})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let t=await this.indexedDb.getItem(e);if(t!==null)return t}async setItem(e,t){await this.indexedDb.setItem(e,Ir(t))}async removeItem(e){await this.indexedDb.removeItem(e)}},Dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},au={exports:{}};(function(){let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,n){this[t]=String(n)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){let t=this;Object.keys(t).forEach(function(n){t[n]=void 0,delete t[n]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Dp<"u"&&Dp.localStorage?au.exports=Dp.localStorage:typeof window<"u"&&window.localStorage?au.exports=window.localStorage:au.exports=new e})();function nN(r){var e;return[r[0],an((e=r[1])!=null?e:"")]}var Op=class{constructor(){this.localStorage=au.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(nN)}async getItem(e){let t=this.localStorage.getItem(e);if(t!==null)return an(t)}async setItem(e,t){this.localStorage.setItem(e,Ir(t))}async removeItem(e){this.localStorage.removeItem(e)}},iN="wc_storage_version",o_=1,sN=async(r,e,t)=>{let n=iN,i=await e.getItem(n);if(i&&i>=o_){t(e);return}let a=await r.getKeys();if(!a.length){t(e);return}let c=[];for(;a.length;){let u=a.shift();if(!u)continue;let h=u.toLowerCase();if(h.includes("wc@")||h.includes("walletconnect")||h.includes("wc_")||h.includes("wallet_connect")){let f=await r.getItem(u);await e.setItem(u,f),c.push(u)}}await e.setItem(n,o_),t(e),oN(r,c)},oN=async(r,e)=>{e.length&&e.forEach(async t=>{await r.removeItem(t)})},cu=class{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};let e=new Op;this.storage=e;try{let t=new Ap;sN(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}};var Is=je(f_());var __=je(zp()),_i=je(zp());var SN={level:"info"},La="custom_context",RK=1e3*1024;var DN=Object.defineProperty,AN=Object.defineProperties,ON=Object.getOwnPropertyDescriptors,y_=Object.getOwnPropertySymbols,PN=Object.prototype.hasOwnProperty,RN=Object.prototype.propertyIsEnumerable,b_=(r,e,t)=>e in r?DN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,TN=(r,e)=>{for(var t in e||(e={}))PN.call(e,t)&&b_(r,t,e[t]);if(y_)for(var t of y_(e))RN.call(e,t)&&b_(r,t,e[t]);return r},NN=(r,e)=>AN(r,ON(e));function ps(r){return NN(TN({},r),{level:r?.level||SN.level})}function LN(r,e=La){return r[e]||""}function FN(r,e,t=La){return r[t]=e,r}function Ht(r,e=La){let t="";return typeof r.bindings>"u"?t=LN(r,e):t=r.bindings().context||"",t}function $N(r,e,t=La){let n=Ht(r,t);return n.trim()?`${n}/${e}`:e}function Wt(r,e,t=La){let n=$N(r,e,t),i=r.child({context:n});return FN(i,n,t)}Pp();var E_=je(Wr()),du=class extends cn{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}};var pu=class extends cn{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}},gu=class{constructor(e,t){this.logger=e,this.core=t}},mu=class extends cn{constructor(e,t){super(),this.relayer=e,this.logger=t}},vu=class extends cn{constructor(e){super()}},wu=class{constructor(e,t,n,i){this.core=e,this.logger=t,this.name=n}};var yu=class extends cn{constructor(e,t){super(),this.relayer=e,this.logger=t}};var bu=class extends cn{constructor(e,t){super(),this.core=e,this.logger=t}};var _u=class{constructor(e,t){this.projectId=e,this.logger=t}},Eu=class{constructor(e,t){this.projectId=e,this.logger=t}};var xu=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}};var Iu=class{constructor(e){this.client=e}};var j_=je(as());function UN(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function q_(r,...e){if(!UN(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function x_(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function MN(r,e){q_(r);let t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}var xo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var kp=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);function BN(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function z_(r){return typeof r=="string"&&(r=BN(r)),q_(r),r}var Zp=class{clone(){return this._cloneInto()}};function jN(r){let e=n=>r().update(z_(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function k_(r=32){if(xo&&typeof xo.getRandomValues=="function")return xo.getRandomValues(new Uint8Array(r));if(xo&&typeof xo.randomBytes=="function")return xo.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}function qN(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let i=BigInt(32),a=BigInt(4294967295),c=Number(t>>i&a),u=Number(t&a),h=n?4:0,f=n?0:4;r.setUint32(e+h,c,n),r.setUint32(e+f,u,n)}var Qp=class extends Zp{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=kp(this.buffer)}update(e){x_(this);let{view:t,buffer:n,blockLen:i}=this;e=z_(e);let a=e.length;for(let c=0;c<a;){let u=Math.min(i-this.pos,a-c);if(u===i){let h=kp(e);for(;i<=a-c;c+=i)this.process(h,c);continue}n.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){x_(this),MN(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:i,isLE:a}=this,{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(n,0),c=0);for(let m=c;m<i;m++)t[m]=0;qN(n,i-8,BigInt(this.length*8),a),this.process(n,0);let u=kp(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=h/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<f;m++)u.setUint32(4*m,p[m],a)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:i,finished:a,destroyed:c,pos:u}=this;return e.length=i,e.pos=u,e.finished=a,e.destroyed=c,i%t&&e.buffer.set(n),e}},Cu=BigInt(2**32-1),Xp=BigInt(32);function H_(r,e=!1){return e?{h:Number(r&Cu),l:Number(r>>Xp&Cu)}:{h:Number(r>>Xp&Cu)|0,l:Number(r&Cu)|0}}function zN(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){let{h:a,l:c}=H_(r[i],e);[t[i],n[i]]=[a,c]}return[t,n]}var kN=(r,e)=>BigInt(r>>>0)<<Xp|BigInt(e>>>0),HN=(r,e,t)=>r>>>t,WN=(r,e,t)=>r<<32-t|e>>>t,VN=(r,e,t)=>r>>>t|e<<32-t,KN=(r,e,t)=>r<<32-t|e>>>t,GN=(r,e,t)=>r<<64-t|e>>>t-32,YN=(r,e,t)=>r>>>t-32|e<<64-t,JN=(r,e)=>e,ZN=(r,e)=>r,QN=(r,e,t)=>r<<t|e>>>32-t,XN=(r,e,t)=>e<<t|r>>>32-t,eL=(r,e,t)=>e<<t-32|r>>>64-t,tL=(r,e,t)=>r<<t-32|e>>>64-t;function rL(r,e,t,n){let i=(e>>>0)+(n>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}var nL=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),iL=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,sL=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),oL=(r,e,t,n,i)=>e+t+n+i+(r/2**32|0)|0,aL=(r,e,t,n,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0),cL=(r,e,t,n,i,a)=>e+t+n+i+a+(r/2**32|0)|0,Ce={fromBig:H_,split:zN,toBig:kN,shrSH:HN,shrSL:WN,rotrSH:VN,rotrSL:KN,rotrBH:GN,rotrBL:YN,rotr32H:JN,rotr32L:ZN,rotlSH:QN,rotlSL:XN,rotlBH:eL,rotlBL:tL,add:rL,add3L:nL,add3H:iL,add4L:sL,add4H:oL,add5H:cL,add5L:aL},[lL,uL]=Ce.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Ei=new Uint32Array(80),xi=new Uint32Array(80),e0=class extends Qp{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:n,Bl:i,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:p,Fh:m,Fl:w,Gh:_,Gl:b,Hh:I,Hl:P}=this;return[e,t,n,i,a,c,u,h,f,p,m,w,_,b,I,P]}set(e,t,n,i,a,c,u,h,f,p,m,w,_,b,I,P){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=i|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=h|0,this.Eh=f|0,this.El=p|0,this.Fh=m|0,this.Fl=w|0,this.Gh=_|0,this.Gl=b|0,this.Hh=I|0,this.Hl=P|0}process(e,t){for(let S=0;S<16;S++,t+=4)Ei[S]=e.getUint32(t),xi[S]=e.getUint32(t+=4);for(let S=16;S<80;S++){let T=Ei[S-15]|0,L=xi[S-15]|0,W=Ce.rotrSH(T,L,1)^Ce.rotrSH(T,L,8)^Ce.shrSH(T,L,7),B=Ce.rotrSL(T,L,1)^Ce.rotrSL(T,L,8)^Ce.shrSL(T,L,7),q=Ei[S-2]|0,M=xi[S-2]|0,Y=Ce.rotrSH(q,M,19)^Ce.rotrBH(q,M,61)^Ce.shrSH(q,M,6),x=Ce.rotrSL(q,M,19)^Ce.rotrBL(q,M,61)^Ce.shrSL(q,M,6),N=Ce.add4L(B,x,xi[S-7],xi[S-16]),G=Ce.add4H(N,W,Y,Ei[S-7],Ei[S-16]);Ei[S]=G|0,xi[S]=N|0}let{Ah:n,Al:i,Bh:a,Bl:c,Ch:u,Cl:h,Dh:f,Dl:p,Eh:m,El:w,Fh:_,Fl:b,Gh:I,Gl:P,Hh:A,Hl:U}=this;for(let S=0;S<80;S++){let T=Ce.rotrSH(m,w,14)^Ce.rotrSH(m,w,18)^Ce.rotrBH(m,w,41),L=Ce.rotrSL(m,w,14)^Ce.rotrSL(m,w,18)^Ce.rotrBL(m,w,41),W=m&_^~m&I,B=w&b^~w&P,q=Ce.add5L(U,L,B,uL[S],xi[S]),M=Ce.add5H(q,A,T,W,lL[S],Ei[S]),Y=q|0,x=Ce.rotrSH(n,i,28)^Ce.rotrBH(n,i,34)^Ce.rotrBH(n,i,39),N=Ce.rotrSL(n,i,28)^Ce.rotrBL(n,i,34)^Ce.rotrBL(n,i,39),G=n&a^n&u^a&u,ie=i&c^i&h^c&h;A=I|0,U=P|0,I=_|0,P=b|0,_=m|0,b=w|0,{h:m,l:w}=Ce.add(f|0,p|0,M|0,Y|0),f=u|0,p=h|0,u=a|0,h=c|0,a=n|0,c=i|0;let H=Ce.add3L(Y,N,ie);n=Ce.add3H(H,M,x,G),i=H|0}({h:n,l:i}=Ce.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:a,l:c}=Ce.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:h}=Ce.add(this.Ch|0,this.Cl|0,u|0,h|0),{h:f,l:p}=Ce.add(this.Dh|0,this.Dl|0,f|0,p|0),{h:m,l:w}=Ce.add(this.Eh|0,this.El|0,m|0,w|0),{h:_,l:b}=Ce.add(this.Fh|0,this.Fl|0,_|0,b|0),{h:I,l:P}=Ce.add(this.Gh|0,this.Gl|0,I|0,P|0),{h:A,l:U}=Ce.add(this.Hh|0,this.Hl|0,A|0,U|0),this.set(n,i,a,c,u,h,f,p,m,w,_,b,I,P,A,U)}roundClean(){Ei.fill(0),xi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},hL=jN(()=>new e0);var h0=BigInt(0),W_=BigInt(1),fL=BigInt(2);function f0(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function d0(r){if(!f0(r))throw new Error("Uint8Array expected")}function Hp(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}var dL=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function p0(r){d0(r);let e="";for(let t=0;t<r.length;t++)e+=dL[r[t]];return e}function V_(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?h0:BigInt("0x"+r)}var $n={_0:48,_9:57,A:65,F:70,a:97,f:102};function I_(r){if(r>=$n._0&&r<=$n._9)return r-$n._0;if(r>=$n.A&&r<=$n.F)return r-($n.A-10);if(r>=$n.a&&r<=$n.f)return r-($n.a-10)}function K_(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(t);for(let i=0,a=0;i<t;i++,a+=2){let c=I_(r.charCodeAt(a)),u=I_(r.charCodeAt(a+1));if(c===void 0||u===void 0){let h=r[a]+r[a+1];throw new Error('hex string expected, got non-hex character "'+h+'" at index '+a)}n[i]=c*16+u}return n}function pL(r){return V_(p0(r))}function Au(r){return d0(r),V_(p0(Uint8Array.from(r).reverse()))}function G_(r,e){return K_(r.toString(16).padStart(e*2,"0"))}function t0(r,e){return G_(r,e).reverse()}function Un(r,e,t){let n;if(typeof e=="string")try{n=K_(e)}catch(a){throw new Error(r+" must be hex string or Uint8Array, cause: "+a)}else if(f0(e))n=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");let i=n.length;if(typeof t=="number"&&i!==t)throw new Error(r+" of length "+t+" expected, got "+i);return n}function C_(...r){let e=0;for(let n=0;n<r.length;n++){let i=r[n];d0(i),e+=i.length}let t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){let a=r[n];t.set(a,i),i+=a.length}return t}var Wp=r=>typeof r=="bigint"&&h0<=r;function gL(r,e,t){return Wp(r)&&Wp(e)&&Wp(t)&&e<=r&&r<t}function Fa(r,e,t,n){if(!gL(e,t,n))throw new Error("expected valid "+r+": "+t+" <= n < "+n+", got "+e)}function mL(r){let e;for(e=0;r>h0;r>>=W_,e+=1);return e}var vL=r=>(fL<<BigInt(r-1))-W_,wL={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||f0(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function g0(r,e,t={}){let n=(i,a,c)=>{let u=wL[a];if(typeof u!="function")throw new Error("invalid validator function");let h=r[i];if(!(c&&h===void 0)&&!u(h,r))throw new Error("param "+String(i)+" is invalid. Expected "+a+", got "+h)};for(let[i,a]of Object.entries(e))n(i,a,!1);for(let[i,a]of Object.entries(t))n(i,a,!0);return r}function S_(r){let e=new WeakMap;return(t,...n)=>{let i=e.get(t);if(i!==void 0)return i;let a=r(t,...n);return e.set(t,a),a}}var At=BigInt(0),vt=BigInt(1),gs=BigInt(2),yL=BigInt(3),r0=BigInt(4),D_=BigInt(5),A_=BigInt(8);function It(r,e){let t=r%e;return t>=At?t:e+t}function bL(r,e,t){if(e<At)throw new Error("invalid exponent, negatives unsupported");if(t<=At)throw new Error("invalid modulus");if(t===vt)return At;let n=vt;for(;e>At;)e&vt&&(n=n*r%t),r=r*r%t,e>>=vt;return n}function un(r,e,t){let n=r;for(;e-- >At;)n*=n,n%=t;return n}function O_(r,e){if(r===At)throw new Error("invert: expected non-zero number");if(e<=At)throw new Error("invert: expected positive modulus, got "+e);let t=It(r,e),n=e,i=At,a=vt;for(;t!==At;){let c=n/t,u=n%t,h=i-a*c;n=t,t=u,i=a,a=h}if(n!==vt)throw new Error("invert: does not exist");return It(i,e)}function _L(r){let e=(r-vt)/gs,t,n,i;for(t=r-vt,n=0;t%gs===At;t/=gs,n++);for(i=gs;i<r&&bL(i,e,r)!==r-vt;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){let c=(r+vt)/r0;return function(u,h){let f=u.pow(h,c);if(!u.eql(u.sqr(f),h))throw new Error("Cannot find square root");return f}}let a=(t+vt)/gs;return function(c,u){if(c.pow(u,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=n,f=c.pow(c.mul(c.ONE,i),t),p=c.pow(u,a),m=c.pow(u,t);for(;!c.eql(m,c.ONE);){if(c.eql(m,c.ZERO))return c.ZERO;let w=1;for(let b=c.sqr(m);w<h&&!c.eql(b,c.ONE);w++)b=c.sqr(b);let _=c.pow(f,vt<<BigInt(h-w-1));f=c.sqr(_),p=c.mul(p,_),m=c.mul(m,f),h=w}return p}}function EL(r){if(r%r0===yL){let e=(r+vt)/r0;return function(t,n){let i=t.pow(n,e);if(!t.eql(t.sqr(i),n))throw new Error("Cannot find square root");return i}}if(r%A_===D_){let e=(r-D_)/A_;return function(t,n){let i=t.mul(n,gs),a=t.pow(i,e),c=t.mul(n,a),u=t.mul(t.mul(c,gs),a),h=t.mul(c,t.sub(u,t.ONE));if(!t.eql(t.sqr(h),n))throw new Error("Cannot find square root");return h}}return _L(r)}var xL=(r,e)=>(It(r,e)&vt)===vt,IL=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function CL(r){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=IL.reduce((n,i)=>(n[i]="function",n),e);return g0(r,t)}function SL(r,e,t){if(t<At)throw new Error("invalid exponent, negatives unsupported");if(t===At)return r.ONE;if(t===vt)return e;let n=r.ONE,i=e;for(;t>At;)t&vt&&(n=r.mul(n,i)),i=r.sqr(i),t>>=vt;return n}function DL(r,e){let t=new Array(e.length),n=e.reduce((a,c,u)=>r.is0(c)?a:(t[u]=a,r.mul(a,c)),r.ONE),i=r.inv(n);return e.reduceRight((a,c,u)=>r.is0(c)?a:(t[u]=r.mul(a,t[u]),r.mul(a,c)),i),t}function Y_(r,e){let t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function J_(r,e,t=!1,n={}){if(r<=At)throw new Error("invalid field: expected ORDER > 0, got "+r);let{nBitLength:i,nByteLength:a}=Y_(r,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c,u=Object.freeze({ORDER:r,isLE:t,BITS:i,BYTES:a,MASK:vL(i),ZERO:At,ONE:vt,create:h=>It(h,r),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return At<=h&&h<r},is0:h=>h===At,isOdd:h=>(h&vt)===vt,neg:h=>It(-h,r),eql:(h,f)=>h===f,sqr:h=>It(h*h,r),add:(h,f)=>It(h+f,r),sub:(h,f)=>It(h-f,r),mul:(h,f)=>It(h*f,r),pow:(h,f)=>SL(u,h,f),div:(h,f)=>It(h*O_(f,r),r),sqrN:h=>h*h,addN:(h,f)=>h+f,subN:(h,f)=>h-f,mulN:(h,f)=>h*f,inv:h=>O_(h,r),sqrt:n.sqrt||(h=>(c||(c=EL(r)),c(u,h))),invertBatch:h=>DL(u,h),cmov:(h,f,p)=>p?f:h,toBytes:h=>t?t0(h,a):G_(h,a),fromBytes:h=>{if(h.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+h.length);return t?Au(h):pL(h)}});return Object.freeze(u)}var P_=BigInt(0),Su=BigInt(1);function Vp(r,e){let t=e.negate();return r?t:e}function Z_(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function Kp(r,e){Z_(r,e);let t=Math.ceil(e/r)+1,n=2**(r-1);return{windows:t,windowSize:n}}function AL(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)})}function OL(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)})}var Gp=new WeakMap,Q_=new WeakMap;function Yp(r){return Q_.get(r)||1}function PL(r,e){return{constTimeNegate:Vp,hasPrecomputes(t){return Yp(t)!==1},unsafeLadder(t,n,i=r.ZERO){let a=t;for(;n>P_;)n&Su&&(i=i.add(a)),a=a.double(),n>>=Su;return i},precomputeWindow(t,n){let{windows:i,windowSize:a}=Kp(n,e),c=[],u=t,h=u;for(let f=0;f<i;f++){h=u,c.push(h);for(let p=1;p<a;p++)h=h.add(u),c.push(h);u=h.double()}return c},wNAF(t,n,i){let{windows:a,windowSize:c}=Kp(t,e),u=r.ZERO,h=r.BASE,f=BigInt(2**t-1),p=2**t,m=BigInt(t);for(let w=0;w<a;w++){let _=w*c,b=Number(i&f);i>>=m,b>c&&(b-=p,i+=Su);let I=_,P=_+Math.abs(b)-1,A=w%2!==0,U=b<0;b===0?h=h.add(Vp(A,n[I])):u=u.add(Vp(U,n[P]))}return{p:u,f:h}},wNAFUnsafe(t,n,i,a=r.ZERO){let{windows:c,windowSize:u}=Kp(t,e),h=BigInt(2**t-1),f=2**t,p=BigInt(t);for(let m=0;m<c;m++){let w=m*u;if(i===P_)break;let _=Number(i&h);if(i>>=p,_>u&&(_-=f,i+=Su),_===0)continue;let b=n[w+Math.abs(_)-1];_<0&&(b=b.negate()),a=a.add(b)}return a},getPrecomputes(t,n,i){let a=Gp.get(n);return a||(a=this.precomputeWindow(n,t),t!==1&&Gp.set(n,i(a))),a},wNAFCached(t,n,i){let a=Yp(t);return this.wNAF(a,this.getPrecomputes(a,t,i),n)},wNAFCachedUnsafe(t,n,i,a){let c=Yp(t);return c===1?this.unsafeLadder(t,n,a):this.wNAFUnsafe(c,this.getPrecomputes(c,t,i),n,a)},setWindowSize(t,n){Z_(n,e),Q_.set(t,n),Gp.delete(t)}}}function RL(r,e,t,n){if(AL(t,r),OL(n,e),t.length!==n.length)throw new Error("arrays of points and scalars must have equal length");let i=r.ZERO,a=mL(BigInt(t.length)),c=a>12?a-3:a>4?a-2:a?2:1,u=(1<<c)-1,h=new Array(u+1).fill(i),f=Math.floor((e.BITS-1)/c)*c,p=i;for(let m=f;m>=0;m-=c){h.fill(i);for(let _=0;_<n.length;_++){let b=n[_],I=Number(b>>BigInt(m)&BigInt(u));h[I]=h[I].add(t[_])}let w=i;for(let _=h.length-1,b=i;_>0;_--)b=b.add(h[_]),w=w.add(b);if(p=p.add(w),m!==0)for(let _=0;_<c;_++)p=p.double()}return p}function TL(r){return CL(r.Fp),g0(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Y_(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}var Vr=BigInt(0),dr=BigInt(1),Du=BigInt(2),NL=BigInt(8),LL={zip215:!0};function FL(r){let e=TL(r);return g0(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function $L(r){let e=FL(r),{Fp:t,n,prehash:i,hash:a,randomBytes:c,nByteLength:u,h}=e,f=Du<<BigInt(u*8)-dr,p=t.create,m=J_(e.n,e.nBitLength),w=e.uvRatio||((H,R)=>{try{return{isValid:!0,value:t.sqrt(H*t.inv(R))}}catch{return{isValid:!1,value:Vr}}}),_=e.adjustScalarBytes||(H=>H),b=e.domain||((H,R,$)=>{if(Hp("phflag",$),R.length||$)throw new Error("Contexts/pre-hash are not supported");return H});function I(H,R){Fa("coordinate "+H,R,Vr,f)}function P(H){if(!(H instanceof S))throw new Error("ExtendedPoint expected")}let A=S_((H,R)=>{let{ex:$,ey:K,ez:ce}=H,J=H.is0();R==null&&(R=J?NL:t.inv(ce));let X=p($*R),ue=p(K*R),ae=p(ce*R);if(J)return{x:Vr,y:dr};if(ae!==dr)throw new Error("invZ was invalid");return{x:X,y:ue}}),U=S_(H=>{let{a:R,d:$}=e;if(H.is0())throw new Error("bad point: ZERO");let{ex:K,ey:ce,ez:J,et:X}=H,ue=p(K*K),ae=p(ce*ce),he=p(J*J),fe=p(he*he),de=p(ue*R),ve=p(he*p(de+ae)),$e=p(fe+p($*p(ue*ae)));if(ve!==$e)throw new Error("bad point: equation left != right (1)");let Pe=p(K*ce),Ge=p(J*X);if(Pe!==Ge)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(R,$,K,ce){this.ex=R,this.ey=$,this.ez=K,this.et=ce,I("x",R),I("y",$),I("z",K),I("t",ce),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(R){if(R instanceof S)throw new Error("extended point not allowed");let{x:$,y:K}=R||{};return I("x",$),I("y",K),new S($,K,dr,p($*K))}static normalizeZ(R){let $=t.invertBatch(R.map(K=>K.ez));return R.map((K,ce)=>K.toAffine($[ce])).map(S.fromAffine)}static msm(R,$){return RL(S,m,R,$)}_setWindowSize(R){W.setWindowSize(this,R)}assertValidity(){U(this)}equals(R){P(R);let{ex:$,ey:K,ez:ce}=this,{ex:J,ey:X,ez:ue}=R,ae=p($*ue),he=p(J*ce),fe=p(K*ue),de=p(X*ce);return ae===he&&fe===de}is0(){return this.equals(S.ZERO)}negate(){return new S(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){let{a:R}=e,{ex:$,ey:K,ez:ce}=this,J=p($*$),X=p(K*K),ue=p(Du*p(ce*ce)),ae=p(R*J),he=$+K,fe=p(p(he*he)-J-X),de=ae+X,ve=de-ue,$e=ae-X,Pe=p(fe*ve),Ge=p(de*$e),He=p(fe*$e),Je=p(ve*de);return new S(Pe,Ge,Je,He)}add(R){P(R);let{a:$,d:K}=e,{ex:ce,ey:J,ez:X,et:ue}=this,{ex:ae,ey:he,ez:fe,et:de}=R;if($===BigInt(-1)){let Rc=p((J-ce)*(he+ae)),ri=p((J+ce)*(he-ae)),Gt=p(ri-Rc);if(Gt===Vr)return this.double();let ni=p(X*Du*de),Gi=p(ue*Du*fe),Tc=Gi+ni,ii=ri+Rc,Nc=Gi-ni,Yi=p(Tc*Gt),si=p(ii*Nc),Go=p(Tc*Nc),Yo=p(Gt*ii);return new S(Yi,si,Yo,Go)}let ve=p(ce*ae),$e=p(J*he),Pe=p(ue*K*de),Ge=p(X*fe),He=p((ce+J)*(ae+he)-ve-$e),Je=Ge-Pe,ut=Ge+Pe,Ue=p($e-$*ve),rt=p(He*Je),Vh=p(ut*Ue),jr=p(He*Ue),Pc=p(Je*ut);return new S(rt,Vh,Pc,jr)}subtract(R){return this.add(R.negate())}wNAF(R){return W.wNAFCached(this,R,S.normalizeZ)}multiply(R){let $=R;Fa("scalar",$,dr,n);let{p:K,f:ce}=this.wNAF($);return S.normalizeZ([K,ce])[0]}multiplyUnsafe(R,$=S.ZERO){let K=R;return Fa("scalar",K,Vr,n),K===Vr?L:this.is0()||K===dr?this:W.wNAFCachedUnsafe(this,K,S.normalizeZ,$)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}isTorsionFree(){return W.unsafeLadder(this,n).is0()}toAffine(R){return A(this,R)}clearCofactor(){let{h:R}=e;return R===dr?this:this.multiplyUnsafe(R)}static fromHex(R,$=!1){let{d:K,a:ce}=e,J=t.BYTES;R=Un("pointHex",R,J),Hp("zip215",$);let X=R.slice(),ue=R[J-1];X[J-1]=ue&-129;let ae=Au(X),he=$?f:t.ORDER;Fa("pointHex.y",ae,Vr,he);let fe=p(ae*ae),de=p(fe-dr),ve=p(K*fe-ce),{isValid:$e,value:Pe}=w(de,ve);if(!$e)throw new Error("Point.fromHex: invalid y coordinate");let Ge=(Pe&dr)===dr,He=(ue&128)!==0;if(!$&&Pe===Vr&&He)throw new Error("Point.fromHex: x=0 and x_0=1");return He!==Ge&&(Pe=p(-Pe)),S.fromAffine({x:Pe,y:ae})}static fromPrivateKey(R){return M(R).point}toRawBytes(){let{x:R,y:$}=this.toAffine(),K=t0($,t.BYTES);return K[K.length-1]|=R&dr?128:0,K}toHex(){return p0(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,dr,p(e.Gx*e.Gy)),S.ZERO=new S(Vr,dr,dr,Vr);let{BASE:T,ZERO:L}=S,W=PL(S,u*8);function B(H){return It(H,n)}function q(H){return B(Au(H))}function M(H){let R=t.BYTES;H=Un("private key",H,R);let $=Un("hashed private key",a(H),2*R),K=_($.slice(0,R)),ce=$.slice(R,2*R),J=q(K),X=T.multiply(J),ue=X.toRawBytes();return{head:K,prefix:ce,scalar:J,point:X,pointBytes:ue}}function Y(H){return M(H).pointBytes}function x(H=new Uint8Array,...R){let $=C_(...R);return q(a(b($,Un("context",H),!!i)))}function N(H,R,$={}){H=Un("message",H),i&&(H=i(H));let{prefix:K,scalar:ce,pointBytes:J}=M(R),X=x($.context,K,H),ue=T.multiply(X).toRawBytes(),ae=x($.context,ue,J,H),he=B(X+ae*ce);Fa("signature.s",he,Vr,n);let fe=C_(ue,t0(he,t.BYTES));return Un("result",fe,t.BYTES*2)}let G=LL;function ie(H,R,$,K=G){let{context:ce,zip215:J}=K,X=t.BYTES;H=Un("signature",H,2*X),R=Un("message",R),$=Un("publicKey",$,X),J!==void 0&&Hp("zip215",J),i&&(R=i(R));let ue=Au(H.slice(X,2*X)),ae,he,fe;try{ae=S.fromHex($,J),he=S.fromHex(H.slice(0,X),J),fe=T.multiplyUnsafe(ue)}catch{return!1}if(!J&&ae.isSmallOrder())return!1;let de=x(ce,he.toRawBytes(),ae.toRawBytes(),R);return he.add(ae.multiplyUnsafe(de)).subtract(fe).clearCofactor().equals(S.ZERO)}return T._setWindowSize(8),{CURVE:e,getPublicKey:Y,sign:N,verify:ie,ExtendedPoint:S,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>c(t.BYTES),precompute(H=8,R=S.BASE){return R._setWindowSize(H),R.multiply(BigInt(3)),R}}}}BigInt(0),BigInt(1);var m0=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),R_=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);var UL=BigInt(1),T_=BigInt(2);BigInt(3);var ML=BigInt(5),BL=BigInt(8);function jL(r){let e=BigInt(10),t=BigInt(20),n=BigInt(40),i=BigInt(80),a=m0,c=r*r%a*r%a,u=un(c,T_,a)*c%a,h=un(u,UL,a)*r%a,f=un(h,ML,a)*h%a,p=un(f,e,a)*f%a,m=un(p,t,a)*p%a,w=un(m,n,a)*m%a,_=un(w,i,a)*w%a,b=un(_,i,a)*w%a,I=un(b,e,a)*f%a;return{pow_p_5_8:un(I,T_,a)*r%a,b2:c}}function qL(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function zL(r,e){let t=m0,n=It(e*e*e,t),i=It(n*n*e,t),a=jL(r*i).pow_p_5_8,c=It(r*n*a,t),u=It(e*c*c,t),h=c,f=It(c*R_,t),p=u===r,m=u===It(-r,t),w=u===It(-r*R_,t);return p&&(c=h),(m||w)&&(c=f),xL(c,t)&&(c=It(-c,t)),{isValid:p||m,value:c}}var kL=J_(m0,void 0,!0),HL={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:kL,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BL,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:hL,randomBytes:k_,adjustScalarBytes:qL,uvRatio:zL},X_=$L(HL),WL="EdDSA",VL="JWT",eE=".",tE="base64url",KL="utf8",GL="utf8",YL=":",JL="did",ZL="key",N_="base58btc",QL="z",XL="K36";var eF=32;function v0(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function rE(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?v0(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function nE(r,e){e||(e=r.reduce((i,a)=>i+a.length,0));let t=rE(e),n=0;for(let i of r)t.set(i,n),n+=i.length;return v0(t)}function tF(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var a=r.charAt(i),c=a.charCodeAt(0);if(t[c]!==255)throw new TypeError(a+" is ambiguous");t[c]=i}var u=r.length,h=r.charAt(0),f=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function m(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var I=0,P=0,A=0,U=b.length;A!==U&&b[A]===0;)A++,I++;for(var S=(U-A)*p+1>>>0,T=new Uint8Array(S);A!==U;){for(var L=b[A],W=0,B=S-1;(L!==0||W<P)&&B!==-1;B--,W++)L+=256*T[B]>>>0,T[B]=L%u>>>0,L=L/u>>>0;if(L!==0)throw new Error("Non-zero carry");P=W,A++}for(var q=S-P;q!==S&&T[q]===0;)q++;for(var M=h.repeat(I);q<S;++q)M+=r.charAt(T[q]);return M}function w(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var I=0;if(b[I]!==" "){for(var P=0,A=0;b[I]===h;)P++,I++;for(var U=(b.length-I)*f+1>>>0,S=new Uint8Array(U);b[I];){var T=t[b.charCodeAt(I)];if(T===255)return;for(var L=0,W=U-1;(T!==0||L<A)&&W!==-1;W--,L++)T+=u*S[W]>>>0,S[W]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");A=L,I++}if(b[I]!==" "){for(var B=U-A;B!==U&&S[B]===0;)B++;for(var q=new Uint8Array(P+(U-B)),M=P;B!==U;)q[M++]=S[B++];return q}}}function _(b){var I=w(b);if(I)return I;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:w,decode:_}}var rF=tF,nF=rF,iE=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},iF=r=>new TextEncoder().encode(r),sF=r=>new TextDecoder().decode(r),n0=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},i0=class{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return sE(this,e)}},s0=class{constructor(e){this.decoders=e}or(e){return sE(this,e)}decode(e){let t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},sE=(r,e)=>new s0({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),o0=class{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new n0(e,t,n),this.decoder=new i0(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Pu=({name:r,prefix:e,encode:t,decode:n})=>new o0(r,e,t,n),$a=({prefix:r,name:e,alphabet:t})=>{let{encode:n,decode:i}=nF(t,e);return Pu({prefix:r,name:e,encode:n,decode:a=>iE(i(a))})},oF=(r,e,t,n)=>{let i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let a=r.length;for(;r[a-1]==="=";)--a;let c=new Uint8Array(a*t/8|0),u=0,h=0,f=0;for(let p=0;p<a;++p){let m=i[r[p]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);h=h<<t|m,u+=t,u>=8&&(u-=8,c[f++]=255&h>>u)}if(u>=t||255&h<<8-u)throw new SyntaxError("Unexpected end of data");return c},aF=(r,e,t)=>{let n=e[e.length-1]==="=",i=(1<<t)-1,a="",c=0,u=0;for(let h=0;h<r.length;++h)for(u=u<<8|r[h],c+=8;c>t;)c-=t,a+=e[i&u>>c];if(c&&(a+=e[i&u<<t-c]),n)for(;a.length*t&7;)a+="=";return a},Nt=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Pu({prefix:e,name:r,encode(i){return aF(i,n,t)},decode(i){return oF(i,n,t,r)}}),cF=Pu({prefix:"\0",name:"identity",encode:r=>sF(r),decode:r=>iF(r)}),lF=Object.freeze({__proto__:null,identity:cF}),uF=Nt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),hF=Object.freeze({__proto__:null,base2:uF}),fF=Nt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),dF=Object.freeze({__proto__:null,base8:fF}),pF=$a({prefix:"9",name:"base10",alphabet:"0123456789"}),gF=Object.freeze({__proto__:null,base10:pF}),mF=Nt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vF=Nt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),wF=Object.freeze({__proto__:null,base16:mF,base16upper:vF}),yF=Nt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),bF=Nt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_F=Nt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),EF=Nt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xF=Nt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),IF=Nt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),CF=Nt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),SF=Nt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),DF=Nt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),AF=Object.freeze({__proto__:null,base32:yF,base32upper:bF,base32pad:_F,base32padupper:EF,base32hex:xF,base32hexupper:IF,base32hexpad:CF,base32hexpadupper:SF,base32z:DF}),OF=$a({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),PF=$a({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),RF=Object.freeze({__proto__:null,base36:OF,base36upper:PF}),TF=$a({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),NF=$a({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),LF=Object.freeze({__proto__:null,base58btc:TF,base58flickr:NF}),FF=Nt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),$F=Nt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),UF=Nt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),MF=Nt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),BF=Object.freeze({__proto__:null,base64:FF,base64pad:$F,base64url:UF,base64urlpad:MF}),oE=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),jF=oE.reduce((r,e,t)=>(r[t]=e,r),[]),qF=oE.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function zF(r){return r.reduce((e,t)=>(e+=jF[t],e),"")}function kF(r){let e=[];for(let t of r){let n=qF[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}var HF=Pu({prefix:"\u{1F680}",name:"base256emoji",encode:zF,decode:kF}),WF=Object.freeze({__proto__:null,base256emoji:HF}),VF=aE,L_=128,KF=127,GF=~KF,YF=Math.pow(2,31);function aE(r,e,t){e=e||[],t=t||0;for(var n=t;r>=YF;)e[t++]=r&255|L_,r/=128;for(;r&GF;)e[t++]=r&255|L_,r>>>=7;return e[t]=r|0,aE.bytes=t-n+1,e}var JF=a0,ZF=128,F_=127;function a0(r,n){var t=0,n=n||0,i=0,a=n,c,u=r.length;do{if(a>=u)throw a0.bytes=0,new RangeError("Could not decode varint");c=r[a++],t+=i<28?(c&F_)<<i:(c&F_)*Math.pow(2,i),i+=7}while(c>=ZF);return a0.bytes=a-n,t}var QF=Math.pow(2,7),XF=Math.pow(2,14),e$=Math.pow(2,21),t$=Math.pow(2,28),r$=Math.pow(2,35),n$=Math.pow(2,42),i$=Math.pow(2,49),s$=Math.pow(2,56),o$=Math.pow(2,63),a$=function(r){return r<QF?1:r<XF?2:r<e$?3:r<t$?4:r<r$?5:r<n$?6:r<i$?7:r<s$?8:r<o$?9:10},c$={encode:VF,decode:JF,encodingLength:a$},cE=c$,$_=(r,e,t=0)=>(cE.encode(r,e,t),e),U_=r=>cE.encodingLength(r),c0=(r,e)=>{let t=e.byteLength,n=U_(r),i=n+U_(t),a=new Uint8Array(i+t);return $_(r,a,0),$_(t,a,n),a.set(e,i),new l0(r,t,e,a)},l0=class{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}},lE=({name:r,code:e,encode:t})=>new u0(r,e,t),u0=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?c0(this.code,t):t.then(n=>c0(this.code,n))}else throw Error("Unknown type, must be binary type")}},uE=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),l$=lE({name:"sha2-256",code:18,encode:uE("SHA-256")}),u$=lE({name:"sha2-512",code:19,encode:uE("SHA-512")}),h$=Object.freeze({__proto__:null,sha256:l$,sha512:u$}),hE=0,f$="identity",fE=iE,d$=r=>c0(hE,fE(r)),p$={code:hE,name:f$,encode:fE,digest:d$},g$=Object.freeze({__proto__:null,identity:p$});new TextEncoder,new TextDecoder;var M_={...lF,...hF,...dF,...gF,...wF,...AF,...RF,...LF,...BF,...WF};({...h$,...g$});function dE(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}var B_=dE("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Jp=dE("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=rE(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),pE={utf8:B_,"utf-8":B_,hex:M_.base16,latin1:Jp,ascii:Jp,binary:Jp,...M_};function w0(r,e="utf8"){let t=pE[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}function y0(r,e="utf8"){let t=pE[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?v0(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function Ou(r){return w0(y0(Ir(r),KL),tE)}function b0(r){let e=y0(XL,N_),t=QL+w0(nE([e,r]),N_);return[JL,ZL,t].join(YL)}function m$(r){return w0(r,tE)}function v$(r){return y0([Ou(r.header),Ou(r.payload)].join(eE),GL)}function w$(r){return[Ou(r.header),Ou(r.payload),m$(r.signature)].join(eE)}function _0(r=k_(eF)){let e=X_.getPublicKey(r);return{secretKey:nE([r,e]),publicKey:e}}async function gE(r,e,t,n,i=(0,j_.fromMiliseconds)(Date.now())){let a={alg:WL,typ:VL},c=b0(n.publicKey),u=i+t,h={iss:c,sub:r,aud:e,iat:i,exp:u},f=v$({header:a,payload:h}),p=X_.sign(f,n.secretKey.slice(0,32));return w$({header:a,payload:h,signature:p})}var Te=je(as());var RE=je(Wr());var Ct={};Dt(Ct,{DEFAULT_ERROR:()=>Ma,IBaseJsonRpcProvider:()=>Bu,IEvents:()=>qa,IJsonRpcConnection:()=>C0,IJsonRpcProvider:()=>vs,INTERNAL_ERROR:()=>Ru,INVALID_PARAMS:()=>yE,INVALID_REQUEST:()=>vE,METHOD_NOT_FOUND:()=>wE,PARSE_ERROR:()=>mE,RESERVED_ERROR_CODES:()=>E0,SERVER_ERROR:()=>Ua,SERVER_ERROR_CODE_RANGE:()=>Tu,STANDARD_ERROR_MAP:()=>Ii,formatErrorMessage:()=>OE,formatJsonRpcError:()=>Mn,formatJsonRpcRequest:()=>Lr,formatJsonRpcResult:()=>Di,getBigIntRpcId:()=>ms,getError:()=>Lu,getErrorByCode:()=>Fu,isHttpUrl:()=>ju,isJsonRpcError:()=>Lt,isJsonRpcPayload:()=>D0,isJsonRpcRequest:()=>Io,isJsonRpcResponse:()=>hn,isJsonRpcResult:()=>Fr,isJsonRpcValidationInvalid:()=>P$,isLocalhostUrl:()=>S0,isNodeJs:()=>AE,isReservedErrorCode:()=>Nu,isServerErrorCode:()=>b$,isValidDefaultRoute:()=>Uu,isValidErrorCode:()=>bE,isValidLeadingWildcardRoute:()=>C$,isValidRoute:()=>I$,isValidTrailingWildcardRoute:()=>S$,isValidWildcardRoute:()=>Mu,isWsUrl:()=>qu,parseConnectionError:()=>Ba,payloadId:()=>ja,validateJsonRpcError:()=>_$});var mE="PARSE_ERROR",vE="INVALID_REQUEST",wE="METHOD_NOT_FOUND",yE="INVALID_PARAMS",Ru="INTERNAL_ERROR",Ua="SERVER_ERROR",E0=[-32700,-32600,-32601,-32602,-32603],Tu=[-32e3,-32099],Ii={[mE]:{code:-32700,message:"Parse error"},[vE]:{code:-32600,message:"Invalid Request"},[wE]:{code:-32601,message:"Method not found"},[yE]:{code:-32602,message:"Invalid params"},[Ru]:{code:-32603,message:"Internal error"},[Ua]:{code:-32e3,message:"Server error"}},Ma=Ua;function b$(r){return r<=Tu[0]&&r>=Tu[1]}function Nu(r){return E0.includes(r)}function bE(r){return typeof r=="number"}function Lu(r){return Object.keys(Ii).includes(r)?Ii[r]:Ii[Ma]}function Fu(r){let e=Object.values(Ii).find(t=>t.code===r);return e||Ii[Ma]}function _$(r){if(typeof r.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof r.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!bE(r.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${r.error.code}`};if(Nu(r.error.code)){let e=Fu(r.error.code);if(e.message!==Ii[Ma].message&&r.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${r.error.code}`}}return{valid:!0}}function Ba(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var tr={};Dt(tr,{isNodeJs:()=>AE});var DE=je(I0());br(tr,je(I0()));var AE=DE.isNode;br(Ct,tr);function ja(r=3){let e=Date.now()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}function ms(r=6){return BigInt(ja(r))}function Lr(r,e,t){return{id:t||ja(),jsonrpc:"2.0",method:r,params:e}}function Di(r,e){return{id:r,jsonrpc:"2.0",result:e}}function Mn(r,e,t){return{id:r,jsonrpc:"2.0",error:OE(e,t)}}function OE(r,e){return typeof r>"u"?Lu(Ru):(typeof r=="string"&&(r=Object.assign(Object.assign({},Lu(Ua)),{message:r})),typeof e<"u"&&(r.data=e),Nu(r.code)&&(r=Fu(r.code)),r)}function I$(r){return r.includes("*")?Mu(r):!/\W/g.test(r)}function Uu(r){return r==="*"}function Mu(r){return Uu(r)?!0:!(!r.includes("*")||r.split("*").length!==2||r.split("*").filter(e=>e.trim()==="").length!==1)}function C$(r){return!Uu(r)&&Mu(r)&&!r.split("*")[0].trim()}function S$(r){return!Uu(r)&&Mu(r)&&!r.split("*")[1].trim()}var qa=class{},C0=class extends qa{constructor(e){super()}},Bu=class extends qa{constructor(){super()}},vs=class extends Bu{constructor(e){super()}};var D$="^https?:",A$="^wss?:";function O$(r){let e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function PE(r,e){let t=O$(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function ju(r){return PE(r,D$)}function qu(r){return PE(r,A$)}function S0(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}function D0(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function Io(r){return D0(r)&&"method"in r}function hn(r){return D0(r)&&(Fr(r)||Lt(r))}function Fr(r){return"result"in r}function Lt(r){return"error"in r}function P$(r){return"error"in r&&r.valid===!1}var zu=class extends vs{constructor(e){super(e),this.events=new RE.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Lr(e.method,e.params||[],e.id||ms().toString()),t)}async requestStrict(e,t){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(a){i(a)}this.events.on(`${e.id}`,a=>{Lt(a)?i(a.error):n(a.result)});try{await this.connection.send(e,t)}catch(a){i(a)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),hn(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};var $E=je(Wr());var R$=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:NE(),T$=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",LE=r=>r.split("?")[0],FE=10,N$=R$(),ku=class{constructor(e){if(this.url=e,this.events=new $E.EventEmitter,this.registering=!1,!qu(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ir(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!qu(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,i)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),i(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,n)=>{let i=new URLSearchParams(e).get("origin"),a=(0,Ct.isReactNative)()?{headers:{origin:i}}:{rejectUnauthorized:!S0(e)},c=new N$(e,[],a);T$()?c.onerror=u=>{let h=u;n(this.emitError(h.error))}:c.on("error",u=>{n(this.emitError(u))}),c.onopen=()=>{this.onOpen(c),t(c)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let t=typeof e.data=="string"?an(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let n=this.parseError(t),i=n.message||n.toString(),a=Mn(e,i);this.events.emit("payload",a)}parseError(e,t=this.url){return Ba(e,LE(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>FE&&this.events.setMaxListeners(FE)}emitError(e){let t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${LE(this.url)}`));return this.events.emit("register_error",t),t}};var B3=je(v3()),j3=je(b3());function uM(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var a=r.charAt(i),c=a.charCodeAt(0);if(t[c]!==255)throw new TypeError(a+" is ambiguous");t[c]=i}var u=r.length,h=r.charAt(0),f=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function m(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var I=0,P=0,A=0,U=b.length;A!==U&&b[A]===0;)A++,I++;for(var S=(U-A)*p+1>>>0,T=new Uint8Array(S);A!==U;){for(var L=b[A],W=0,B=S-1;(L!==0||W<P)&&B!==-1;B--,W++)L+=256*T[B]>>>0,T[B]=L%u>>>0,L=L/u>>>0;if(L!==0)throw new Error("Non-zero carry");P=W,A++}for(var q=S-P;q!==S&&T[q]===0;)q++;for(var M=h.repeat(I);q<S;++q)M+=r.charAt(T[q]);return M}function w(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var I=0;if(b[I]!==" "){for(var P=0,A=0;b[I]===h;)P++,I++;for(var U=(b.length-I)*f+1>>>0,S=new Uint8Array(U);b[I];){var T=t[b.charCodeAt(I)];if(T===255)return;for(var L=0,W=U-1;(T!==0||L<A)&&W!==-1;W--,L++)T+=u*S[W]>>>0,S[W]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");A=L,I++}if(b[I]!==" "){for(var B=U-A;B!==U&&S[B]===0;)B++;for(var q=new Uint8Array(P+(U-B)),M=P;B!==U;)q[M++]=S[B++];return q}}}function _(b){var I=w(b);if(I)return I;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:w,decode:_}}var hM=uM,fM=hM,q3=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},dM=r=>new TextEncoder().encode(r),pM=r=>new TextDecoder().decode(r),k0=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},H0=class{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return z3(this,e)}},W0=class{constructor(e){this.decoders=e}or(e){return z3(this,e)}decode(e){let t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},z3=(r,e)=>new W0({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),V0=class{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new k0(e,t,n),this.decoder=new H0(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},th=({name:r,prefix:e,encode:t,decode:n})=>new V0(r,e,t,n),Ya=({prefix:r,name:e,alphabet:t})=>{let{encode:n,decode:i}=fM(t,e);return th({prefix:r,name:e,encode:n,decode:a=>q3(i(a))})},gM=(r,e,t,n)=>{let i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let a=r.length;for(;r[a-1]==="=";)--a;let c=new Uint8Array(a*t/8|0),u=0,h=0,f=0;for(let p=0;p<a;++p){let m=i[r[p]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);h=h<<t|m,u+=t,u>=8&&(u-=8,c[f++]=255&h>>u)}if(u>=t||255&h<<8-u)throw new SyntaxError("Unexpected end of data");return c},mM=(r,e,t)=>{let n=e[e.length-1]==="=",i=(1<<t)-1,a="",c=0,u=0;for(let h=0;h<r.length;++h)for(u=u<<8|r[h],c+=8;c>t;)c-=t,a+=e[i&u>>c];if(c&&(a+=e[i&u<<t-c]),n)for(;a.length*t&7;)a+="=";return a},$t=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>th({prefix:e,name:r,encode(i){return mM(i,n,t)},decode(i){return gM(i,n,t,r)}}),vM=th({prefix:"\0",name:"identity",encode:r=>pM(r),decode:r=>dM(r)}),wM=Object.freeze({__proto__:null,identity:vM}),yM=$t({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),bM=Object.freeze({__proto__:null,base2:yM}),_M=$t({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),EM=Object.freeze({__proto__:null,base8:_M}),xM=Ya({prefix:"9",name:"base10",alphabet:"0123456789"}),IM=Object.freeze({__proto__:null,base10:xM}),CM=$t({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),SM=$t({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),DM=Object.freeze({__proto__:null,base16:CM,base16upper:SM}),AM=$t({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),OM=$t({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),PM=$t({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),RM=$t({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),TM=$t({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),NM=$t({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),LM=$t({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),FM=$t({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$M=$t({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),UM=Object.freeze({__proto__:null,base32:AM,base32upper:OM,base32pad:PM,base32padupper:RM,base32hex:TM,base32hexupper:NM,base32hexpad:LM,base32hexpadupper:FM,base32z:$M}),MM=Ya({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),BM=Ya({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),jM=Object.freeze({__proto__:null,base36:MM,base36upper:BM}),qM=Ya({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),zM=Ya({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),kM=Object.freeze({__proto__:null,base58btc:qM,base58flickr:zM}),HM=$t({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),WM=$t({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),VM=$t({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),KM=$t({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),GM=Object.freeze({__proto__:null,base64:HM,base64pad:WM,base64url:VM,base64urlpad:KM}),k3=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),YM=k3.reduce((r,e,t)=>(r[t]=e,r),[]),JM=k3.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function ZM(r){return r.reduce((e,t)=>(e+=YM[t],e),"")}function QM(r){let e=[];for(let t of r){let n=JM[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}var XM=th({prefix:"\u{1F680}",name:"base256emoji",encode:ZM,decode:QM}),eB=Object.freeze({__proto__:null,base256emoji:XM}),tB=H3,_3=128,rB=127,nB=~rB,iB=Math.pow(2,31);function H3(r,e,t){e=e||[],t=t||0;for(var n=t;r>=iB;)e[t++]=r&255|_3,r/=128;for(;r&nB;)e[t++]=r&255|_3,r>>>=7;return e[t]=r|0,H3.bytes=t-n+1,e}var sB=K0,oB=128,E3=127;function K0(r,n){var t=0,n=n||0,i=0,a=n,c,u=r.length;do{if(a>=u)throw K0.bytes=0,new RangeError("Could not decode varint");c=r[a++],t+=i<28?(c&E3)<<i:(c&E3)*Math.pow(2,i),i+=7}while(c>=oB);return K0.bytes=a-n,t}var aB=Math.pow(2,7),cB=Math.pow(2,14),lB=Math.pow(2,21),uB=Math.pow(2,28),hB=Math.pow(2,35),fB=Math.pow(2,42),dB=Math.pow(2,49),pB=Math.pow(2,56),gB=Math.pow(2,63),mB=function(r){return r<aB?1:r<cB?2:r<lB?3:r<uB?4:r<hB?5:r<fB?6:r<dB?7:r<pB?8:r<gB?9:10},vB={encode:tB,decode:sB,encodingLength:mB},W3=vB,x3=(r,e,t=0)=>(W3.encode(r,e,t),e),I3=r=>W3.encodingLength(r),G0=(r,e)=>{let t=e.byteLength,n=I3(r),i=n+I3(t),a=new Uint8Array(i+t);return x3(r,a,0),x3(t,a,n),a.set(e,i),new Y0(r,t,e,a)},Y0=class{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}},V3=({name:r,code:e,encode:t})=>new J0(r,e,t),J0=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?G0(this.code,t):t.then(n=>G0(this.code,n))}else throw Error("Unknown type, must be binary type")}},K3=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),wB=V3({name:"sha2-256",code:18,encode:K3("SHA-256")}),yB=V3({name:"sha2-512",code:19,encode:K3("SHA-512")}),bB=Object.freeze({__proto__:null,sha256:wB,sha512:yB}),G3=0,_B="identity",Y3=q3,EB=r=>G0(G3,Y3(r)),xB={code:G3,name:_B,encode:Y3,digest:EB},IB=Object.freeze({__proto__:null,identity:xB});new TextEncoder,new TextDecoder;var C3={...wM,...bM,...EM,...IM,...DM,...UM,...jM,...kM,...GM,...eB};({...bB,...IB});function J3(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function CB(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?J3(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function Z3(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}var S3=Z3("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),j0=Z3("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=CB(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),SB={utf8:S3,"utf-8":S3,hex:C3.base16,latin1:j0,ascii:j0,binary:j0,...C3};function DB(r,e="utf8"){let t=SB[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?J3(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}var Q3="wc",AB=2,hg="core",Pi=`${Q3}@2:${hg}:`,OB={name:hg,logger:"error"},PB={database:":memory:"},RB="crypto",D3="client_ed25519_seed",TB=Te.ONE_DAY,NB="keychain",LB="0.3",FB="messages",$B="0.3",UB=Te.SIX_HOURS,MB="publisher",fg="irn",BB="error",X3="wss://relay.walletconnect.com",A3="wss://relay.walletconnect.org",jB="relayer",Ft={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},qB="_subscription",qn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},zB=Te.ONE_SECOND;var kB="2.11.2",HB=1e4,WB="0.3",VB="WALLETCONNECT_CLIENT_ID",Kr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"};var KB="subscription",GB="0.3",YB=Te.FIVE_SECONDS*1e3,JB="pairing",ZB="0.3";var Ka={wc_pairingDelete:{req:{ttl:Te.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Te.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Te.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Te.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Te.ONE_DAY,prompt:!1,tag:0},res:{ttl:Te.ONE_DAY,prompt:!1,tag:0}}},Ao={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},dn={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},QB="history",XB="0.3",ej="expirer",Cr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},tj="0.3";var q0="verify-api",Es="https://verify.walletconnect.com",Z0="https://verify.walletconnect.org",rj=[Es,Z0],nj="echo",ij="https://echo.walletconnect.com",Q0=class{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=NB,this.version=LB,this.initialized=!1,this.storagePrefix=Pi,this.init=async()=>{if(!this.initialized){let n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();let i=this.keychain.get(n);if(typeof i>"u"){let{message:a}=Z("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(a)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=Wt(t,this.name)}get context(){return Ht(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,gp(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?mp(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}},X0=class{constructor(e,t,n){this.core=e,this.logger=t,this.name=RB,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();let i=await this.getClientSeed(),a=_0(i);return b0(a.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let i=m2();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();let a=await this.getClientSeed(),c=_0(a),u=eu();return await gE(u,i,TB,c)},this.generateSharedKey=(i,a,c)=>{this.isInitialized();let u=this.getPrivateKey(i),h=v2(u,a);return this.setSymKey(h,c)},this.setSymKey=async(i,a)=>{this.isInitialized();let c=a||w2(i);return await this.keychain.set(c,i),c},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,a,c)=>{this.isInitialized();let u=dp(c),h=Ir(a);if(pp(u)){let w=u.senderPublicKey,_=u.receiverPublicKey;i=await this.generateSharedKey(w,_)}let f=this.getSymKey(i),{type:p,senderPublicKey:m}=u;return y2({type:p,symKey:f,message:h,senderPublicKey:m})},this.decode=async(i,a,c)=>{this.isInitialized();let u=_2(a,c);if(pp(u)){let h=u.receiverPublicKey,f=u.senderPublicKey;i=await this.generateSharedKey(h,f)}try{let h=this.getSymKey(i),f=b2({symKey:h,encoded:a});return an(f)}catch(h){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(h)}},this.getPayloadType=i=>{let a=Ia(i);return mo(a.type)},this.getPayloadSenderPublicKey=i=>{let a=Ia(i);return a.senderPublicKey?Qt(a.senderPublicKey,zt):void 0},this.core=e,this.logger=Wt(t,this.name),this.keychain=n||new Q0(this.core,this.logger)}get context(){return Ht(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(D3)}catch{e=eu(),await this.keychain.set(D3,e)}return DB(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}},eg=class extends gu{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=FB,this.version=$B,this.initialized=!1,this.storagePrefix=Pi,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();let a=wi(i),c=this.messages.get(n);return typeof c>"u"&&(c={}),typeof c[a]<"u"||(c[a]=i,this.messages.set(n,c),await this.persist()),a},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();let a=this.get(n),c=wi(i);return typeof a[c]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Wt(e,this.name),this.core=t}get context(){return Ht(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,gp(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?mp(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}},tg=class extends mu{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new zn.EventEmitter,this.name=MB,this.queue=new Map,this.publishTimeout=(0,Te.toMiliseconds)(Te.TEN_SECONDS*2),this.needsTransportRestart=!1,this.publish=async(n,i,a)=>{var c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:a}});try{let u=a?.ttl||UB,h=iu(a),f=a?.prompt||!1,p=a?.tag||0,m=a?.id||ms().toString(),w={topic:n,message:i,opts:{ttl:u,relay:h,prompt:f,tag:p,id:m}},_=setTimeout(()=>this.queue.set(m,w),this.publishTimeout);try{await await vo(this.rpcPublish(n,i,u,h,f,p,m),this.publishTimeout,`Failed to publish payload, please try again. id:${m} tag:${p}`),this.removeRequestFromQueue(m),this.relayer.events.emit(Ft.publish,w)}catch(b){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(c=a?.internal)!=null&&c.throwOnFailedPublish)throw this.removeRequestFromQueue(m),b;return}finally{clearTimeout(_)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:a}})}catch(u){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(u),u}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=Wt(t,this.name),this.registerEventListeners()}get context(){return Ht(this.logger)}rpcPublish(e,t,n,i,a,c,u){var h,f,p,m;let w={method:Sa(i.protocol).publish,params:{topic:e,message:t,ttl:n,prompt:a,tag:c},id:u};return Tt((h=w.params)==null?void 0:h.prompt)&&((f=w.params)==null||delete f.prompt),Tt((p=w.params)==null?void 0:p.tag)&&((m=w.params)==null||delete m.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:w}),this.relayer.request(w)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:t,message:n,opts:i}=e;await this.publish(t,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(Is.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Ft.connection_stalled);return}this.checkQueue()}),this.relayer.on(Ft.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}},rg=class{constructor(){this.map=new Map,this.set=(e,t)=>{let n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let n=this.get(e);if(!this.exists(e,t))return;let i=n.filter(a=>a!==t);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},sj=Object.defineProperty,oj=Object.defineProperties,aj=Object.getOwnPropertyDescriptors,O3=Object.getOwnPropertySymbols,cj=Object.prototype.hasOwnProperty,lj=Object.prototype.propertyIsEnumerable,P3=(r,e,t)=>e in r?sj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ga=(r,e)=>{for(var t in e||(e={}))cj.call(e,t)&&P3(r,t,e[t]);if(O3)for(var t of O3(e))lj.call(e,t)&&P3(r,t,e[t]);return r},z0=(r,e)=>oj(r,aj(e)),ng=class extends yu{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new rg,this.events=new zn.EventEmitter,this.name=KB,this.version=GB,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Pi,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{let a=iu(i),c={topic:n,relay:a};this.pending.set(n,c);let u=await this.rpcSubscribe(n,a);return this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),u}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;let i=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((a,c)=>{let u=new Te.Watch;u.start(i);let h=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(h),u.stop(i),a(!0)),u.elapsed(i)>=YB&&(clearInterval(h),u.stop(i),c(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=Wt(t,this.name),this.clientId=""}get context(){return Ht(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,t)))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{let i=iu(n);await this.rpcUnsubscribe(e,t,i);let a=Ke("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,t){let n={method:Sa(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await vo(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Ft.connection_stalled)}return wi(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;let t=e[0].relay,n={method:Sa(t.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await vo(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(Ft.connection_stalled)}}rpcUnsubscribe(e,t,n){let i={method:Sa(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,z0(Ga({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,Ga({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,Ga({},t)),this.topicMap.set(t.topic,e),this.events.emit(Kr.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:n}=Z("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Kr.deleted,z0(Ga({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Kr.sync)}async reset(){if(this.cached.length){let e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){let n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(Kr.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:t}=Z("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;let t=await this.rpcBatchSubscribe(e);xr(t)&&this.onBatchSubscribe(t.map((n,i)=>z0(Ga({},e[i]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(Is.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(Ft.connect,async()=>{await this.onConnect()}),this.relayer.on(Ft.disconnect,()=>{this.onDisconnect()}),this.events.on(Kr.created,async e=>{let t=Kr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(Kr.deleted,async e=>{let t=Kr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{let t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}},uj=Object.defineProperty,R3=Object.getOwnPropertySymbols,hj=Object.prototype.hasOwnProperty,fj=Object.prototype.propertyIsEnumerable,T3=(r,e,t)=>e in r?uj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dj=(r,e)=>{for(var t in e||(e={}))hj.call(e,t)&&T3(r,t,e[t]);if(R3)for(var t of R3(e))fj.call(e,t)&&T3(r,t,e[t]);return r},ig=class extends vu{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new zn.EventEmitter,this.name=jB,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.request=async t=>{this.logger.debug("Publishing Request Payload");let n=t.id;try{await this.toEstablishConnection();let i=this.provider.request(t);return this.requestsInFlight.set(n,{promise:i,request:t}),await i}catch(i){throw this.logger.debug("Failed to Publish Request"),this.logger.error(i),i}finally{this.requestsInFlight.delete(n)}},this.onPayloadHandler=t=>{this.onProviderPayload(t)},this.onConnectHandler=()=>{this.events.emit(Ft.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.error(t),this.events.emit(Ft.error,t),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(qn.payload,this.onPayloadHandler),this.provider.on(qn.connect,this.onConnectHandler),this.provider.on(qn.disconnect,this.onDisconnectHandler),this.provider.on(qn.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Wt(e.logger,this.name):(0,_i.default)(ps({level:e.logger||BB})),this.messages=new eg(this.logger,e.core),this.subscriber=new ng(this,this.logger),this.publisher=new tg(this,this.logger),this.relayUrl=e?.relayUrl||X3,this.projectId=e.projectId,this.bundleId=E2(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${A3}...`),await this.restartTransport(A3)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},HB)}get context(){return Ht(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var n;this.isInitialized();let i=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"";if(i)return i;let a,c=u=>{u.topic===e&&(this.subscriber.off(Kr.created,c),a())};return await Promise.all([new Promise(u=>{a=u,this.subscriber.on(Kr.created,c)}),new Promise(async u=>{i=await this.subscriber.subscribe(e,t),u()})]),i}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.requestsInFlight.size>0&&(this.logger.debug("Waiting for all in-flight requests to finish before closing transport..."),this.requestsInFlight.forEach(async e=>{await e.promise})),this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await vo(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(t=>{if(!this.initialized)return t();this.subscriber.once(Kr.resubscribed,()=>{t()})}),new Promise(async(t,n)=>{try{await vo(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(i){n(i);return}t()})])}catch(t){this.logger.error(t);let n=t;if(!this.isConnectionStalled(n.message))throw t;this.provider.events.emit(qn.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Ep())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new zu(new ku(I2({sdkVersion:kB,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){let{topic:t,message:n}=e;await this.messages.set(t,n)}async shouldIgnoreMessageEvent(e){let{topic:t,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;let i=this.messages.has(t,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Io(e)){if(!e.method.endsWith(qB))return;let t=e.params,{topic:n,message:i,publishedAt:a}=t.data,c={topic:n,message:i,publishedAt:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(dj({type:"event",event:t.id},c)),this.events.emit(t.id,c),await this.acknowledgePayload(e),await this.onMessageEvent(c)}else hn(e)&&this.events.emit(Ft.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Ft.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let t=Di(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(qn.payload,this.onPayloadHandler),this.provider.off(qn.connect,this.onConnectHandler),this.provider.off(qn.disconnect,this.onDisconnectHandler),this.provider.off(qn.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(Ft.connection_stalled,()=>{this.restartTransport().catch(t=>this.logger.error(t))});let e=await Ep();K2(async t=>{this.initialized&&e!==t&&(e=t,t?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(n=>this.logger.error(n))))})}onProviderDisconnect(){this.events.emit(Ft.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},(0,Te.toMiliseconds)(zB)))}isInitialized(){if(!this.initialized){let{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{let t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}},pj=Object.defineProperty,N3=Object.getOwnPropertySymbols,gj=Object.prototype.hasOwnProperty,mj=Object.prototype.propertyIsEnumerable,L3=(r,e,t)=>e in r?pj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,F3=(r,e)=>{for(var t in e||(e={}))gj.call(e,t)&&L3(r,t,e[t]);if(N3)for(var t of N3(e))mj.call(e,t)&&L3(r,t,e[t]);return r},xs=class extends wu{constructor(e,t,n,i=Pi,a=void 0){super(e,t,n,i),this.core=e,this.logger=t,this.name=n,this.map=new Map,this.version=WB,this.cached=[],this.initialized=!1,this.storagePrefix=Pi,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!Tt(c)?this.map.set(this.getKey(c),c):N2(c)?this.map.set(c.id,c):L2(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)},this.set=async(c,u)=>{this.isInitialized(),this.map.has(c)?await this.update(c,u):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:u}),this.map.set(c,u),await this.persist())},this.get=c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c)),this.getAll=c=>(this.isInitialized(),c?this.values.filter(u=>Object.keys(c).every(h=>(0,B3.default)(u[h],c[h]))):this.values),this.update=async(c,u)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:u});let h=F3(F3({},this.getData(c)),u);this.map.set(c,h),await this.persist()},this.delete=async(c,u)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:u}),this.map.delete(c),await this.persist())},this.logger=Wt(t,this.name),this.storagePrefix=i,this.getKey=a}get context(){return Ht(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){let{message:n}=Z("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:t}=Z("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}},sg=class{constructor(e,t){this.core=e,this.logger=t,this.name=JB,this.version=ZB,this.events=new zn.default,this.initialized=!1,this.storagePrefix=Pi,this.ignoredPayloadTypes=[Fn],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();let n=eu(),i=await this.core.crypto.setSymKey(n),a=Xt(Te.FIVE_MINUTES),c={protocol:fg},u={topic:i,expiry:a,relay:c,active:!1},h=P2({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:n,relay:c,expiryTimestamp:a});return await this.pairings.set(i,u),await this.core.relayer.subscribe(i),this.core.expirer.set(i,a),{topic:i,uri:h}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);let{topic:i,symKey:a,relay:c,expiryTimestamp:u}=vp(n.uri),h;if(this.pairings.keys.includes(i)&&(h=this.pairings.get(i),h.active))throw new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);let f=u||Xt(Te.FIVE_MINUTES),p={topic:i,relay:c,expiry:f,active:!1};return await this.pairings.set(i,p),this.core.expirer.set(i,f),n.activatePairing&&await this.activate({topic:i}),this.events.emit(Ao.create,p),this.core.crypto.keychain.has(i)||(await this.core.crypto.setSymKey(a,i),await this.core.relayer.subscribe(i,{relay:c})),p},this.activate=async({topic:n})=>{this.isInitialized();let i=Xt(Te.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:i}),this.core.expirer.set(n,i)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);let{topic:i}=n;if(this.pairings.keys.includes(i)){let a=await this.sendRequest(i,"wc_pairingPing",{}),{done:c,resolve:u,reject:h}=bi();this.events.once(ct("pairing_ping",a),({error:f})=>{f?h(f):u()}),await c()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);let{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Ke("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,a)=>{let c=Lr(i,a),u=await this.core.crypto.encode(n,c),h=Ka[i].req;return this.core.history.set(n,c),this.core.relayer.publish(n,u,h),c.id},this.sendResult=async(n,i,a)=>{let c=Di(n,a),u=await this.core.crypto.encode(i,c),h=await this.core.history.get(i,n),f=Ka[h.request.method].res;await this.core.relayer.publish(i,u,f),await this.core.history.resolve(c)},this.sendError=async(n,i,a)=>{let c=Mn(n,a),u=await this.core.crypto.encode(i,c),h=await this.core.history.get(i,n),f=Ka[h.request.method]?Ka[h.request.method].res:Ka.unregistered_method.res;await this.core.relayer.publish(i,u,f),await this.core.history.resolve(c)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Ke("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{let n=this.pairings.getAll().filter(i=>on(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{let{topic:i,payload:a}=n;switch(a.method){case"wc_pairingPing":return this.onPairingPingRequest(i,a);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,a);default:return this.onUnknownRpcMethodRequest(i,a)}},this.onRelayEventResponse=async n=>{let{topic:i,payload:a}=n,c=(await this.core.history.get(i,a.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(i,a);default:return this.onUnknownRpcMethodResponse(c)}},this.onPairingPingRequest=async(n,i)=>{let{id:a}=i;try{this.isValidPing({topic:n}),await this.sendResult(a,n,!0),this.events.emit(Ao.ping,{id:a,topic:n})}catch(c){await this.sendError(a,n,c),this.logger.error(c)}},this.onPairingPingResponse=(n,i)=>{let{id:a}=i;setTimeout(()=>{Fr(i)?this.events.emit(ct("pairing_ping",a),{}):Lt(i)&&this.events.emit(ct("pairing_ping",a),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{let{id:a}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Ao.delete,{id:a,topic:n})}catch(c){await this.sendError(a,n,c),this.logger.error(c)}},this.onUnknownRpcMethodRequest=async(n,i)=>{let{id:a,method:c}=i;try{if(this.registeredMethods.includes(c))return;let u=Ke("WC_METHOD_UNSUPPORTED",c);await this.sendError(a,n,u),this.logger.error(u)}catch(u){await this.sendError(a,n,u),this.logger.error(u)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Ke("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{var i;if(!kt(n)){let{message:c}=Z("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(c)}if(!T2(n.uri)){let{message:c}=Z("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(c)}let a=vp(n.uri);if(!((i=a?.relay)!=null&&i.protocol)){let{message:c}=Z("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(c)}if(!(a!=null&&a.symKey)){let{message:c}=Z("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(c)}if(a!=null&&a.expiryTimestamp&&(0,Te.toMiliseconds)(a?.expiryTimestamp)<Date.now()){let{message:c}=Z("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(c)}},this.isValidPing=async n=>{if(!kt(n)){let{message:a}=Z("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(a)}let{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!kt(n)){let{message:a}=Z("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(a)}let{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!wt(n,!1)){let{message:i}=Z("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){let{message:i}=Z("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(on(this.pairings.get(n).expiry)){await this.deletePairing(n);let{message:i}=Z("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=Wt(t,this.name),this.pairings=new xs(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ht(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Ft.message,async e=>{let{topic:t,message:n}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;let i=await this.core.crypto.decode(t,n);try{Io(i)?(this.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):hn(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.core.history.delete(t,i.id))}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(Cr.expired,async e=>{let{topic:t}=ru(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(Ao.expire,{topic:t}))})}},og=class extends pu{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new zn.EventEmitter,this.name=QB,this.version=XB,this.cached=[],this.initialized=!1,this.storagePrefix=Pi,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:a}),this.records.has(i.id))return;let c={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:a,expiry:Xt(Te.THIRTY_DAYS)};this.records.set(c.id,c),this.events.emit(dn.created,c)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;let i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Lt(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(dn.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(a=>{if(a.topic===n){if(typeof i<"u"&&a.id!==i)return;this.records.delete(a.id),this.events.emit(dn.deleted,a)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Wt(t,this.name)}get context(){return Ht(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;let n={topic:t.topic,request:Lr(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:n}=Z("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(dn.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:t}=Z("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(dn.created,e=>{let t=dn.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(dn.updated,e=>{let t=dn.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(dn.deleted,e=>{let t=dn.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.core.heartbeat.on(Is.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{(0,Te.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}},ag=class extends bu{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new zn.EventEmitter,this.name=ej,this.version=tj,this.cached=[],this.initialized=!1,this.storagePrefix=Pi,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{let i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();let a=this.formatTarget(n),c={target:a,expiry:i};this.expirations.set(a,c),this.checkExpiry(a,c),this.events.emit(Cr.created,{target:a,expiration:c})},this.get=n=>{this.isInitialized();let i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){let i=this.formatTarget(n),a=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Cr.deleted,{target:i,expiration:a})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Wt(t,this.name)}get context(){return Ht(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return S2(e);if(typeof e=="number")return D2(e);let{message:t}=Z("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Cr.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:t}=Z("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:n}=Z("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}checkExpiry(e,t){let{expiry:n}=t;(0,Te.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Cr.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Is.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Cr.created,e=>{let t=Cr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Cr.expired,e=>{let t=Cr.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Cr.deleted,e=>{let t=Cr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}},cg=class extends _u{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=q0,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async n=>{if(this.verifyDisabled||hs()||!yi())return;let i=this.getVerifyUrl(n?.verifyUrl);this.verifyUrl!==i&&this.removeIframe(),this.verifyUrl=i;try{await this.createIframe()}catch(a){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(a)}if(!this.initialized){this.removeIframe(),this.verifyUrl=Z0;try{await this.createIframe()}catch(a){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(a),this.verifyDisabled=!0}}},this.register=async n=>{this.initialized?this.sendPost(n.attestationId):(this.addToQueue(n.attestationId),await this.init())},this.resolve=async n=>{if(this.isDevEnv)return"";let i=this.getVerifyUrl(n?.verifyUrl),a;try{a=await this.fetchAttestation(n.attestationId,i)}catch(c){this.logger.info(`failed to resolve attestation: ${n.attestationId} from url: ${i}`),this.logger.info(c),a=await this.fetchAttestation(n.attestationId,Z0)}return a},this.fetchAttestation=async(n,i)=>{this.logger.info(`resolving attestation: ${n} from url: ${i}`);let a=this.startAbortTimer(Te.ONE_SECOND*2),c=await fetch(`${i}/attestation/${n}`,{signal:this.abortController.signal});return clearTimeout(a),c.status===200?await c.json():void 0},this.addToQueue=n=>{this.queue.push(n)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(n=>this.sendPost(n)),this.queue=[])},this.sendPost=n=>{var i;try{if(!this.iframe)return;(i=this.iframe.contentWindow)==null||i.postMessage(n,"*"),this.logger.info(`postMessage sent: ${n} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let n,i=a=>{a.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",i),n())};await Promise.race([new Promise(a=>{if(document.getElementById(q0))return a();window.addEventListener("message",i);let c=document.createElement("iframe");c.id=q0,c.src=`${this.verifyUrl}/${this.projectId}`,c.style.display="none",document.body.append(c),this.iframe=c,n=a}),new Promise((a,c)=>setTimeout(()=>{window.removeEventListener("message",i),c("verify iframe load timeout")},(0,Te.toMiliseconds)(Te.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=n=>{let i=n||Es;return rj.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${Es}`),i=Es),i},this.logger=Wt(t,this.name),this.verifyUrl=Es,this.abortController=new AbortController,this.isDevEnv=tu()&&process.env.IS_VITEST}get context(){return Ht(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,Te.toMiliseconds)(e))}},lg=class extends Eu{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context=nj,this.registerDeviceToken=async n=>{let{clientId:i,token:a,notificationType:c,enableEncrypted:u=!1}=n,h=`${ij}/${this.projectId}/clients`;await(0,j3.default)(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:c,token:a,always_raw:u})})},this.logger=Wt(t,this.context)}},vj=Object.defineProperty,$3=Object.getOwnPropertySymbols,wj=Object.prototype.hasOwnProperty,yj=Object.prototype.propertyIsEnumerable,U3=(r,e,t)=>e in r?vj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,M3=(r,e)=>{for(var t in e||(e={}))wj.call(e,t)&&U3(r,t,e[t]);if($3)for(var t of $3(e))yj.call(e,t)&&U3(r,t,e[t]);return r},ug=class r extends du{constructor(e){super(e),this.protocol=Q3,this.version=AB,this.name=hg,this.events=new zn.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||X3,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:(0,_i.default)(ps({level:e?.logger||OB.logger}));this.logger=Wt(t,this.name),this.heartbeat=new Is.HeartBeat,this.crypto=new X0(this,this.logger,e?.keychain),this.history=new og(this,this.logger),this.expirer=new ag(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new cu(M3(M3({},PB),e?.storageOptions)),this.relayer=new ig({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new sg(this,this.logger),this.verify=new cg(this.projectId||"",this.logger),this.echoClient=new lg(this.projectId||"",this.logger)}static async init(e){let t=new r(e);await t.initialize();let n=await t.crypto.getClientId();return await t.storage.setItem(VB,n),t}get context(){return Ht(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},e5=ug;var ih=je(Wr()),qe=je(as());var i5="wc",s5=2,o5="client",yg=`${i5}@${s5}:${o5}:`,dg={name:o5,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"};var t5="WALLETCONNECT_DEEPLINK_CHOICE";var bj="proposal";var bg="Proposal expired",_j="session",rh=qe.SEVEN_DAYS,Ej="engine",kn={wc_sessionPropose:{req:{ttl:qe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:qe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:qe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:qe.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:qe.THIRTY_SECONDS,prompt:!1,tag:1115}}},pg={min:qe.FIVE_MINUTES,max:qe.SEVEN_DAYS},Hn={idle:"IDLE",active:"ACTIVE"},xj="request",Ij=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"],Cj=Object.defineProperty,Sj=Object.defineProperties,Dj=Object.getOwnPropertyDescriptors,r5=Object.getOwnPropertySymbols,Aj=Object.prototype.hasOwnProperty,Oj=Object.prototype.propertyIsEnumerable,n5=(r,e,t)=>e in r?Cj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,rr=(r,e)=>{for(var t in e||(e={}))Aj.call(e,t)&&n5(r,t,e[t]);if(r5)for(var t of r5(e))Oj.call(e,t)&&n5(r,t,e[t]);return r},Oo=(r,e)=>Sj(r,Dj(e)),gg=class extends Iu{constructor(e){super(e),this.name=Ej,this.events=new ih.default,this.initialized=!1,this.ignoredPayloadTypes=[Fn],this.requestQueue={state:Hn.idle,queue:[]},this.sessionRequestQueue={state:Hn.idle,queue:[]},this.requestQueueDelay=qe.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(kn)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,qe.toMiliseconds)(this.requestQueueDelay)))},this.connect=async t=>{await this.isInitialized();let n=Oo(rr({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(n);let{pairingTopic:i,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:u,relays:h}=n,f=i,p,m=!1;if(f&&(m=this.client.core.pairing.pairings.get(f).active),!f||!m){let{topic:T,uri:L}=await this.client.core.pairing.create();f=T,p=L}let w=await this.client.core.crypto.generateKeyPair(),_=kn.wc_sessionPropose.req.ttl||qe.FIVE_MINUTES,b=Xt(_),I=rr({requiredNamespaces:a,optionalNamespaces:c,relays:h??[{protocol:fg}],proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:b},u&&{sessionProperties:u}),{reject:P,resolve:A,done:U}=bi(_,bg);if(this.events.once(ct("session_connect"),async({error:T,session:L})=>{if(T)P(T);else if(L){L.self.publicKey=w;let W=Oo(rr({},L),{requiredNamespaces:I.requiredNamespaces,optionalNamespaces:I.optionalNamespaces});await this.client.session.set(L.topic,W),await this.setExpiry(L.topic,L.expiry),f&&await this.client.core.pairing.updateMetadata({topic:f,metadata:L.peer.metadata}),A(W)}}),!f){let{message:T}=Z("NO_MATCHING_KEY",`connect() pairing topic: ${f}`);throw new Error(T)}let S=await this.sendRequest({topic:f,method:"wc_sessionPropose",params:I,throwOnFailedPublish:!0});return await this.setProposal(S,rr({id:S},I)),{uri:p,approval:U}},this.pair=async t=>(await this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{await this.isInitialized(),await this.isValidApprove(t);let{id:n,relayProtocol:i,namespaces:a,sessionProperties:c}=t,u=this.client.proposal.get(n),{pairingTopic:h,proposer:f,requiredNamespaces:p,optionalNamespaces:m}=u;h=h||"";let w=await this.client.core.crypto.generateKeyPair(),_=f.publicKey,b=await this.client.core.crypto.generateSharedKey(w,_);h&&n&&(await this.client.core.pairing.updateMetadata({topic:h,metadata:f.metadata}),await this.sendResult({id:n,topic:h,result:{relay:{protocol:i??"irn"},responderPublicKey:w}}),await this.client.proposal.delete(n,Ke("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:h}));let I=rr({relay:{protocol:i??"irn"},namespaces:a,pairingTopic:h,controller:{publicKey:w,metadata:this.client.metadata},expiry:Xt(rh)},c&&{sessionProperties:c});await this.client.core.relayer.subscribe(b);let P=Oo(rr({},I),{topic:b,requiredNamespaces:p,optionalNamespaces:m,pairingTopic:h,acknowledged:!1,self:I.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:w});await this.client.session.set(b,P);try{await this.sendRequest({topic:b,method:"wc_sessionSettle",params:I,throwOnFailedPublish:!0})}catch(A){throw this.client.logger.error(A),this.client.session.delete(b,Ke("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(b),A}return await this.setExpiry(b,Xt(rh)),{topic:b,acknowledged:()=>new Promise(A=>setTimeout(()=>A(this.client.session.get(b)),500))}},this.reject=async t=>{await this.isInitialized(),await this.isValidReject(t);let{id:n,reason:i}=t,{pairingTopic:a}=this.client.proposal.get(n);a&&(await this.sendError(n,a,i),await this.client.proposal.delete(n,Ke("USER_DISCONNECTED")))},this.update=async t=>{await this.isInitialized(),await this.isValidUpdate(t);let{topic:n,namespaces:i}=t,a=await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i}}),{done:c,resolve:u,reject:h}=bi();return this.events.once(ct("session_update",a),({error:f})=>{f?h(f):u()}),await this.client.session.update(n,{namespaces:i}),{acknowledged:c}},this.extend=async t=>{await this.isInitialized(),await this.isValidExtend(t);let{topic:n}=t,i=await this.sendRequest({topic:n,method:"wc_sessionExtend",params:{}}),{done:a,resolve:c,reject:u}=bi();return this.events.once(ct("session_extend",i),({error:h})=>{h?u(h):c()}),await this.setExpiry(n,Xt(rh)),{acknowledged:a}},this.request=async t=>{await this.isInitialized(),await this.isValidRequest(t);let{chainId:n,request:i,topic:a,expiry:c=kn.wc_sessionRequest.req.ttl}=t,u=ja(),{done:h,resolve:f,reject:p}=bi(c,"Request expired. Please try again.");return this.events.once(ct("session_request",u),({error:m,result:w})=>{m?p(m):f(w)}),await Promise.all([new Promise(async m=>{await this.sendRequest({clientRpcId:u,topic:a,method:"wc_sessionRequest",params:{request:Oo(rr({},i),{expiryTimestamp:Xt(c)}),chainId:n},expiry:c,throwOnFailedPublish:!0}).catch(w=>p(w)),this.client.events.emit("session_request_sent",{topic:a,request:i,chainId:n,id:u}),m()}),new Promise(async m=>{let w=await O2(this.client.core.storage,t5);A2({id:u,topic:a,wcDeepLink:w}),m()}),h()]).then(m=>m[2])},this.respond=async t=>{await this.isInitialized(),await this.isValidRespond(t);let{topic:n,response:i}=t,{id:a}=i;Fr(i)?await this.sendResult({id:a,topic:n,result:i.result,throwOnFailedPublish:!0}):Lt(i)&&await this.sendError(a,n,i.error),this.cleanupAfterResponse(t)},this.ping=async t=>{await this.isInitialized(),await this.isValidPing(t);let{topic:n}=t;if(this.client.session.keys.includes(n)){let i=await this.sendRequest({topic:n,method:"wc_sessionPing",params:{}}),{done:a,resolve:c,reject:u}=bi();this.events.once(ct("session_ping",i),({error:h})=>{h?u(h):c()}),await a()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async t=>{await this.isInitialized(),await this.isValidEmit(t);let{topic:n,event:i,chainId:a}=t;await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:a}})},this.disconnect=async t=>{await this.isInitialized(),await this.isValidDisconnect(t);let{topic:n}=t;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Ke("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{let{message:i}=Z("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(n=>R2(n,t))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{let n=this.client.core.pairing.pairings.get(t.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(a=>{var c,u;return((c=a.peerMetadata)==null?void 0:c.url)&&((u=a.peerMetadata)==null?void 0:u.url)===t.peer.metadata.url&&a.topic&&a.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async t=>{let{topic:n,expirerHasDeleted:i=!1,emitEvent:a=!0,id:c=0}=t,{self:u}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,Ke("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(u.publicKey)&&await this.client.core.crypto.deleteKeyPair(u.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),i||this.client.core.expirer.del(n),this.client.core.storage.removeItem(t5).catch(h=>this.client.logger.warn(h)),this.getPendingSessionRequests().forEach(h=>{h.topic===n&&this.deletePendingSessionRequest(h.id,Ke("USER_DISCONNECTED"))}),a&&this.client.events.emit("session_delete",{id:c,topic:n})},this.deleteProposal=async(t,n)=>{await Promise.all([this.client.proposal.delete(t,Ke("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,n),i?Promise.resolve():this.client.core.expirer.del(t)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(a=>a.id!==t),i&&(this.sessionRequestQueue.state=Hn.idle,this.client.events.emit("session_request_expire",{id:t}))},this.setExpiry=async(t,n)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:n}),this.client.core.expirer.set(t,n)},this.setProposal=async(t,n)=>{await this.client.proposal.set(t,n),this.client.core.expirer.set(t,Xt(kn.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async t=>{let{id:n,topic:i,params:a,verifyContext:c}=t,u=a.request.expiryTimestamp||Xt(kn.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(n,{id:n,topic:i,params:a,verifyContext:c}),u&&this.client.core.expirer.set(n,u)},this.sendRequest=async t=>{let{topic:n,method:i,params:a,expiry:c,relayRpcId:u,clientRpcId:h,throwOnFailedPublish:f}=t,p=Lr(i,a,h);if(yi()&&Ij.includes(i)){let _=wi(JSON.stringify(p));this.client.core.verify.register({attestationId:_})}let m=await this.client.core.crypto.encode(n,p),w=kn[i].req;return c&&(w.ttl=c),u&&(w.id=u),this.client.core.history.set(n,p),f?(w.internal=Oo(rr({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,m,w)):this.client.core.relayer.publish(n,m,w).catch(_=>this.client.logger.error(_)),p.id},this.sendResult=async t=>{let{id:n,topic:i,result:a,throwOnFailedPublish:c}=t,u=Di(n,a),h=await this.client.core.crypto.encode(i,u),f=await this.client.core.history.get(i,n),p=kn[f.request.method].res;c?(p.internal=Oo(rr({},p.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,h,p)):this.client.core.relayer.publish(i,h,p).catch(m=>this.client.logger.error(m)),await this.client.core.history.resolve(u)},this.sendError=async(t,n,i)=>{let a=Mn(t,i),c=await this.client.core.crypto.encode(n,a),u=await this.client.core.history.get(n,t),h=kn[u.request.method].res;this.client.core.relayer.publish(n,c,h),await this.client.core.history.resolve(a)},this.cleanup=async()=>{let t=[],n=[];this.client.session.getAll().forEach(i=>{let a=!1;on(i.expiry)&&(a=!0),this.client.core.crypto.keychain.has(i.topic)||(a=!0),a&&t.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{on(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...t.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===Hn.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Hn.active;let t=this.requestQueue.queue.shift();if(t)try{this.processRequest(t),await new Promise(n=>setTimeout(n,300))}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Hn.idle},this.processRequest=t=>{let{topic:n,payload:i}=t,a=i.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${a}`)}},this.onRelayEventResponse=async t=>{let{topic:n,payload:i}=t,a=(await this.client.core.history.get(n,i.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${a}`)}},this.onRelayEventUnknownPayload=t=>{let{topic:n}=t,{message:i}=Z("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.onSessionProposeRequest=async(t,n)=>{let{params:i,id:a}=n;try{this.isValidConnect(rr({},n.params));let c=i.expiryTimestamp||Xt(kn.wc_sessionPropose.req.ttl),u=rr({id:a,pairingTopic:t,expiryTimestamp:c},i);await this.setProposal(a,u);let h=wi(JSON.stringify(n)),f=await this.getVerifyContext(h,u.proposer.metadata);this.client.events.emit("session_proposal",{id:a,params:u,verifyContext:f})}catch(c){await this.sendError(a,t,c),this.client.logger.error(c)}},this.onSessionProposeResponse=async(t,n)=>{let{id:i}=n;if(Fr(n)){let{result:a}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});let c=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});let u=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});let h=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:h});let f=await this.client.core.crypto.generateSharedKey(u,h);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:f});let p=await this.client.core.relayer.subscribe(f);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:t})}else Lt(n)&&(await this.client.proposal.delete(i,Ke("USER_DISCONNECTED")),this.events.emit(ct("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(t,n)=>{let{id:i,params:a}=n;try{this.isValidSessionSettleRequest(a);let{relay:c,controller:u,expiry:h,namespaces:f,sessionProperties:p,pairingTopic:m}=n.params,w=rr({topic:t,relay:c,expiry:h,namespaces:f,acknowledged:!0,pairingTopic:m,requiredNamespaces:{},optionalNamespaces:{},controller:u.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:u.publicKey,metadata:u.metadata}},p&&{sessionProperties:p});await this.sendResult({id:n.id,topic:t,result:!0}),this.events.emit(ct("session_connect"),{session:w}),this.cleanupDuplicatePairings(w)}catch(c){await this.sendError(i,t,c),this.client.logger.error(c)}},this.onSessionSettleResponse=async(t,n)=>{let{id:i}=n;Fr(n)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(ct("session_approve",i),{})):Lt(n)&&(await this.client.session.delete(t,Ke("USER_DISCONNECTED")),this.events.emit(ct("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(t,n)=>{let{params:i,id:a}=n;try{let c=`${t}_session_update`,u=us.get(c);if(u&&this.isRequestOutOfSync(u,a)){this.client.logger.info(`Discarding out of sync request - ${a}`);return}this.isValidUpdate(rr({topic:t},i)),await this.client.session.update(t,{namespaces:i.namespaces}),await this.sendResult({id:a,topic:t,result:!0}),this.client.events.emit("session_update",{id:a,topic:t,params:i}),us.set(c,a)}catch(c){await this.sendError(a,t,c),this.client.logger.error(c)}},this.isRequestOutOfSync=(t,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(t.toString().slice(0,-3)),this.onSessionUpdateResponse=(t,n)=>{let{id:i}=n;Fr(n)?this.events.emit(ct("session_update",i),{}):Lt(n)&&this.events.emit(ct("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(t,n)=>{let{id:i}=n;try{this.isValidExtend({topic:t}),await this.setExpiry(t,Xt(rh)),await this.sendResult({id:i,topic:t,result:!0}),this.client.events.emit("session_extend",{id:i,topic:t})}catch(a){await this.sendError(i,t,a),this.client.logger.error(a)}},this.onSessionExtendResponse=(t,n)=>{let{id:i}=n;Fr(n)?this.events.emit(ct("session_extend",i),{}):Lt(n)&&this.events.emit(ct("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(t,n)=>{let{id:i}=n;try{this.isValidPing({topic:t}),await this.sendResult({id:i,topic:t,result:!0}),this.client.events.emit("session_ping",{id:i,topic:t})}catch(a){await this.sendError(i,t,a),this.client.logger.error(a)}},this.onSessionPingResponse=(t,n)=>{let{id:i}=n;setTimeout(()=>{Fr(n)?this.events.emit(ct("session_ping",i),{}):Lt(n)&&this.events.emit(ct("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(t,n)=>{let{id:i}=n;try{this.isValidDisconnect({topic:t,reason:n.params}),await Promise.all([new Promise(a=>{this.client.core.relayer.once(Ft.publish,async()=>{a(await this.deleteSession({topic:t,id:i}))})}),this.sendResult({id:i,topic:t,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:Ke("USER_DISCONNECTED")})])}catch(a){this.client.logger.error(a)}},this.onSessionRequest=async(t,n)=>{let{id:i,params:a}=n;try{this.isValidRequest(rr({topic:t},a));let c=wi(JSON.stringify(Lr("wc_sessionRequest",a,i))),u=this.client.session.get(t),h=await this.getVerifyContext(c,u.peer.metadata),f={id:i,topic:t,params:a,verifyContext:h};await this.setPendingSessionRequest(f),this.addSessionRequestToSessionRequestQueue(f),this.processSessionRequestQueue()}catch(c){await this.sendError(i,t,c),this.client.logger.error(c)}},this.onSessionRequestResponse=(t,n)=>{let{id:i}=n;Fr(n)?this.events.emit(ct("session_request",i),{result:n.result}):Lt(n)&&this.events.emit(ct("session_request",i),{error:n.error})},this.onSessionEventRequest=async(t,n)=>{let{id:i,params:a}=n;try{let c=`${t}_session_event_${a.event.name}`,u=us.get(c);if(u&&this.isRequestOutOfSync(u,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(rr({topic:t},a)),this.client.events.emit("session_event",{id:i,topic:t,params:a}),us.set(c,i)}catch(c){await this.sendError(i,t,c),this.client.logger.error(c)}},this.addSessionRequestToSessionRequestQueue=t=>{this.sessionRequestQueue.queue.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Hn.idle,this.processSessionRequestQueue()},(0,qe.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:t,error:n})=>{let i=this.client.core.history.pending;i.length>0&&i.filter(a=>a.topic===t&&a.request.method==="wc_sessionRequest").forEach(a=>{this.events.emit(ct("session_request",a.request.id),{error:n})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===Hn.active){this.client.logger.info("session request queue is already active.");return}let t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Hn.active,this.client.events.emit("session_request",t)}catch(n){this.client.logger.error(n)}},this.onPairingCreated=t=>{if(t.active)return;let n=this.client.proposal.getAll().find(i=>i.pairingTopic===t.topic);n&&this.onSessionProposeRequest(t.topic,Lr("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties},n.id))},this.isValidConnect=async t=>{if(!kt(t)){let{message:h}=Z("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(h)}let{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:a,sessionProperties:c,relays:u}=t;if(Tt(n)||await this.isValidPairingTopic(n),!M2(u,!0)){let{message:h}=Z("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(h)}!Tt(i)&&fs(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Tt(a)&&fs(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),Tt(c)||this.validateSessionProps(c,"sessionProperties")},this.validateNamespaces=(t,n)=>{let i=U2(t,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async t=>{if(!kt(t))throw new Error(Z("MISSING_OR_INVALID",`approve() params: ${t}`).message);let{id:n,namespaces:i,relayProtocol:a,sessionProperties:c}=t;await this.isValidProposalId(n);let u=this.client.proposal.get(n),h=ou(i,"approve()");if(h)throw new Error(h.message);let f=_p(u.requiredNamespaces,i,"approve()");if(f)throw new Error(f.message);if(!wt(a,!0)){let{message:p}=Z("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(p)}Tt(c)||this.validateSessionProps(c,"sessionProperties")},this.isValidReject=async t=>{if(!kt(t)){let{message:a}=Z("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(a)}let{id:n,reason:i}=t;if(await this.isValidProposalId(n),!j2(i)){let{message:a}=Z("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidSessionSettleRequest=t=>{if(!kt(t)){let{message:f}=Z("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(f)}let{relay:n,controller:i,namespaces:a,expiry:c}=t;if(!yp(n)){let{message:f}=Z("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(f)}let u=F2(i,"onSessionSettleRequest()");if(u)throw new Error(u.message);let h=ou(a,"onSessionSettleRequest()");if(h)throw new Error(h.message);if(on(c)){let{message:f}=Z("EXPIRED","onSessionSettleRequest()");throw new Error(f)}},this.isValidUpdate=async t=>{if(!kt(t)){let{message:h}=Z("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(h)}let{topic:n,namespaces:i}=t;await this.isValidSessionTopic(n);let a=this.client.session.get(n),c=ou(i,"update()");if(c)throw new Error(c.message);let u=_p(a.requiredNamespaces,i,"update()");if(u)throw new Error(u.message)},this.isValidExtend=async t=>{if(!kt(t)){let{message:i}=Z("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(i)}let{topic:n}=t;await this.isValidSessionTopic(n)},this.isValidRequest=async t=>{if(!kt(t)){let{message:h}=Z("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(h)}let{topic:n,request:i,chainId:a,expiry:c}=t;await this.isValidSessionTopic(n);let{namespaces:u}=this.client.session.get(n);if(!bp(u,a)){let{message:h}=Z("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(h)}if(!q2(i)){let{message:h}=Z("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(h)}if(!H2(u,a,i.method)){let{message:h}=Z("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(h)}if(c&&!V2(c,pg)){let{message:h}=Z("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${pg.min} and ${pg.max}`);throw new Error(h)}},this.isValidRespond=async t=>{var n;if(!kt(t)){let{message:c}=Z("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(c)}let{topic:i,response:a}=t;try{await this.isValidSessionTopic(i)}catch(c){throw(n=t?.response)!=null&&n.id&&this.cleanupAfterResponse(t),c}if(!z2(a)){let{message:c}=Z("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(a)}`);throw new Error(c)}},this.isValidPing=async t=>{if(!kt(t)){let{message:i}=Z("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(i)}let{topic:n}=t;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async t=>{if(!kt(t)){let{message:u}=Z("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(u)}let{topic:n,event:i,chainId:a}=t;await this.isValidSessionTopic(n);let{namespaces:c}=this.client.session.get(n);if(!bp(c,a)){let{message:u}=Z("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(u)}if(!k2(i)){let{message:u}=Z("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(u)}if(!W2(c,a,i.name)){let{message:u}=Z("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(u)}},this.isValidDisconnect=async t=>{if(!kt(t)){let{message:i}=Z("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(i)}let{topic:n}=t;await this.isValidSessionOrPairingTopic(n)},this.getVerifyContext=async(t,n)=>{let i={verified:{verifyUrl:n.verifyUrl||Es,validation:"UNKNOWN",origin:n.url||""}};try{let a=await this.client.core.verify.resolve({attestationId:t,verifyUrl:n.verifyUrl});a&&(i.verified.origin=a.origin,i.verified.isScam=a.isScam,i.verified.validation=a.origin===new URL(n.url).origin?"VALID":"INVALID")}catch(a){this.client.logger.info(a)}return this.client.logger.info(`Verify context: ${JSON.stringify(i)}`),i},this.validateSessionProps=(t,n)=>{Object.values(t).forEach(i=>{if(!wt(i,!1)){let{message:a}=Z("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(a)}})}}async isInitialized(){if(!this.initialized){let{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Ft.message,async e=>{let{topic:t,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;let i=await this.client.core.crypto.decode(t,n);try{Io(i)?(this.client.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):hn(i)?(await this.client.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.client.core.history.delete(t,i.id)):this.onRelayEventUnknownPayload({topic:t,payload:i})}catch(a){this.client.logger.error(a)}})}registerExpirerEvents(){this.client.core.expirer.on(Cr.expired,async e=>{let{topic:t,id:n}=ru(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Z("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Ao.create,e=>this.onPairingCreated(e))}isValidPairingTopic(e){if(!wt(e,!1)){let{message:t}=Z("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=Z("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(on(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=Z("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!wt(e,!1)){let{message:t}=Z("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){let{message:t}=Z("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(on(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:t}=Z("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){let{message:t}=Z("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(wt(e,!1)){let{message:t}=Z("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{let{message:t}=Z("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!B2(e)){let{message:t}=Z("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=Z("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(on(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:t}=Z("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}},mg=class extends xs{constructor(e,t){super(e,t,bj,yg),this.core=e,this.logger=t}},vg=class extends xs{constructor(e,t){super(e,t,_j,yg),this.core=e,this.logger=t}},wg=class extends xs{constructor(e,t){super(e,t,xj,yg,n=>n.id),this.core=e,this.logger=t}},nh=class r extends xu{constructor(e){super(e),this.protocol=i5,this.version=s5,this.name=dg.name,this.events=new ih.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=e?.name||dg.name,this.metadata=e?.metadata||x2();let t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:(0,_i.default)(ps({level:e?.logger||dg.logger}));this.core=e?.core||new e5(e),this.logger=Wt(t,this.name),this.session=new vg(this.core,this.logger),this.proposal=new mg(this.core,this.logger),this.pendingRequest=new wg(this.core,this.logger),this.engine=new gg(this)}static async init(e){let t=new r(e);return await t.initialize(),t}get context(){return Ht(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var g5=je(Wr()),_g=je(c5());var Pj=Object.defineProperty,Rj=Object.defineProperties,Tj=Object.getOwnPropertyDescriptors,l5=Object.getOwnPropertySymbols,Nj=Object.prototype.hasOwnProperty,Lj=Object.prototype.propertyIsEnumerable,u5=(r,e,t)=>e in r?Pj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,h5=(r,e)=>{for(var t in e||(e={}))Nj.call(e,t)&&u5(r,t,e[t]);if(l5)for(var t of l5(e))Lj.call(e,t)&&u5(r,t,e[t]);return r},f5=(r,e)=>Rj(r,Tj(e)),Fj={Accept:"application/json","Content-Type":"application/json"},$j="POST",d5={headers:Fj,method:$j},p5=10,$r=class{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new g5.EventEmitter,this.isAvailable=!1,this.registering=!1,!ju(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{let t=Ir(e),n=await(await(0,_g.default)(this.url,f5(h5({},d5),{body:t}))).json();this.onPayload({data:n})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!ju(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){let t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,i)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),i(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){let t=Ir({id:1,jsonrpc:"2.0",method:"test",params:[]});await(0,_g.default)(e,f5(h5({},d5),{body:t}))}this.onOpen()}catch(t){let n=this.parseError(t);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t=typeof e.data=="string"?an(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let n=this.parseError(t),i=n.message||n.toString(),a=Mn(e,i);this.events.emit("payload",a)}parseError(e,t=this.url){return Ba(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>p5&&this.events.setMaxListeners(p5)}};var m5=je(Wr());var Gr=class extends vs{constructor(e){super(e),this.events=new m5.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Lr(e.method,e.params||[],e.id||ms().toString()),t)}async requestStrict(e,t){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(a){i(a)}this.events.on(`${e.id}`,a=>{Lt(a)?i(a.error):n(a.result)});try{await this.connection.send(e,t)}catch(a){i(a)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),hn(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};var C5=je(Wr());var v5="error",Uj="wss://relay.walletconnect.com",Mj="wc",Bj="universal_provider",w5=`${Mj}@2:${Bj}:`,jj="https://rpc.walletconnect.com/v1/",Wn={DEFAULT_CHAIN_CHANGED:"default_chain_changed"},Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cg={exports:{}};(function(r,e){(function(){var t,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",f=500,p="__lodash_placeholder__",m=1,w=2,_=4,b=1,I=2,P=1,A=2,U=4,S=8,T=16,L=32,W=64,B=128,q=256,M=512,Y=30,x="...",N=800,G=16,ie=1,H=2,R=3,$=1/0,K=9007199254740991,ce=17976931348623157e292,J=NaN,X=4294967295,ue=X-1,ae=X>>>1,he=[["ary",B],["bind",P],["bindKey",A],["curry",S],["curryRight",T],["flip",M],["partial",L],["partialRight",W],["rearg",q]],fe="[object Arguments]",de="[object Array]",ve="[object AsyncFunction]",$e="[object Boolean]",Pe="[object Date]",Ge="[object DOMException]",He="[object Error]",Je="[object Function]",ut="[object GeneratorFunction]",Ue="[object Map]",rt="[object Number]",Vh="[object Null]",jr="[object Object]",Pc="[object Promise]",Rc="[object Proxy]",ri="[object RegExp]",Gt="[object Set]",ni="[object String]",Gi="[object Symbol]",Tc="[object Undefined]",ii="[object WeakMap]",Nc="[object WeakSet]",Yi="[object ArrayBuffer]",si="[object DataView]",Go="[object Float32Array]",Yo="[object Float64Array]",Kh="[object Int8Array]",Gh="[object Int16Array]",Yh="[object Int32Array]",Jh="[object Uint8Array]",Zh="[object Uint8ClampedArray]",Qh="[object Uint16Array]",Xh="[object Uint32Array]",q6=/\b__p \+= '';/g,z6=/\b(__p \+=) '' \+/g,k6=/(__e\(.*?\)|\b__t\)) \+\n'';/g,P1=/&(?:amp|lt|gt|quot|#39);/g,R1=/[&<>"']/g,H6=RegExp(P1.source),W6=RegExp(R1.source),V6=/<%-([\s\S]+?)%>/g,K6=/<%([\s\S]+?)%>/g,T1=/<%=([\s\S]+?)%>/g,G6=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y6=/^\w*$/,J6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ef=/[\\^$.*+?()[\]{}|]/g,Z6=RegExp(ef.source),tf=/^\s+/,Q6=/\s/,X6=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,e8=/\{\n\/\* \[wrapped with (.+)\] \*/,t8=/,? & /,r8=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,n8=/[()=,{}\[\]\/\s]/,i8=/\\(\\)?/g,s8=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,N1=/\w*$/,o8=/^[-+]0x[0-9a-f]+$/i,a8=/^0b[01]+$/i,c8=/^\[object .+?Constructor\]$/,l8=/^0o[0-7]+$/i,u8=/^(?:0|[1-9]\d*)$/,h8=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Lc=/($^)/,f8=/['\n\r\u2028\u2029\\]/g,Fc="\\ud800-\\udfff",d8="\\u0300-\\u036f",p8="\\ufe20-\\ufe2f",g8="\\u20d0-\\u20ff",L1=d8+p8+g8,F1="\\u2700-\\u27bf",$1="a-z\\xdf-\\xf6\\xf8-\\xff",m8="\\xac\\xb1\\xd7\\xf7",v8="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",w8="\\u2000-\\u206f",y8=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",U1="A-Z\\xc0-\\xd6\\xd8-\\xde",M1="\\ufe0e\\ufe0f",B1=m8+v8+w8+y8,rf="['\u2019]",b8="["+Fc+"]",j1="["+B1+"]",$c="["+L1+"]",q1="\\d+",_8="["+F1+"]",z1="["+$1+"]",k1="[^"+Fc+B1+q1+F1+$1+U1+"]",nf="\\ud83c[\\udffb-\\udfff]",E8="(?:"+$c+"|"+nf+")",H1="[^"+Fc+"]",sf="(?:\\ud83c[\\udde6-\\uddff]){2}",of="[\\ud800-\\udbff][\\udc00-\\udfff]",ks="["+U1+"]",W1="\\u200d",V1="(?:"+z1+"|"+k1+")",x8="(?:"+ks+"|"+k1+")",K1="(?:"+rf+"(?:d|ll|m|re|s|t|ve))?",G1="(?:"+rf+"(?:D|LL|M|RE|S|T|VE))?",Y1=E8+"?",J1="["+M1+"]?",I8="(?:"+W1+"(?:"+[H1,sf,of].join("|")+")"+J1+Y1+")*",C8="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",S8="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Z1=J1+Y1+I8,D8="(?:"+[_8,sf,of].join("|")+")"+Z1,A8="(?:"+[H1+$c+"?",$c,sf,of,b8].join("|")+")",O8=RegExp(rf,"g"),P8=RegExp($c,"g"),af=RegExp(nf+"(?="+nf+")|"+A8+Z1,"g"),R8=RegExp([ks+"?"+z1+"+"+K1+"(?="+[j1,ks,"$"].join("|")+")",x8+"+"+G1+"(?="+[j1,ks+V1,"$"].join("|")+")",ks+"?"+V1+"+"+K1,ks+"+"+G1,S8,C8,q1,D8].join("|"),"g"),T8=RegExp("["+W1+Fc+L1+M1+"]"),N8=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,L8=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],F8=-1,et={};et[Go]=et[Yo]=et[Kh]=et[Gh]=et[Yh]=et[Jh]=et[Zh]=et[Qh]=et[Xh]=!0,et[fe]=et[de]=et[Yi]=et[$e]=et[si]=et[Pe]=et[He]=et[Je]=et[Ue]=et[rt]=et[jr]=et[ri]=et[Gt]=et[ni]=et[ii]=!1;var Ze={};Ze[fe]=Ze[de]=Ze[Yi]=Ze[si]=Ze[$e]=Ze[Pe]=Ze[Go]=Ze[Yo]=Ze[Kh]=Ze[Gh]=Ze[Yh]=Ze[Ue]=Ze[rt]=Ze[jr]=Ze[ri]=Ze[Gt]=Ze[ni]=Ze[Gi]=Ze[Jh]=Ze[Zh]=Ze[Qh]=Ze[Xh]=!0,Ze[He]=Ze[Je]=Ze[ii]=!1;var $8={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},U8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},M8={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},B8={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},j8=parseFloat,q8=parseInt,Q1=typeof Ja=="object"&&Ja&&Ja.Object===Object&&Ja,z8=typeof self=="object"&&self&&self.Object===Object&&self,Pt=Q1||z8||Function("return this")(),cf=e&&!e.nodeType&&e,Ji=cf&&!0&&r&&!r.nodeType&&r,X1=Ji&&Ji.exports===cf,lf=X1&&Q1.process,Sr=function(){try{var D=Ji&&Ji.require&&Ji.require("util").types;return D||lf&&lf.binding&&lf.binding("util")}catch{}}(),ev=Sr&&Sr.isArrayBuffer,tv=Sr&&Sr.isDate,rv=Sr&&Sr.isMap,nv=Sr&&Sr.isRegExp,iv=Sr&&Sr.isSet,sv=Sr&&Sr.isTypedArray;function pr(D,j,F){switch(F.length){case 0:return D.call(j);case 1:return D.call(j,F[0]);case 2:return D.call(j,F[0],F[1]);case 3:return D.call(j,F[0],F[1],F[2])}return D.apply(j,F)}function k8(D,j,F,se){for(var we=-1,Me=D==null?0:D.length;++we<Me;){var _t=D[we];j(se,_t,F(_t),D)}return se}function Dr(D,j){for(var F=-1,se=D==null?0:D.length;++F<se&&j(D[F],F,D)!==!1;);return D}function H8(D,j){for(var F=D==null?0:D.length;F--&&j(D[F],F,D)!==!1;);return D}function ov(D,j){for(var F=-1,se=D==null?0:D.length;++F<se;)if(!j(D[F],F,D))return!1;return!0}function oi(D,j){for(var F=-1,se=D==null?0:D.length,we=0,Me=[];++F<se;){var _t=D[F];j(_t,F,D)&&(Me[we++]=_t)}return Me}function Uc(D,j){var F=D==null?0:D.length;return!!F&&Hs(D,j,0)>-1}function uf(D,j,F){for(var se=-1,we=D==null?0:D.length;++se<we;)if(F(j,D[se]))return!0;return!1}function nt(D,j){for(var F=-1,se=D==null?0:D.length,we=Array(se);++F<se;)we[F]=j(D[F],F,D);return we}function ai(D,j){for(var F=-1,se=j.length,we=D.length;++F<se;)D[we+F]=j[F];return D}function hf(D,j,F,se){var we=-1,Me=D==null?0:D.length;for(se&&Me&&(F=D[++we]);++we<Me;)F=j(F,D[we],we,D);return F}function W8(D,j,F,se){var we=D==null?0:D.length;for(se&&we&&(F=D[--we]);we--;)F=j(F,D[we],we,D);return F}function ff(D,j){for(var F=-1,se=D==null?0:D.length;++F<se;)if(j(D[F],F,D))return!0;return!1}var V8=df("length");function K8(D){return D.split("")}function G8(D){return D.match(r8)||[]}function av(D,j,F){var se;return F(D,function(we,Me,_t){if(j(we,Me,_t))return se=Me,!1}),se}function Mc(D,j,F,se){for(var we=D.length,Me=F+(se?1:-1);se?Me--:++Me<we;)if(j(D[Me],Me,D))return Me;return-1}function Hs(D,j,F){return j===j?oI(D,j,F):Mc(D,cv,F)}function Y8(D,j,F,se){for(var we=F-1,Me=D.length;++we<Me;)if(se(D[we],j))return we;return-1}function cv(D){return D!==D}function lv(D,j){var F=D==null?0:D.length;return F?gf(D,j)/F:J}function df(D){return function(j){return j==null?t:j[D]}}function pf(D){return function(j){return D==null?t:D[j]}}function uv(D,j,F,se,we){return we(D,function(Me,_t,Ye){F=se?(se=!1,Me):j(F,Me,_t,Ye)}),F}function J8(D,j){var F=D.length;for(D.sort(j);F--;)D[F]=D[F].value;return D}function gf(D,j){for(var F,se=-1,we=D.length;++se<we;){var Me=j(D[se]);Me!==t&&(F=F===t?Me:F+Me)}return F}function mf(D,j){for(var F=-1,se=Array(D);++F<D;)se[F]=j(F);return se}function Z8(D,j){return nt(j,function(F){return[F,D[F]]})}function hv(D){return D&&D.slice(0,gv(D)+1).replace(tf,"")}function gr(D){return function(j){return D(j)}}function vf(D,j){return nt(j,function(F){return D[F]})}function Jo(D,j){return D.has(j)}function fv(D,j){for(var F=-1,se=D.length;++F<se&&Hs(j,D[F],0)>-1;);return F}function dv(D,j){for(var F=D.length;F--&&Hs(j,D[F],0)>-1;);return F}function Q8(D,j){for(var F=D.length,se=0;F--;)D[F]===j&&++se;return se}var X8=pf($8),eI=pf(U8);function tI(D){return"\\"+B8[D]}function rI(D,j){return D==null?t:D[j]}function Ws(D){return T8.test(D)}function nI(D){return N8.test(D)}function iI(D){for(var j,F=[];!(j=D.next()).done;)F.push(j.value);return F}function wf(D){var j=-1,F=Array(D.size);return D.forEach(function(se,we){F[++j]=[we,se]}),F}function pv(D,j){return function(F){return D(j(F))}}function ci(D,j){for(var F=-1,se=D.length,we=0,Me=[];++F<se;){var _t=D[F];(_t===j||_t===p)&&(D[F]=p,Me[we++]=F)}return Me}function Bc(D){var j=-1,F=Array(D.size);return D.forEach(function(se){F[++j]=se}),F}function sI(D){var j=-1,F=Array(D.size);return D.forEach(function(se){F[++j]=[se,se]}),F}function oI(D,j,F){for(var se=F-1,we=D.length;++se<we;)if(D[se]===j)return se;return-1}function aI(D,j,F){for(var se=F+1;se--;)if(D[se]===j)return se;return se}function Vs(D){return Ws(D)?lI(D):V8(D)}function qr(D){return Ws(D)?uI(D):K8(D)}function gv(D){for(var j=D.length;j--&&Q6.test(D.charAt(j)););return j}var cI=pf(M8);function lI(D){for(var j=af.lastIndex=0;af.test(D);)++j;return j}function uI(D){return D.match(af)||[]}function hI(D){return D.match(R8)||[]}var fI=function D(j){j=j==null?Pt:Ks.defaults(Pt.Object(),j,Ks.pick(Pt,L8));var F=j.Array,se=j.Date,we=j.Error,Me=j.Function,_t=j.Math,Ye=j.Object,yf=j.RegExp,dI=j.String,Ar=j.TypeError,jc=F.prototype,pI=Me.prototype,Gs=Ye.prototype,qc=j["__core-js_shared__"],zc=pI.toString,We=Gs.hasOwnProperty,gI=0,mv=function(){var s=/[^.]+$/.exec(qc&&qc.keys&&qc.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),kc=Gs.toString,mI=zc.call(Ye),vI=Pt._,wI=yf("^"+zc.call(We).replace(ef,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hc=X1?j.Buffer:t,li=j.Symbol,Wc=j.Uint8Array,vv=Hc?Hc.allocUnsafe:t,Vc=pv(Ye.getPrototypeOf,Ye),wv=Ye.create,yv=Gs.propertyIsEnumerable,Kc=jc.splice,bv=li?li.isConcatSpreadable:t,Zo=li?li.iterator:t,Zi=li?li.toStringTag:t,Gc=function(){try{var s=rs(Ye,"defineProperty");return s({},"",{}),s}catch{}}(),yI=j.clearTimeout!==Pt.clearTimeout&&j.clearTimeout,bI=se&&se.now!==Pt.Date.now&&se.now,_I=j.setTimeout!==Pt.setTimeout&&j.setTimeout,Yc=_t.ceil,Jc=_t.floor,bf=Ye.getOwnPropertySymbols,EI=Hc?Hc.isBuffer:t,_v=j.isFinite,xI=jc.join,II=pv(Ye.keys,Ye),Et=_t.max,Mt=_t.min,CI=se.now,SI=j.parseInt,Ev=_t.random,DI=jc.reverse,_f=rs(j,"DataView"),Qo=rs(j,"Map"),Ef=rs(j,"Promise"),Ys=rs(j,"Set"),Xo=rs(j,"WeakMap"),ea=rs(Ye,"create"),Zc=Xo&&new Xo,Js={},AI=ns(_f),OI=ns(Qo),PI=ns(Ef),RI=ns(Ys),TI=ns(Xo),Qc=li?li.prototype:t,ta=Qc?Qc.valueOf:t,xv=Qc?Qc.toString:t;function v(s){if(ht(s)&&!be(s)&&!(s instanceof Oe)){if(s instanceof Or)return s;if(We.call(s,"__wrapped__"))return Iw(s)}return new Or(s)}var Zs=function(){function s(){}return function(o){if(!at(o))return{};if(wv)return wv(o);s.prototype=o;var l=new s;return s.prototype=t,l}}();function Xc(){}function Or(s,o){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=t}v.templateSettings={escape:V6,evaluate:K6,interpolate:T1,variable:"",imports:{_:v}},v.prototype=Xc.prototype,v.prototype.constructor=v,Or.prototype=Zs(Xc.prototype),Or.prototype.constructor=Or;function Oe(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function NI(){var s=new Oe(this.__wrapped__);return s.__actions__=ar(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=ar(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=ar(this.__views__),s}function LI(){if(this.__filtered__){var s=new Oe(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function FI(){var s=this.__wrapped__.value(),o=this.__dir__,l=be(s),d=o<0,g=l?s.length:0,y=KC(0,g,this.__views__),E=y.start,C=y.end,O=C-E,z=d?C:E-1,k=this.__iteratees__,V=k.length,re=0,le=Mt(O,this.__takeCount__);if(!l||!d&&g==O&&le==O)return Kv(s,this.__actions__);var ge=[];e:for(;O--&&re<le;){z+=o;for(var Ie=-1,me=s[z];++Ie<V;){var Ae=k[Ie],Re=Ae.iteratee,wr=Ae.type,Zt=Re(me);if(wr==H)me=Zt;else if(!Zt){if(wr==ie)continue e;break e}}ge[re++]=me}return ge}Oe.prototype=Zs(Xc.prototype),Oe.prototype.constructor=Oe;function Qi(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var d=s[o];this.set(d[0],d[1])}}function $I(){this.__data__=ea?ea(null):{},this.size=0}function UI(s){var o=this.has(s)&&delete this.__data__[s];return this.size-=o?1:0,o}function MI(s){var o=this.__data__;if(ea){var l=o[s];return l===h?t:l}return We.call(o,s)?o[s]:t}function BI(s){var o=this.__data__;return ea?o[s]!==t:We.call(o,s)}function jI(s,o){var l=this.__data__;return this.size+=this.has(s)?0:1,l[s]=ea&&o===t?h:o,this}Qi.prototype.clear=$I,Qi.prototype.delete=UI,Qi.prototype.get=MI,Qi.prototype.has=BI,Qi.prototype.set=jI;function bn(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var d=s[o];this.set(d[0],d[1])}}function qI(){this.__data__=[],this.size=0}function zI(s){var o=this.__data__,l=el(o,s);if(l<0)return!1;var d=o.length-1;return l==d?o.pop():Kc.call(o,l,1),--this.size,!0}function kI(s){var o=this.__data__,l=el(o,s);return l<0?t:o[l][1]}function HI(s){return el(this.__data__,s)>-1}function WI(s,o){var l=this.__data__,d=el(l,s);return d<0?(++this.size,l.push([s,o])):l[d][1]=o,this}bn.prototype.clear=qI,bn.prototype.delete=zI,bn.prototype.get=kI,bn.prototype.has=HI,bn.prototype.set=WI;function _n(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var d=s[o];this.set(d[0],d[1])}}function VI(){this.size=0,this.__data__={hash:new Qi,map:new(Qo||bn),string:new Qi}}function KI(s){var o=fl(this,s).delete(s);return this.size-=o?1:0,o}function GI(s){return fl(this,s).get(s)}function YI(s){return fl(this,s).has(s)}function JI(s,o){var l=fl(this,s),d=l.size;return l.set(s,o),this.size+=l.size==d?0:1,this}_n.prototype.clear=VI,_n.prototype.delete=KI,_n.prototype.get=GI,_n.prototype.has=YI,_n.prototype.set=JI;function Xi(s){var o=-1,l=s==null?0:s.length;for(this.__data__=new _n;++o<l;)this.add(s[o])}function ZI(s){return this.__data__.set(s,h),this}function QI(s){return this.__data__.has(s)}Xi.prototype.add=Xi.prototype.push=ZI,Xi.prototype.has=QI;function zr(s){var o=this.__data__=new bn(s);this.size=o.size}function XI(){this.__data__=new bn,this.size=0}function eC(s){var o=this.__data__,l=o.delete(s);return this.size=o.size,l}function tC(s){return this.__data__.get(s)}function rC(s){return this.__data__.has(s)}function nC(s,o){var l=this.__data__;if(l instanceof bn){var d=l.__data__;if(!Qo||d.length<i-1)return d.push([s,o]),this.size=++l.size,this;l=this.__data__=new _n(d)}return l.set(s,o),this.size=l.size,this}zr.prototype.clear=XI,zr.prototype.delete=eC,zr.prototype.get=tC,zr.prototype.has=rC,zr.prototype.set=nC;function Iv(s,o){var l=be(s),d=!l&&is(s),g=!l&&!d&&pi(s),y=!l&&!d&&!g&&to(s),E=l||d||g||y,C=E?mf(s.length,dI):[],O=C.length;for(var z in s)(o||We.call(s,z))&&!(E&&(z=="length"||g&&(z=="offset"||z=="parent")||y&&(z=="buffer"||z=="byteLength"||z=="byteOffset")||Cn(z,O)))&&C.push(z);return C}function Cv(s){var o=s.length;return o?s[Nf(0,o-1)]:t}function iC(s,o){return dl(ar(s),es(o,0,s.length))}function sC(s){return dl(ar(s))}function xf(s,o,l){(l!==t&&!kr(s[o],l)||l===t&&!(o in s))&&En(s,o,l)}function ra(s,o,l){var d=s[o];(!(We.call(s,o)&&kr(d,l))||l===t&&!(o in s))&&En(s,o,l)}function el(s,o){for(var l=s.length;l--;)if(kr(s[l][0],o))return l;return-1}function oC(s,o,l,d){return ui(s,function(g,y,E){o(d,g,l(g),E)}),d}function Sv(s,o){return s&&Jr(o,St(o),s)}function aC(s,o){return s&&Jr(o,lr(o),s)}function En(s,o,l){o=="__proto__"&&Gc?Gc(s,o,{configurable:!0,enumerable:!0,value:l,writable:!0}):s[o]=l}function If(s,o){for(var l=-1,d=o.length,g=F(d),y=s==null;++l<d;)g[l]=y?t:id(s,o[l]);return g}function es(s,o,l){return s===s&&(l!==t&&(s=s<=l?s:l),o!==t&&(s=s>=o?s:o)),s}function Pr(s,o,l,d,g,y){var E,C=o&m,O=o&w,z=o&_;if(l&&(E=g?l(s,d,g,y):l(s)),E!==t)return E;if(!at(s))return s;var k=be(s);if(k){if(E=YC(s),!C)return ar(s,E)}else{var V=Bt(s),re=V==Je||V==ut;if(pi(s))return Jv(s,C);if(V==jr||V==fe||re&&!g){if(E=O||re?{}:gw(s),!C)return O?MC(s,aC(E,s)):UC(s,Sv(E,s))}else{if(!Ze[V])return g?s:{};E=JC(s,V,C)}}y||(y=new zr);var le=y.get(s);if(le)return le;y.set(s,E),Hw(s)?s.forEach(function(me){E.add(Pr(me,o,l,me,s,y))}):zw(s)&&s.forEach(function(me,Ae){E.set(Ae,Pr(me,o,l,Ae,s,y))});var ge=z?O?Hf:kf:O?lr:St,Ie=k?t:ge(s);return Dr(Ie||s,function(me,Ae){Ie&&(Ae=me,me=s[Ae]),ra(E,Ae,Pr(me,o,l,Ae,s,y))}),E}function cC(s){var o=St(s);return function(l){return Dv(l,s,o)}}function Dv(s,o,l){var d=l.length;if(s==null)return!d;for(s=Ye(s);d--;){var g=l[d],y=o[g],E=s[g];if(E===t&&!(g in s)||!y(E))return!1}return!0}function Av(s,o,l){if(typeof s!="function")throw new Ar(c);return la(function(){s.apply(t,l)},o)}function na(s,o,l,d){var g=-1,y=Uc,E=!0,C=s.length,O=[],z=o.length;if(!C)return O;l&&(o=nt(o,gr(l))),d?(y=uf,E=!1):o.length>=i&&(y=Jo,E=!1,o=new Xi(o));e:for(;++g<C;){var k=s[g],V=l==null?k:l(k);if(k=d||k!==0?k:0,E&&V===V){for(var re=z;re--;)if(o[re]===V)continue e;O.push(k)}else y(o,V,d)||O.push(k)}return O}var ui=tw(Yr),Ov=tw(Sf,!0);function lC(s,o){var l=!0;return ui(s,function(d,g,y){return l=!!o(d,g,y),l}),l}function tl(s,o,l){for(var d=-1,g=s.length;++d<g;){var y=s[d],E=o(y);if(E!=null&&(C===t?E===E&&!vr(E):l(E,C)))var C=E,O=y}return O}function uC(s,o,l,d){var g=s.length;for(l=Ee(l),l<0&&(l=-l>g?0:g+l),d=d===t||d>g?g:Ee(d),d<0&&(d+=g),d=l>d?0:Vw(d);l<d;)s[l++]=o;return s}function Pv(s,o){var l=[];return ui(s,function(d,g,y){o(d,g,y)&&l.push(d)}),l}function Rt(s,o,l,d,g){var y=-1,E=s.length;for(l||(l=QC),g||(g=[]);++y<E;){var C=s[y];o>0&&l(C)?o>1?Rt(C,o-1,l,d,g):ai(g,C):d||(g[g.length]=C)}return g}var Cf=rw(),Rv=rw(!0);function Yr(s,o){return s&&Cf(s,o,St)}function Sf(s,o){return s&&Rv(s,o,St)}function rl(s,o){return oi(o,function(l){return Sn(s[l])})}function ts(s,o){o=fi(o,s);for(var l=0,d=o.length;s!=null&&l<d;)s=s[Zr(o[l++])];return l&&l==d?s:t}function Tv(s,o,l){var d=o(s);return be(s)?d:ai(d,l(s))}function Yt(s){return s==null?s===t?Tc:Vh:Zi&&Zi in Ye(s)?VC(s):sS(s)}function Df(s,o){return s>o}function hC(s,o){return s!=null&&We.call(s,o)}function fC(s,o){return s!=null&&o in Ye(s)}function dC(s,o,l){return s>=Mt(o,l)&&s<Et(o,l)}function Af(s,o,l){for(var d=l?uf:Uc,g=s[0].length,y=s.length,E=y,C=F(y),O=1/0,z=[];E--;){var k=s[E];E&&o&&(k=nt(k,gr(o))),O=Mt(k.length,O),C[E]=!l&&(o||g>=120&&k.length>=120)?new Xi(E&&k):t}k=s[0];var V=-1,re=C[0];e:for(;++V<g&&z.length<O;){var le=k[V],ge=o?o(le):le;if(le=l||le!==0?le:0,!(re?Jo(re,ge):d(z,ge,l))){for(E=y;--E;){var Ie=C[E];if(!(Ie?Jo(Ie,ge):d(s[E],ge,l)))continue e}re&&re.push(ge),z.push(le)}}return z}function pC(s,o,l,d){return Yr(s,function(g,y,E){o(d,l(g),y,E)}),d}function ia(s,o,l){o=fi(o,s),s=yw(s,o);var d=s==null?s:s[Zr(Tr(o))];return d==null?t:pr(d,s,l)}function Nv(s){return ht(s)&&Yt(s)==fe}function gC(s){return ht(s)&&Yt(s)==Yi}function mC(s){return ht(s)&&Yt(s)==Pe}function sa(s,o,l,d,g){return s===o?!0:s==null||o==null||!ht(s)&&!ht(o)?s!==s&&o!==o:vC(s,o,l,d,sa,g)}function vC(s,o,l,d,g,y){var E=be(s),C=be(o),O=E?de:Bt(s),z=C?de:Bt(o);O=O==fe?jr:O,z=z==fe?jr:z;var k=O==jr,V=z==jr,re=O==z;if(re&&pi(s)){if(!pi(o))return!1;E=!0,k=!1}if(re&&!k)return y||(y=new zr),E||to(s)?fw(s,o,l,d,g,y):HC(s,o,O,l,d,g,y);if(!(l&b)){var le=k&&We.call(s,"__wrapped__"),ge=V&&We.call(o,"__wrapped__");if(le||ge){var Ie=le?s.value():s,me=ge?o.value():o;return y||(y=new zr),g(Ie,me,l,d,y)}}return re?(y||(y=new zr),WC(s,o,l,d,g,y)):!1}function wC(s){return ht(s)&&Bt(s)==Ue}function Of(s,o,l,d){var g=l.length,y=g,E=!d;if(s==null)return!y;for(s=Ye(s);g--;){var C=l[g];if(E&&C[2]?C[1]!==s[C[0]]:!(C[0]in s))return!1}for(;++g<y;){C=l[g];var O=C[0],z=s[O],k=C[1];if(E&&C[2]){if(z===t&&!(O in s))return!1}else{var V=new zr;if(d)var re=d(z,k,O,s,o,V);if(!(re===t?sa(k,z,b|I,d,V):re))return!1}}return!0}function Lv(s){if(!at(s)||eS(s))return!1;var o=Sn(s)?wI:c8;return o.test(ns(s))}function yC(s){return ht(s)&&Yt(s)==ri}function bC(s){return ht(s)&&Bt(s)==Gt}function _C(s){return ht(s)&&yl(s.length)&&!!et[Yt(s)]}function Fv(s){return typeof s=="function"?s:s==null?ur:typeof s=="object"?be(s)?Mv(s[0],s[1]):Uv(s):ny(s)}function Pf(s){if(!ca(s))return II(s);var o=[];for(var l in Ye(s))We.call(s,l)&&l!="constructor"&&o.push(l);return o}function EC(s){if(!at(s))return iS(s);var o=ca(s),l=[];for(var d in s)d=="constructor"&&(o||!We.call(s,d))||l.push(d);return l}function Rf(s,o){return s<o}function $v(s,o){var l=-1,d=cr(s)?F(s.length):[];return ui(s,function(g,y,E){d[++l]=o(g,y,E)}),d}function Uv(s){var o=Vf(s);return o.length==1&&o[0][2]?vw(o[0][0],o[0][1]):function(l){return l===s||Of(l,s,o)}}function Mv(s,o){return Gf(s)&&mw(o)?vw(Zr(s),o):function(l){var d=id(l,s);return d===t&&d===o?sd(l,s):sa(o,d,b|I)}}function nl(s,o,l,d,g){s!==o&&Cf(o,function(y,E){if(g||(g=new zr),at(y))xC(s,o,E,l,nl,d,g);else{var C=d?d(Jf(s,E),y,E+"",s,o,g):t;C===t&&(C=y),xf(s,E,C)}},lr)}function xC(s,o,l,d,g,y,E){var C=Jf(s,l),O=Jf(o,l),z=E.get(O);if(z){xf(s,l,z);return}var k=y?y(C,O,l+"",s,o,E):t,V=k===t;if(V){var re=be(O),le=!re&&pi(O),ge=!re&&!le&&to(O);k=O,re||le||ge?be(C)?k=C:pt(C)?k=ar(C):le?(V=!1,k=Jv(O,!0)):ge?(V=!1,k=Zv(O,!0)):k=[]:ua(O)||is(O)?(k=C,is(C)?k=Kw(C):(!at(C)||Sn(C))&&(k=gw(O))):V=!1}V&&(E.set(O,k),g(k,O,d,y,E),E.delete(O)),xf(s,l,k)}function Bv(s,o){var l=s.length;if(l)return o+=o<0?l:0,Cn(o,l)?s[o]:t}function jv(s,o,l){o.length?o=nt(o,function(y){return be(y)?function(E){return ts(E,y.length===1?y[0]:y)}:y}):o=[ur];var d=-1;o=nt(o,gr(pe()));var g=$v(s,function(y,E,C){var O=nt(o,function(z){return z(y)});return{criteria:O,index:++d,value:y}});return J8(g,function(y,E){return $C(y,E,l)})}function IC(s,o){return qv(s,o,function(l,d){return sd(s,d)})}function qv(s,o,l){for(var d=-1,g=o.length,y={};++d<g;){var E=o[d],C=ts(s,E);l(C,E)&&oa(y,fi(E,s),C)}return y}function CC(s){return function(o){return ts(o,s)}}function Tf(s,o,l,d){var g=d?Y8:Hs,y=-1,E=o.length,C=s;for(s===o&&(o=ar(o)),l&&(C=nt(s,gr(l)));++y<E;)for(var O=0,z=o[y],k=l?l(z):z;(O=g(C,k,O,d))>-1;)C!==s&&Kc.call(C,O,1),Kc.call(s,O,1);return s}function zv(s,o){for(var l=s?o.length:0,d=l-1;l--;){var g=o[l];if(l==d||g!==y){var y=g;Cn(g)?Kc.call(s,g,1):$f(s,g)}}return s}function Nf(s,o){return s+Jc(Ev()*(o-s+1))}function SC(s,o,l,d){for(var g=-1,y=Et(Yc((o-s)/(l||1)),0),E=F(y);y--;)E[d?y:++g]=s,s+=l;return E}function Lf(s,o){var l="";if(!s||o<1||o>K)return l;do o%2&&(l+=s),o=Jc(o/2),o&&(s+=s);while(o);return l}function Se(s,o){return Zf(ww(s,o,ur),s+"")}function DC(s){return Cv(ro(s))}function AC(s,o){var l=ro(s);return dl(l,es(o,0,l.length))}function oa(s,o,l,d){if(!at(s))return s;o=fi(o,s);for(var g=-1,y=o.length,E=y-1,C=s;C!=null&&++g<y;){var O=Zr(o[g]),z=l;if(O==="__proto__"||O==="constructor"||O==="prototype")return s;if(g!=E){var k=C[O];z=d?d(k,O,C):t,z===t&&(z=at(k)?k:Cn(o[g+1])?[]:{})}ra(C,O,z),C=C[O]}return s}var kv=Zc?function(s,o){return Zc.set(s,o),s}:ur,OC=Gc?function(s,o){return Gc(s,"toString",{configurable:!0,enumerable:!1,value:ad(o),writable:!0})}:ur;function PC(s){return dl(ro(s))}function Rr(s,o,l){var d=-1,g=s.length;o<0&&(o=-o>g?0:g+o),l=l>g?g:l,l<0&&(l+=g),g=o>l?0:l-o>>>0,o>>>=0;for(var y=F(g);++d<g;)y[d]=s[d+o];return y}function RC(s,o){var l;return ui(s,function(d,g,y){return l=o(d,g,y),!l}),!!l}function il(s,o,l){var d=0,g=s==null?d:s.length;if(typeof o=="number"&&o===o&&g<=ae){for(;d<g;){var y=d+g>>>1,E=s[y];E!==null&&!vr(E)&&(l?E<=o:E<o)?d=y+1:g=y}return g}return Ff(s,o,ur,l)}function Ff(s,o,l,d){var g=0,y=s==null?0:s.length;if(y===0)return 0;o=l(o);for(var E=o!==o,C=o===null,O=vr(o),z=o===t;g<y;){var k=Jc((g+y)/2),V=l(s[k]),re=V!==t,le=V===null,ge=V===V,Ie=vr(V);if(E)var me=d||ge;else z?me=ge&&(d||re):C?me=ge&&re&&(d||!le):O?me=ge&&re&&!le&&(d||!Ie):le||Ie?me=!1:me=d?V<=o:V<o;me?g=k+1:y=k}return Mt(y,ue)}function Hv(s,o){for(var l=-1,d=s.length,g=0,y=[];++l<d;){var E=s[l],C=o?o(E):E;if(!l||!kr(C,O)){var O=C;y[g++]=E===0?0:E}}return y}function Wv(s){return typeof s=="number"?s:vr(s)?J:+s}function mr(s){if(typeof s=="string")return s;if(be(s))return nt(s,mr)+"";if(vr(s))return xv?xv.call(s):"";var o=s+"";return o=="0"&&1/s==-$?"-0":o}function hi(s,o,l){var d=-1,g=Uc,y=s.length,E=!0,C=[],O=C;if(l)E=!1,g=uf;else if(y>=i){var z=o?null:zC(s);if(z)return Bc(z);E=!1,g=Jo,O=new Xi}else O=o?[]:C;e:for(;++d<y;){var k=s[d],V=o?o(k):k;if(k=l||k!==0?k:0,E&&V===V){for(var re=O.length;re--;)if(O[re]===V)continue e;o&&O.push(V),C.push(k)}else g(O,V,l)||(O!==C&&O.push(V),C.push(k))}return C}function $f(s,o){return o=fi(o,s),s=yw(s,o),s==null||delete s[Zr(Tr(o))]}function Vv(s,o,l,d){return oa(s,o,l(ts(s,o)),d)}function sl(s,o,l,d){for(var g=s.length,y=d?g:-1;(d?y--:++y<g)&&o(s[y],y,s););return l?Rr(s,d?0:y,d?y+1:g):Rr(s,d?y+1:0,d?g:y)}function Kv(s,o){var l=s;return l instanceof Oe&&(l=l.value()),hf(o,function(d,g){return g.func.apply(g.thisArg,ai([d],g.args))},l)}function Uf(s,o,l){var d=s.length;if(d<2)return d?hi(s[0]):[];for(var g=-1,y=F(d);++g<d;)for(var E=s[g],C=-1;++C<d;)C!=g&&(y[g]=na(y[g]||E,s[C],o,l));return hi(Rt(y,1),o,l)}function Gv(s,o,l){for(var d=-1,g=s.length,y=o.length,E={};++d<g;){var C=d<y?o[d]:t;l(E,s[d],C)}return E}function Mf(s){return pt(s)?s:[]}function Bf(s){return typeof s=="function"?s:ur}function fi(s,o){return be(s)?s:Gf(s,o)?[s]:xw(Be(s))}var TC=Se;function di(s,o,l){var d=s.length;return l=l===t?d:l,!o&&l>=d?s:Rr(s,o,l)}var Yv=yI||function(s){return Pt.clearTimeout(s)};function Jv(s,o){if(o)return s.slice();var l=s.length,d=vv?vv(l):new s.constructor(l);return s.copy(d),d}function jf(s){var o=new s.constructor(s.byteLength);return new Wc(o).set(new Wc(s)),o}function NC(s,o){var l=o?jf(s.buffer):s.buffer;return new s.constructor(l,s.byteOffset,s.byteLength)}function LC(s){var o=new s.constructor(s.source,N1.exec(s));return o.lastIndex=s.lastIndex,o}function FC(s){return ta?Ye(ta.call(s)):{}}function Zv(s,o){var l=o?jf(s.buffer):s.buffer;return new s.constructor(l,s.byteOffset,s.length)}function Qv(s,o){if(s!==o){var l=s!==t,d=s===null,g=s===s,y=vr(s),E=o!==t,C=o===null,O=o===o,z=vr(o);if(!C&&!z&&!y&&s>o||y&&E&&O&&!C&&!z||d&&E&&O||!l&&O||!g)return 1;if(!d&&!y&&!z&&s<o||z&&l&&g&&!d&&!y||C&&l&&g||!E&&g||!O)return-1}return 0}function $C(s,o,l){for(var d=-1,g=s.criteria,y=o.criteria,E=g.length,C=l.length;++d<E;){var O=Qv(g[d],y[d]);if(O){if(d>=C)return O;var z=l[d];return O*(z=="desc"?-1:1)}}return s.index-o.index}function Xv(s,o,l,d){for(var g=-1,y=s.length,E=l.length,C=-1,O=o.length,z=Et(y-E,0),k=F(O+z),V=!d;++C<O;)k[C]=o[C];for(;++g<E;)(V||g<y)&&(k[l[g]]=s[g]);for(;z--;)k[C++]=s[g++];return k}function ew(s,o,l,d){for(var g=-1,y=s.length,E=-1,C=l.length,O=-1,z=o.length,k=Et(y-C,0),V=F(k+z),re=!d;++g<k;)V[g]=s[g];for(var le=g;++O<z;)V[le+O]=o[O];for(;++E<C;)(re||g<y)&&(V[le+l[E]]=s[g++]);return V}function ar(s,o){var l=-1,d=s.length;for(o||(o=F(d));++l<d;)o[l]=s[l];return o}function Jr(s,o,l,d){var g=!l;l||(l={});for(var y=-1,E=o.length;++y<E;){var C=o[y],O=d?d(l[C],s[C],C,l,s):t;O===t&&(O=s[C]),g?En(l,C,O):ra(l,C,O)}return l}function UC(s,o){return Jr(s,Kf(s),o)}function MC(s,o){return Jr(s,dw(s),o)}function ol(s,o){return function(l,d){var g=be(l)?k8:oC,y=o?o():{};return g(l,s,pe(d,2),y)}}function Qs(s){return Se(function(o,l){var d=-1,g=l.length,y=g>1?l[g-1]:t,E=g>2?l[2]:t;for(y=s.length>3&&typeof y=="function"?(g--,y):t,E&&Jt(l[0],l[1],E)&&(y=g<3?t:y,g=1),o=Ye(o);++d<g;){var C=l[d];C&&s(o,C,d,y)}return o})}function tw(s,o){return function(l,d){if(l==null)return l;if(!cr(l))return s(l,d);for(var g=l.length,y=o?g:-1,E=Ye(l);(o?y--:++y<g)&&d(E[y],y,E)!==!1;);return l}}function rw(s){return function(o,l,d){for(var g=-1,y=Ye(o),E=d(o),C=E.length;C--;){var O=E[s?C:++g];if(l(y[O],O,y)===!1)break}return o}}function BC(s,o,l){var d=o&P,g=aa(s);function y(){var E=this&&this!==Pt&&this instanceof y?g:s;return E.apply(d?l:this,arguments)}return y}function nw(s){return function(o){o=Be(o);var l=Ws(o)?qr(o):t,d=l?l[0]:o.charAt(0),g=l?di(l,1).join(""):o.slice(1);return d[s]()+g}}function Xs(s){return function(o){return hf(ty(ey(o).replace(O8,"")),s,"")}}function aa(s){return function(){var o=arguments;switch(o.length){case 0:return new s;case 1:return new s(o[0]);case 2:return new s(o[0],o[1]);case 3:return new s(o[0],o[1],o[2]);case 4:return new s(o[0],o[1],o[2],o[3]);case 5:return new s(o[0],o[1],o[2],o[3],o[4]);case 6:return new s(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new s(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var l=Zs(s.prototype),d=s.apply(l,o);return at(d)?d:l}}function jC(s,o,l){var d=aa(s);function g(){for(var y=arguments.length,E=F(y),C=y,O=eo(g);C--;)E[C]=arguments[C];var z=y<3&&E[0]!==O&&E[y-1]!==O?[]:ci(E,O);if(y-=z.length,y<l)return cw(s,o,al,g.placeholder,t,E,z,t,t,l-y);var k=this&&this!==Pt&&this instanceof g?d:s;return pr(k,this,E)}return g}function iw(s){return function(o,l,d){var g=Ye(o);if(!cr(o)){var y=pe(l,3);o=St(o),l=function(C){return y(g[C],C,g)}}var E=s(o,l,d);return E>-1?g[y?o[E]:E]:t}}function sw(s){return In(function(o){var l=o.length,d=l,g=Or.prototype.thru;for(s&&o.reverse();d--;){var y=o[d];if(typeof y!="function")throw new Ar(c);if(g&&!E&&hl(y)=="wrapper")var E=new Or([],!0)}for(d=E?d:l;++d<l;){y=o[d];var C=hl(y),O=C=="wrapper"?Wf(y):t;O&&Yf(O[0])&&O[1]==(B|S|L|q)&&!O[4].length&&O[9]==1?E=E[hl(O[0])].apply(E,O[3]):E=y.length==1&&Yf(y)?E[C]():E.thru(y)}return function(){var z=arguments,k=z[0];if(E&&z.length==1&&be(k))return E.plant(k).value();for(var V=0,re=l?o[V].apply(this,z):k;++V<l;)re=o[V].call(this,re);return re}})}function al(s,o,l,d,g,y,E,C,O,z){var k=o&B,V=o&P,re=o&A,le=o&(S|T),ge=o&M,Ie=re?t:aa(s);function me(){for(var Ae=arguments.length,Re=F(Ae),wr=Ae;wr--;)Re[wr]=arguments[wr];if(le)var Zt=eo(me),yr=Q8(Re,Zt);if(d&&(Re=Xv(Re,d,g,le)),y&&(Re=ew(Re,y,E,le)),Ae-=yr,le&&Ae<z){var gt=ci(Re,Zt);return cw(s,o,al,me.placeholder,l,Re,gt,C,O,z-Ae)}var Hr=V?l:this,An=re?Hr[s]:s;return Ae=Re.length,C?Re=oS(Re,C):ge&&Ae>1&&Re.reverse(),k&&O<Ae&&(Re.length=O),this&&this!==Pt&&this instanceof me&&(An=Ie||aa(An)),An.apply(Hr,Re)}return me}function ow(s,o){return function(l,d){return pC(l,s,o(d),{})}}function cl(s,o){return function(l,d){var g;if(l===t&&d===t)return o;if(l!==t&&(g=l),d!==t){if(g===t)return d;typeof l=="string"||typeof d=="string"?(l=mr(l),d=mr(d)):(l=Wv(l),d=Wv(d)),g=s(l,d)}return g}}function qf(s){return In(function(o){return o=nt(o,gr(pe())),Se(function(l){var d=this;return s(o,function(g){return pr(g,d,l)})})})}function ll(s,o){o=o===t?" ":mr(o);var l=o.length;if(l<2)return l?Lf(o,s):o;var d=Lf(o,Yc(s/Vs(o)));return Ws(o)?di(qr(d),0,s).join(""):d.slice(0,s)}function qC(s,o,l,d){var g=o&P,y=aa(s);function E(){for(var C=-1,O=arguments.length,z=-1,k=d.length,V=F(k+O),re=this&&this!==Pt&&this instanceof E?y:s;++z<k;)V[z]=d[z];for(;O--;)V[z++]=arguments[++C];return pr(re,g?l:this,V)}return E}function aw(s){return function(o,l,d){return d&&typeof d!="number"&&Jt(o,l,d)&&(l=d=t),o=Dn(o),l===t?(l=o,o=0):l=Dn(l),d=d===t?o<l?1:-1:Dn(d),SC(o,l,d,s)}}function ul(s){return function(o,l){return typeof o=="string"&&typeof l=="string"||(o=Nr(o),l=Nr(l)),s(o,l)}}function cw(s,o,l,d,g,y,E,C,O,z){var k=o&S,V=k?E:t,re=k?t:E,le=k?y:t,ge=k?t:y;o|=k?L:W,o&=~(k?W:L),o&U||(o&=~(P|A));var Ie=[s,o,g,le,V,ge,re,C,O,z],me=l.apply(t,Ie);return Yf(s)&&bw(me,Ie),me.placeholder=d,_w(me,s,o)}function zf(s){var o=_t[s];return function(l,d){if(l=Nr(l),d=d==null?0:Mt(Ee(d),292),d&&_v(l)){var g=(Be(l)+"e").split("e"),y=o(g[0]+"e"+(+g[1]+d));return g=(Be(y)+"e").split("e"),+(g[0]+"e"+(+g[1]-d))}return o(l)}}var zC=Ys&&1/Bc(new Ys([,-0]))[1]==$?function(s){return new Ys(s)}:ud;function lw(s){return function(o){var l=Bt(o);return l==Ue?wf(o):l==Gt?sI(o):Z8(o,s(o))}}function xn(s,o,l,d,g,y,E,C){var O=o&A;if(!O&&typeof s!="function")throw new Ar(c);var z=d?d.length:0;if(z||(o&=~(L|W),d=g=t),E=E===t?E:Et(Ee(E),0),C=C===t?C:Ee(C),z-=g?g.length:0,o&W){var k=d,V=g;d=g=t}var re=O?t:Wf(s),le=[s,o,l,d,g,k,V,y,E,C];if(re&&nS(le,re),s=le[0],o=le[1],l=le[2],d=le[3],g=le[4],C=le[9]=le[9]===t?O?0:s.length:Et(le[9]-z,0),!C&&o&(S|T)&&(o&=~(S|T)),!o||o==P)var ge=BC(s,o,l);else o==S||o==T?ge=jC(s,o,C):(o==L||o==(P|L))&&!g.length?ge=qC(s,o,l,d):ge=al.apply(t,le);var Ie=re?kv:bw;return _w(Ie(ge,le),s,o)}function uw(s,o,l,d){return s===t||kr(s,Gs[l])&&!We.call(d,l)?o:s}function hw(s,o,l,d,g,y){return at(s)&&at(o)&&(y.set(o,s),nl(s,o,t,hw,y),y.delete(o)),s}function kC(s){return ua(s)?t:s}function fw(s,o,l,d,g,y){var E=l&b,C=s.length,O=o.length;if(C!=O&&!(E&&O>C))return!1;var z=y.get(s),k=y.get(o);if(z&&k)return z==o&&k==s;var V=-1,re=!0,le=l&I?new Xi:t;for(y.set(s,o),y.set(o,s);++V<C;){var ge=s[V],Ie=o[V];if(d)var me=E?d(Ie,ge,V,o,s,y):d(ge,Ie,V,s,o,y);if(me!==t){if(me)continue;re=!1;break}if(le){if(!ff(o,function(Ae,Re){if(!Jo(le,Re)&&(ge===Ae||g(ge,Ae,l,d,y)))return le.push(Re)})){re=!1;break}}else if(!(ge===Ie||g(ge,Ie,l,d,y))){re=!1;break}}return y.delete(s),y.delete(o),re}function HC(s,o,l,d,g,y,E){switch(l){case si:if(s.byteLength!=o.byteLength||s.byteOffset!=o.byteOffset)return!1;s=s.buffer,o=o.buffer;case Yi:return!(s.byteLength!=o.byteLength||!y(new Wc(s),new Wc(o)));case $e:case Pe:case rt:return kr(+s,+o);case He:return s.name==o.name&&s.message==o.message;case ri:case ni:return s==o+"";case Ue:var C=wf;case Gt:var O=d&b;if(C||(C=Bc),s.size!=o.size&&!O)return!1;var z=E.get(s);if(z)return z==o;d|=I,E.set(s,o);var k=fw(C(s),C(o),d,g,y,E);return E.delete(s),k;case Gi:if(ta)return ta.call(s)==ta.call(o)}return!1}function WC(s,o,l,d,g,y){var E=l&b,C=kf(s),O=C.length,z=kf(o),k=z.length;if(O!=k&&!E)return!1;for(var V=O;V--;){var re=C[V];if(!(E?re in o:We.call(o,re)))return!1}var le=y.get(s),ge=y.get(o);if(le&&ge)return le==o&&ge==s;var Ie=!0;y.set(s,o),y.set(o,s);for(var me=E;++V<O;){re=C[V];var Ae=s[re],Re=o[re];if(d)var wr=E?d(Re,Ae,re,o,s,y):d(Ae,Re,re,s,o,y);if(!(wr===t?Ae===Re||g(Ae,Re,l,d,y):wr)){Ie=!1;break}me||(me=re=="constructor")}if(Ie&&!me){var Zt=s.constructor,yr=o.constructor;Zt!=yr&&"constructor"in s&&"constructor"in o&&!(typeof Zt=="function"&&Zt instanceof Zt&&typeof yr=="function"&&yr instanceof yr)&&(Ie=!1)}return y.delete(s),y.delete(o),Ie}function In(s){return Zf(ww(s,t,Dw),s+"")}function kf(s){return Tv(s,St,Kf)}function Hf(s){return Tv(s,lr,dw)}var Wf=Zc?function(s){return Zc.get(s)}:ud;function hl(s){for(var o=s.name+"",l=Js[o],d=We.call(Js,o)?l.length:0;d--;){var g=l[d],y=g.func;if(y==null||y==s)return g.name}return o}function eo(s){var o=We.call(v,"placeholder")?v:s;return o.placeholder}function pe(){var s=v.iteratee||cd;return s=s===cd?Fv:s,arguments.length?s(arguments[0],arguments[1]):s}function fl(s,o){var l=s.__data__;return XC(o)?l[typeof o=="string"?"string":"hash"]:l.map}function Vf(s){for(var o=St(s),l=o.length;l--;){var d=o[l],g=s[d];o[l]=[d,g,mw(g)]}return o}function rs(s,o){var l=rI(s,o);return Lv(l)?l:t}function VC(s){var o=We.call(s,Zi),l=s[Zi];try{s[Zi]=t;var d=!0}catch{}var g=kc.call(s);return d&&(o?s[Zi]=l:delete s[Zi]),g}var Kf=bf?function(s){return s==null?[]:(s=Ye(s),oi(bf(s),function(o){return yv.call(s,o)}))}:hd,dw=bf?function(s){for(var o=[];s;)ai(o,Kf(s)),s=Vc(s);return o}:hd,Bt=Yt;(_f&&Bt(new _f(new ArrayBuffer(1)))!=si||Qo&&Bt(new Qo)!=Ue||Ef&&Bt(Ef.resolve())!=Pc||Ys&&Bt(new Ys)!=Gt||Xo&&Bt(new Xo)!=ii)&&(Bt=function(s){var o=Yt(s),l=o==jr?s.constructor:t,d=l?ns(l):"";if(d)switch(d){case AI:return si;case OI:return Ue;case PI:return Pc;case RI:return Gt;case TI:return ii}return o});function KC(s,o,l){for(var d=-1,g=l.length;++d<g;){var y=l[d],E=y.size;switch(y.type){case"drop":s+=E;break;case"dropRight":o-=E;break;case"take":o=Mt(o,s+E);break;case"takeRight":s=Et(s,o-E);break}}return{start:s,end:o}}function GC(s){var o=s.match(e8);return o?o[1].split(t8):[]}function pw(s,o,l){o=fi(o,s);for(var d=-1,g=o.length,y=!1;++d<g;){var E=Zr(o[d]);if(!(y=s!=null&&l(s,E)))break;s=s[E]}return y||++d!=g?y:(g=s==null?0:s.length,!!g&&yl(g)&&Cn(E,g)&&(be(s)||is(s)))}function YC(s){var o=s.length,l=new s.constructor(o);return o&&typeof s[0]=="string"&&We.call(s,"index")&&(l.index=s.index,l.input=s.input),l}function gw(s){return typeof s.constructor=="function"&&!ca(s)?Zs(Vc(s)):{}}function JC(s,o,l){var d=s.constructor;switch(o){case Yi:return jf(s);case $e:case Pe:return new d(+s);case si:return NC(s,l);case Go:case Yo:case Kh:case Gh:case Yh:case Jh:case Zh:case Qh:case Xh:return Zv(s,l);case Ue:return new d;case rt:case ni:return new d(s);case ri:return LC(s);case Gt:return new d;case Gi:return FC(s)}}function ZC(s,o){var l=o.length;if(!l)return s;var d=l-1;return o[d]=(l>1?"& ":"")+o[d],o=o.join(l>2?", ":" "),s.replace(X6,`{
/* [wrapped with `+o+`] */
`)}function QC(s){return be(s)||is(s)||!!(bv&&s&&s[bv])}function Cn(s,o){var l=typeof s;return o=o??K,!!o&&(l=="number"||l!="symbol"&&u8.test(s))&&s>-1&&s%1==0&&s<o}function Jt(s,o,l){if(!at(l))return!1;var d=typeof o;return(d=="number"?cr(l)&&Cn(o,l.length):d=="string"&&o in l)?kr(l[o],s):!1}function Gf(s,o){if(be(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||vr(s)?!0:Y6.test(s)||!G6.test(s)||o!=null&&s in Ye(o)}function XC(s){var o=typeof s;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?s!=="__proto__":s===null}function Yf(s){var o=hl(s),l=v[o];if(typeof l!="function"||!(o in Oe.prototype))return!1;if(s===l)return!0;var d=Wf(l);return!!d&&s===d[0]}function eS(s){return!!mv&&mv in s}var tS=qc?Sn:fd;function ca(s){var o=s&&s.constructor,l=typeof o=="function"&&o.prototype||Gs;return s===l}function mw(s){return s===s&&!at(s)}function vw(s,o){return function(l){return l==null?!1:l[s]===o&&(o!==t||s in Ye(l))}}function rS(s){var o=vl(s,function(d){return l.size===f&&l.clear(),d}),l=o.cache;return o}function nS(s,o){var l=s[1],d=o[1],g=l|d,y=g<(P|A|B),E=d==B&&l==S||d==B&&l==q&&s[7].length<=o[8]||d==(B|q)&&o[7].length<=o[8]&&l==S;if(!(y||E))return s;d&P&&(s[2]=o[2],g|=l&P?0:U);var C=o[3];if(C){var O=s[3];s[3]=O?Xv(O,C,o[4]):C,s[4]=O?ci(s[3],p):o[4]}return C=o[5],C&&(O=s[5],s[5]=O?ew(O,C,o[6]):C,s[6]=O?ci(s[5],p):o[6]),C=o[7],C&&(s[7]=C),d&B&&(s[8]=s[8]==null?o[8]:Mt(s[8],o[8])),s[9]==null&&(s[9]=o[9]),s[0]=o[0],s[1]=g,s}function iS(s){var o=[];if(s!=null)for(var l in Ye(s))o.push(l);return o}function sS(s){return kc.call(s)}function ww(s,o,l){return o=Et(o===t?s.length-1:o,0),function(){for(var d=arguments,g=-1,y=Et(d.length-o,0),E=F(y);++g<y;)E[g]=d[o+g];g=-1;for(var C=F(o+1);++g<o;)C[g]=d[g];return C[o]=l(E),pr(s,this,C)}}function yw(s,o){return o.length<2?s:ts(s,Rr(o,0,-1))}function oS(s,o){for(var l=s.length,d=Mt(o.length,l),g=ar(s);d--;){var y=o[d];s[d]=Cn(y,l)?g[y]:t}return s}function Jf(s,o){if(!(o==="constructor"&&typeof s[o]=="function")&&o!="__proto__")return s[o]}var bw=Ew(kv),la=_I||function(s,o){return Pt.setTimeout(s,o)},Zf=Ew(OC);function _w(s,o,l){var d=o+"";return Zf(s,ZC(d,aS(GC(d),l)))}function Ew(s){var o=0,l=0;return function(){var d=CI(),g=G-(d-l);if(l=d,g>0){if(++o>=N)return arguments[0]}else o=0;return s.apply(t,arguments)}}function dl(s,o){var l=-1,d=s.length,g=d-1;for(o=o===t?d:o;++l<o;){var y=Nf(l,g),E=s[y];s[y]=s[l],s[l]=E}return s.length=o,s}var xw=rS(function(s){var o=[];return s.charCodeAt(0)===46&&o.push(""),s.replace(J6,function(l,d,g,y){o.push(g?y.replace(i8,"$1"):d||l)}),o});function Zr(s){if(typeof s=="string"||vr(s))return s;var o=s+"";return o=="0"&&1/s==-$?"-0":o}function ns(s){if(s!=null){try{return zc.call(s)}catch{}try{return s+""}catch{}}return""}function aS(s,o){return Dr(he,function(l){var d="_."+l[0];o&l[1]&&!Uc(s,d)&&s.push(d)}),s.sort()}function Iw(s){if(s instanceof Oe)return s.clone();var o=new Or(s.__wrapped__,s.__chain__);return o.__actions__=ar(s.__actions__),o.__index__=s.__index__,o.__values__=s.__values__,o}function cS(s,o,l){(l?Jt(s,o,l):o===t)?o=1:o=Et(Ee(o),0);var d=s==null?0:s.length;if(!d||o<1)return[];for(var g=0,y=0,E=F(Yc(d/o));g<d;)E[y++]=Rr(s,g,g+=o);return E}function lS(s){for(var o=-1,l=s==null?0:s.length,d=0,g=[];++o<l;){var y=s[o];y&&(g[d++]=y)}return g}function uS(){var s=arguments.length;if(!s)return[];for(var o=F(s-1),l=arguments[0],d=s;d--;)o[d-1]=arguments[d];return ai(be(l)?ar(l):[l],Rt(o,1))}var hS=Se(function(s,o){return pt(s)?na(s,Rt(o,1,pt,!0)):[]}),fS=Se(function(s,o){var l=Tr(o);return pt(l)&&(l=t),pt(s)?na(s,Rt(o,1,pt,!0),pe(l,2)):[]}),dS=Se(function(s,o){var l=Tr(o);return pt(l)&&(l=t),pt(s)?na(s,Rt(o,1,pt,!0),t,l):[]});function pS(s,o,l){var d=s==null?0:s.length;return d?(o=l||o===t?1:Ee(o),Rr(s,o<0?0:o,d)):[]}function gS(s,o,l){var d=s==null?0:s.length;return d?(o=l||o===t?1:Ee(o),o=d-o,Rr(s,0,o<0?0:o)):[]}function mS(s,o){return s&&s.length?sl(s,pe(o,3),!0,!0):[]}function vS(s,o){return s&&s.length?sl(s,pe(o,3),!0):[]}function wS(s,o,l,d){var g=s==null?0:s.length;return g?(l&&typeof l!="number"&&Jt(s,o,l)&&(l=0,d=g),uC(s,o,l,d)):[]}function Cw(s,o,l){var d=s==null?0:s.length;if(!d)return-1;var g=l==null?0:Ee(l);return g<0&&(g=Et(d+g,0)),Mc(s,pe(o,3),g)}function Sw(s,o,l){var d=s==null?0:s.length;if(!d)return-1;var g=d-1;return l!==t&&(g=Ee(l),g=l<0?Et(d+g,0):Mt(g,d-1)),Mc(s,pe(o,3),g,!0)}function Dw(s){var o=s==null?0:s.length;return o?Rt(s,1):[]}function yS(s){var o=s==null?0:s.length;return o?Rt(s,$):[]}function bS(s,o){var l=s==null?0:s.length;return l?(o=o===t?1:Ee(o),Rt(s,o)):[]}function _S(s){for(var o=-1,l=s==null?0:s.length,d={};++o<l;){var g=s[o];d[g[0]]=g[1]}return d}function Aw(s){return s&&s.length?s[0]:t}function ES(s,o,l){var d=s==null?0:s.length;if(!d)return-1;var g=l==null?0:Ee(l);return g<0&&(g=Et(d+g,0)),Hs(s,o,g)}function xS(s){var o=s==null?0:s.length;return o?Rr(s,0,-1):[]}var IS=Se(function(s){var o=nt(s,Mf);return o.length&&o[0]===s[0]?Af(o):[]}),CS=Se(function(s){var o=Tr(s),l=nt(s,Mf);return o===Tr(l)?o=t:l.pop(),l.length&&l[0]===s[0]?Af(l,pe(o,2)):[]}),SS=Se(function(s){var o=Tr(s),l=nt(s,Mf);return o=typeof o=="function"?o:t,o&&l.pop(),l.length&&l[0]===s[0]?Af(l,t,o):[]});function DS(s,o){return s==null?"":xI.call(s,o)}function Tr(s){var o=s==null?0:s.length;return o?s[o-1]:t}function AS(s,o,l){var d=s==null?0:s.length;if(!d)return-1;var g=d;return l!==t&&(g=Ee(l),g=g<0?Et(d+g,0):Mt(g,d-1)),o===o?aI(s,o,g):Mc(s,cv,g,!0)}function OS(s,o){return s&&s.length?Bv(s,Ee(o)):t}var PS=Se(Ow);function Ow(s,o){return s&&s.length&&o&&o.length?Tf(s,o):s}function RS(s,o,l){return s&&s.length&&o&&o.length?Tf(s,o,pe(l,2)):s}function TS(s,o,l){return s&&s.length&&o&&o.length?Tf(s,o,t,l):s}var NS=In(function(s,o){var l=s==null?0:s.length,d=If(s,o);return zv(s,nt(o,function(g){return Cn(g,l)?+g:g}).sort(Qv)),d});function LS(s,o){var l=[];if(!(s&&s.length))return l;var d=-1,g=[],y=s.length;for(o=pe(o,3);++d<y;){var E=s[d];o(E,d,s)&&(l.push(E),g.push(d))}return zv(s,g),l}function Qf(s){return s==null?s:DI.call(s)}function FS(s,o,l){var d=s==null?0:s.length;return d?(l&&typeof l!="number"&&Jt(s,o,l)?(o=0,l=d):(o=o==null?0:Ee(o),l=l===t?d:Ee(l)),Rr(s,o,l)):[]}function $S(s,o){return il(s,o)}function US(s,o,l){return Ff(s,o,pe(l,2))}function MS(s,o){var l=s==null?0:s.length;if(l){var d=il(s,o);if(d<l&&kr(s[d],o))return d}return-1}function BS(s,o){return il(s,o,!0)}function jS(s,o,l){return Ff(s,o,pe(l,2),!0)}function qS(s,o){var l=s==null?0:s.length;if(l){var d=il(s,o,!0)-1;if(kr(s[d],o))return d}return-1}function zS(s){return s&&s.length?Hv(s):[]}function kS(s,o){return s&&s.length?Hv(s,pe(o,2)):[]}function HS(s){var o=s==null?0:s.length;return o?Rr(s,1,o):[]}function WS(s,o,l){return s&&s.length?(o=l||o===t?1:Ee(o),Rr(s,0,o<0?0:o)):[]}function VS(s,o,l){var d=s==null?0:s.length;return d?(o=l||o===t?1:Ee(o),o=d-o,Rr(s,o<0?0:o,d)):[]}function KS(s,o){return s&&s.length?sl(s,pe(o,3),!1,!0):[]}function GS(s,o){return s&&s.length?sl(s,pe(o,3)):[]}var YS=Se(function(s){return hi(Rt(s,1,pt,!0))}),JS=Se(function(s){var o=Tr(s);return pt(o)&&(o=t),hi(Rt(s,1,pt,!0),pe(o,2))}),ZS=Se(function(s){var o=Tr(s);return o=typeof o=="function"?o:t,hi(Rt(s,1,pt,!0),t,o)});function QS(s){return s&&s.length?hi(s):[]}function XS(s,o){return s&&s.length?hi(s,pe(o,2)):[]}function eD(s,o){return o=typeof o=="function"?o:t,s&&s.length?hi(s,t,o):[]}function Xf(s){if(!(s&&s.length))return[];var o=0;return s=oi(s,function(l){if(pt(l))return o=Et(l.length,o),!0}),mf(o,function(l){return nt(s,df(l))})}function Pw(s,o){if(!(s&&s.length))return[];var l=Xf(s);return o==null?l:nt(l,function(d){return pr(o,t,d)})}var tD=Se(function(s,o){return pt(s)?na(s,o):[]}),rD=Se(function(s){return Uf(oi(s,pt))}),nD=Se(function(s){var o=Tr(s);return pt(o)&&(o=t),Uf(oi(s,pt),pe(o,2))}),iD=Se(function(s){var o=Tr(s);return o=typeof o=="function"?o:t,Uf(oi(s,pt),t,o)}),sD=Se(Xf);function oD(s,o){return Gv(s||[],o||[],ra)}function aD(s,o){return Gv(s||[],o||[],oa)}var cD=Se(function(s){var o=s.length,l=o>1?s[o-1]:t;return l=typeof l=="function"?(s.pop(),l):t,Pw(s,l)});function Rw(s){var o=v(s);return o.__chain__=!0,o}function lD(s,o){return o(s),s}function pl(s,o){return o(s)}var uD=In(function(s){var o=s.length,l=o?s[0]:0,d=this.__wrapped__,g=function(y){return If(y,s)};return o>1||this.__actions__.length||!(d instanceof Oe)||!Cn(l)?this.thru(g):(d=d.slice(l,+l+(o?1:0)),d.__actions__.push({func:pl,args:[g],thisArg:t}),new Or(d,this.__chain__).thru(function(y){return o&&!y.length&&y.push(t),y}))});function hD(){return Rw(this)}function fD(){return new Or(this.value(),this.__chain__)}function dD(){this.__values__===t&&(this.__values__=Ww(this.value()));var s=this.__index__>=this.__values__.length,o=s?t:this.__values__[this.__index__++];return{done:s,value:o}}function pD(){return this}function gD(s){for(var o,l=this;l instanceof Xc;){var d=Iw(l);d.__index__=0,d.__values__=t,o?g.__wrapped__=d:o=d;var g=d;l=l.__wrapped__}return g.__wrapped__=s,o}function mD(){var s=this.__wrapped__;if(s instanceof Oe){var o=s;return this.__actions__.length&&(o=new Oe(this)),o=o.reverse(),o.__actions__.push({func:pl,args:[Qf],thisArg:t}),new Or(o,this.__chain__)}return this.thru(Qf)}function vD(){return Kv(this.__wrapped__,this.__actions__)}var wD=ol(function(s,o,l){We.call(s,l)?++s[l]:En(s,l,1)});function yD(s,o,l){var d=be(s)?ov:lC;return l&&Jt(s,o,l)&&(o=t),d(s,pe(o,3))}function bD(s,o){var l=be(s)?oi:Pv;return l(s,pe(o,3))}var _D=iw(Cw),ED=iw(Sw);function xD(s,o){return Rt(gl(s,o),1)}function ID(s,o){return Rt(gl(s,o),$)}function CD(s,o,l){return l=l===t?1:Ee(l),Rt(gl(s,o),l)}function Tw(s,o){var l=be(s)?Dr:ui;return l(s,pe(o,3))}function Nw(s,o){var l=be(s)?H8:Ov;return l(s,pe(o,3))}var SD=ol(function(s,o,l){We.call(s,l)?s[l].push(o):En(s,l,[o])});function DD(s,o,l,d){s=cr(s)?s:ro(s),l=l&&!d?Ee(l):0;var g=s.length;return l<0&&(l=Et(g+l,0)),bl(s)?l<=g&&s.indexOf(o,l)>-1:!!g&&Hs(s,o,l)>-1}var AD=Se(function(s,o,l){var d=-1,g=typeof o=="function",y=cr(s)?F(s.length):[];return ui(s,function(E){y[++d]=g?pr(o,E,l):ia(E,o,l)}),y}),OD=ol(function(s,o,l){En(s,l,o)});function gl(s,o){var l=be(s)?nt:$v;return l(s,pe(o,3))}function PD(s,o,l,d){return s==null?[]:(be(o)||(o=o==null?[]:[o]),l=d?t:l,be(l)||(l=l==null?[]:[l]),jv(s,o,l))}var RD=ol(function(s,o,l){s[l?0:1].push(o)},function(){return[[],[]]});function TD(s,o,l){var d=be(s)?hf:uv,g=arguments.length<3;return d(s,pe(o,4),l,g,ui)}function ND(s,o,l){var d=be(s)?W8:uv,g=arguments.length<3;return d(s,pe(o,4),l,g,Ov)}function LD(s,o){var l=be(s)?oi:Pv;return l(s,wl(pe(o,3)))}function FD(s){var o=be(s)?Cv:DC;return o(s)}function $D(s,o,l){(l?Jt(s,o,l):o===t)?o=1:o=Ee(o);var d=be(s)?iC:AC;return d(s,o)}function UD(s){var o=be(s)?sC:PC;return o(s)}function MD(s){if(s==null)return 0;if(cr(s))return bl(s)?Vs(s):s.length;var o=Bt(s);return o==Ue||o==Gt?s.size:Pf(s).length}function BD(s,o,l){var d=be(s)?ff:RC;return l&&Jt(s,o,l)&&(o=t),d(s,pe(o,3))}var jD=Se(function(s,o){if(s==null)return[];var l=o.length;return l>1&&Jt(s,o[0],o[1])?o=[]:l>2&&Jt(o[0],o[1],o[2])&&(o=[o[0]]),jv(s,Rt(o,1),[])}),ml=bI||function(){return Pt.Date.now()};function qD(s,o){if(typeof o!="function")throw new Ar(c);return s=Ee(s),function(){if(--s<1)return o.apply(this,arguments)}}function Lw(s,o,l){return o=l?t:o,o=s&&o==null?s.length:o,xn(s,B,t,t,t,t,o)}function Fw(s,o){var l;if(typeof o!="function")throw new Ar(c);return s=Ee(s),function(){return--s>0&&(l=o.apply(this,arguments)),s<=1&&(o=t),l}}var ed=Se(function(s,o,l){var d=P;if(l.length){var g=ci(l,eo(ed));d|=L}return xn(s,d,o,l,g)}),$w=Se(function(s,o,l){var d=P|A;if(l.length){var g=ci(l,eo($w));d|=L}return xn(o,d,s,l,g)});function Uw(s,o,l){o=l?t:o;var d=xn(s,S,t,t,t,t,t,o);return d.placeholder=Uw.placeholder,d}function Mw(s,o,l){o=l?t:o;var d=xn(s,T,t,t,t,t,t,o);return d.placeholder=Mw.placeholder,d}function Bw(s,o,l){var d,g,y,E,C,O,z=0,k=!1,V=!1,re=!0;if(typeof s!="function")throw new Ar(c);o=Nr(o)||0,at(l)&&(k=!!l.leading,V="maxWait"in l,y=V?Et(Nr(l.maxWait)||0,o):y,re="trailing"in l?!!l.trailing:re);function le(gt){var Hr=d,An=g;return d=g=t,z=gt,E=s.apply(An,Hr),E}function ge(gt){return z=gt,C=la(Ae,o),k?le(gt):E}function Ie(gt){var Hr=gt-O,An=gt-z,iy=o-Hr;return V?Mt(iy,y-An):iy}function me(gt){var Hr=gt-O,An=gt-z;return O===t||Hr>=o||Hr<0||V&&An>=y}function Ae(){var gt=ml();if(me(gt))return Re(gt);C=la(Ae,Ie(gt))}function Re(gt){return C=t,re&&d?le(gt):(d=g=t,E)}function wr(){C!==t&&Yv(C),z=0,d=O=g=C=t}function Zt(){return C===t?E:Re(ml())}function yr(){var gt=ml(),Hr=me(gt);if(d=arguments,g=this,O=gt,Hr){if(C===t)return ge(O);if(V)return Yv(C),C=la(Ae,o),le(O)}return C===t&&(C=la(Ae,o)),E}return yr.cancel=wr,yr.flush=Zt,yr}var zD=Se(function(s,o){return Av(s,1,o)}),kD=Se(function(s,o,l){return Av(s,Nr(o)||0,l)});function HD(s){return xn(s,M)}function vl(s,o){if(typeof s!="function"||o!=null&&typeof o!="function")throw new Ar(c);var l=function(){var d=arguments,g=o?o.apply(this,d):d[0],y=l.cache;if(y.has(g))return y.get(g);var E=s.apply(this,d);return l.cache=y.set(g,E)||y,E};return l.cache=new(vl.Cache||_n),l}vl.Cache=_n;function wl(s){if(typeof s!="function")throw new Ar(c);return function(){var o=arguments;switch(o.length){case 0:return!s.call(this);case 1:return!s.call(this,o[0]);case 2:return!s.call(this,o[0],o[1]);case 3:return!s.call(this,o[0],o[1],o[2])}return!s.apply(this,o)}}function WD(s){return Fw(2,s)}var VD=TC(function(s,o){o=o.length==1&&be(o[0])?nt(o[0],gr(pe())):nt(Rt(o,1),gr(pe()));var l=o.length;return Se(function(d){for(var g=-1,y=Mt(d.length,l);++g<y;)d[g]=o[g].call(this,d[g]);return pr(s,this,d)})}),td=Se(function(s,o){var l=ci(o,eo(td));return xn(s,L,t,o,l)}),jw=Se(function(s,o){var l=ci(o,eo(jw));return xn(s,W,t,o,l)}),KD=In(function(s,o){return xn(s,q,t,t,t,o)});function GD(s,o){if(typeof s!="function")throw new Ar(c);return o=o===t?o:Ee(o),Se(s,o)}function YD(s,o){if(typeof s!="function")throw new Ar(c);return o=o==null?0:Et(Ee(o),0),Se(function(l){var d=l[o],g=di(l,0,o);return d&&ai(g,d),pr(s,this,g)})}function JD(s,o,l){var d=!0,g=!0;if(typeof s!="function")throw new Ar(c);return at(l)&&(d="leading"in l?!!l.leading:d,g="trailing"in l?!!l.trailing:g),Bw(s,o,{leading:d,maxWait:o,trailing:g})}function ZD(s){return Lw(s,1)}function QD(s,o){return td(Bf(o),s)}function XD(){if(!arguments.length)return[];var s=arguments[0];return be(s)?s:[s]}function eA(s){return Pr(s,_)}function tA(s,o){return o=typeof o=="function"?o:t,Pr(s,_,o)}function rA(s){return Pr(s,m|_)}function nA(s,o){return o=typeof o=="function"?o:t,Pr(s,m|_,o)}function iA(s,o){return o==null||Dv(s,o,St(o))}function kr(s,o){return s===o||s!==s&&o!==o}var sA=ul(Df),oA=ul(function(s,o){return s>=o}),is=Nv(function(){return arguments}())?Nv:function(s){return ht(s)&&We.call(s,"callee")&&!yv.call(s,"callee")},be=F.isArray,aA=ev?gr(ev):gC;function cr(s){return s!=null&&yl(s.length)&&!Sn(s)}function pt(s){return ht(s)&&cr(s)}function cA(s){return s===!0||s===!1||ht(s)&&Yt(s)==$e}var pi=EI||fd,lA=tv?gr(tv):mC;function uA(s){return ht(s)&&s.nodeType===1&&!ua(s)}function hA(s){if(s==null)return!0;if(cr(s)&&(be(s)||typeof s=="string"||typeof s.splice=="function"||pi(s)||to(s)||is(s)))return!s.length;var o=Bt(s);if(o==Ue||o==Gt)return!s.size;if(ca(s))return!Pf(s).length;for(var l in s)if(We.call(s,l))return!1;return!0}function fA(s,o){return sa(s,o)}function dA(s,o,l){l=typeof l=="function"?l:t;var d=l?l(s,o):t;return d===t?sa(s,o,t,l):!!d}function rd(s){if(!ht(s))return!1;var o=Yt(s);return o==He||o==Ge||typeof s.message=="string"&&typeof s.name=="string"&&!ua(s)}function pA(s){return typeof s=="number"&&_v(s)}function Sn(s){if(!at(s))return!1;var o=Yt(s);return o==Je||o==ut||o==ve||o==Rc}function qw(s){return typeof s=="number"&&s==Ee(s)}function yl(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=K}function at(s){var o=typeof s;return s!=null&&(o=="object"||o=="function")}function ht(s){return s!=null&&typeof s=="object"}var zw=rv?gr(rv):wC;function gA(s,o){return s===o||Of(s,o,Vf(o))}function mA(s,o,l){return l=typeof l=="function"?l:t,Of(s,o,Vf(o),l)}function vA(s){return kw(s)&&s!=+s}function wA(s){if(tS(s))throw new we(a);return Lv(s)}function yA(s){return s===null}function bA(s){return s==null}function kw(s){return typeof s=="number"||ht(s)&&Yt(s)==rt}function ua(s){if(!ht(s)||Yt(s)!=jr)return!1;var o=Vc(s);if(o===null)return!0;var l=We.call(o,"constructor")&&o.constructor;return typeof l=="function"&&l instanceof l&&zc.call(l)==mI}var nd=nv?gr(nv):yC;function _A(s){return qw(s)&&s>=-K&&s<=K}var Hw=iv?gr(iv):bC;function bl(s){return typeof s=="string"||!be(s)&&ht(s)&&Yt(s)==ni}function vr(s){return typeof s=="symbol"||ht(s)&&Yt(s)==Gi}var to=sv?gr(sv):_C;function EA(s){return s===t}function xA(s){return ht(s)&&Bt(s)==ii}function IA(s){return ht(s)&&Yt(s)==Nc}var CA=ul(Rf),SA=ul(function(s,o){return s<=o});function Ww(s){if(!s)return[];if(cr(s))return bl(s)?qr(s):ar(s);if(Zo&&s[Zo])return iI(s[Zo]());var o=Bt(s),l=o==Ue?wf:o==Gt?Bc:ro;return l(s)}function Dn(s){if(!s)return s===0?s:0;if(s=Nr(s),s===$||s===-$){var o=s<0?-1:1;return o*ce}return s===s?s:0}function Ee(s){var o=Dn(s),l=o%1;return o===o?l?o-l:o:0}function Vw(s){return s?es(Ee(s),0,X):0}function Nr(s){if(typeof s=="number")return s;if(vr(s))return J;if(at(s)){var o=typeof s.valueOf=="function"?s.valueOf():s;s=at(o)?o+"":o}if(typeof s!="string")return s===0?s:+s;s=hv(s);var l=a8.test(s);return l||l8.test(s)?q8(s.slice(2),l?2:8):o8.test(s)?J:+s}function Kw(s){return Jr(s,lr(s))}function DA(s){return s?es(Ee(s),-K,K):s===0?s:0}function Be(s){return s==null?"":mr(s)}var AA=Qs(function(s,o){if(ca(o)||cr(o)){Jr(o,St(o),s);return}for(var l in o)We.call(o,l)&&ra(s,l,o[l])}),Gw=Qs(function(s,o){Jr(o,lr(o),s)}),_l=Qs(function(s,o,l,d){Jr(o,lr(o),s,d)}),OA=Qs(function(s,o,l,d){Jr(o,St(o),s,d)}),PA=In(If);function RA(s,o){var l=Zs(s);return o==null?l:Sv(l,o)}var TA=Se(function(s,o){s=Ye(s);var l=-1,d=o.length,g=d>2?o[2]:t;for(g&&Jt(o[0],o[1],g)&&(d=1);++l<d;)for(var y=o[l],E=lr(y),C=-1,O=E.length;++C<O;){var z=E[C],k=s[z];(k===t||kr(k,Gs[z])&&!We.call(s,z))&&(s[z]=y[z])}return s}),NA=Se(function(s){return s.push(t,hw),pr(Yw,t,s)});function LA(s,o){return av(s,pe(o,3),Yr)}function FA(s,o){return av(s,pe(o,3),Sf)}function $A(s,o){return s==null?s:Cf(s,pe(o,3),lr)}function UA(s,o){return s==null?s:Rv(s,pe(o,3),lr)}function MA(s,o){return s&&Yr(s,pe(o,3))}function BA(s,o){return s&&Sf(s,pe(o,3))}function jA(s){return s==null?[]:rl(s,St(s))}function qA(s){return s==null?[]:rl(s,lr(s))}function id(s,o,l){var d=s==null?t:ts(s,o);return d===t?l:d}function zA(s,o){return s!=null&&pw(s,o,hC)}function sd(s,o){return s!=null&&pw(s,o,fC)}var kA=ow(function(s,o,l){o!=null&&typeof o.toString!="function"&&(o=kc.call(o)),s[o]=l},ad(ur)),HA=ow(function(s,o,l){o!=null&&typeof o.toString!="function"&&(o=kc.call(o)),We.call(s,o)?s[o].push(l):s[o]=[l]},pe),WA=Se(ia);function St(s){return cr(s)?Iv(s):Pf(s)}function lr(s){return cr(s)?Iv(s,!0):EC(s)}function VA(s,o){var l={};return o=pe(o,3),Yr(s,function(d,g,y){En(l,o(d,g,y),d)}),l}function KA(s,o){var l={};return o=pe(o,3),Yr(s,function(d,g,y){En(l,g,o(d,g,y))}),l}var GA=Qs(function(s,o,l){nl(s,o,l)}),Yw=Qs(function(s,o,l,d){nl(s,o,l,d)}),YA=In(function(s,o){var l={};if(s==null)return l;var d=!1;o=nt(o,function(y){return y=fi(y,s),d||(d=y.length>1),y}),Jr(s,Hf(s),l),d&&(l=Pr(l,m|w|_,kC));for(var g=o.length;g--;)$f(l,o[g]);return l});function JA(s,o){return Jw(s,wl(pe(o)))}var ZA=In(function(s,o){return s==null?{}:IC(s,o)});function Jw(s,o){if(s==null)return{};var l=nt(Hf(s),function(d){return[d]});return o=pe(o),qv(s,l,function(d,g){return o(d,g[0])})}function QA(s,o,l){o=fi(o,s);var d=-1,g=o.length;for(g||(g=1,s=t);++d<g;){var y=s==null?t:s[Zr(o[d])];y===t&&(d=g,y=l),s=Sn(y)?y.call(s):y}return s}function XA(s,o,l){return s==null?s:oa(s,o,l)}function eO(s,o,l,d){return d=typeof d=="function"?d:t,s==null?s:oa(s,o,l,d)}var Zw=lw(St),Qw=lw(lr);function tO(s,o,l){var d=be(s),g=d||pi(s)||to(s);if(o=pe(o,4),l==null){var y=s&&s.constructor;g?l=d?new y:[]:at(s)?l=Sn(y)?Zs(Vc(s)):{}:l={}}return(g?Dr:Yr)(s,function(E,C,O){return o(l,E,C,O)}),l}function rO(s,o){return s==null?!0:$f(s,o)}function nO(s,o,l){return s==null?s:Vv(s,o,Bf(l))}function iO(s,o,l,d){return d=typeof d=="function"?d:t,s==null?s:Vv(s,o,Bf(l),d)}function ro(s){return s==null?[]:vf(s,St(s))}function sO(s){return s==null?[]:vf(s,lr(s))}function oO(s,o,l){return l===t&&(l=o,o=t),l!==t&&(l=Nr(l),l=l===l?l:0),o!==t&&(o=Nr(o),o=o===o?o:0),es(Nr(s),o,l)}function aO(s,o,l){return o=Dn(o),l===t?(l=o,o=0):l=Dn(l),s=Nr(s),dC(s,o,l)}function cO(s,o,l){if(l&&typeof l!="boolean"&&Jt(s,o,l)&&(o=l=t),l===t&&(typeof o=="boolean"?(l=o,o=t):typeof s=="boolean"&&(l=s,s=t)),s===t&&o===t?(s=0,o=1):(s=Dn(s),o===t?(o=s,s=0):o=Dn(o)),s>o){var d=s;s=o,o=d}if(l||s%1||o%1){var g=Ev();return Mt(s+g*(o-s+j8("1e-"+((g+"").length-1))),o)}return Nf(s,o)}var lO=Xs(function(s,o,l){return o=o.toLowerCase(),s+(l?Xw(o):o)});function Xw(s){return od(Be(s).toLowerCase())}function ey(s){return s=Be(s),s&&s.replace(h8,X8).replace(P8,"")}function uO(s,o,l){s=Be(s),o=mr(o);var d=s.length;l=l===t?d:es(Ee(l),0,d);var g=l;return l-=o.length,l>=0&&s.slice(l,g)==o}function hO(s){return s=Be(s),s&&W6.test(s)?s.replace(R1,eI):s}function fO(s){return s=Be(s),s&&Z6.test(s)?s.replace(ef,"\\$&"):s}var dO=Xs(function(s,o,l){return s+(l?"-":"")+o.toLowerCase()}),pO=Xs(function(s,o,l){return s+(l?" ":"")+o.toLowerCase()}),gO=nw("toLowerCase");function mO(s,o,l){s=Be(s),o=Ee(o);var d=o?Vs(s):0;if(!o||d>=o)return s;var g=(o-d)/2;return ll(Jc(g),l)+s+ll(Yc(g),l)}function vO(s,o,l){s=Be(s),o=Ee(o);var d=o?Vs(s):0;return o&&d<o?s+ll(o-d,l):s}function wO(s,o,l){s=Be(s),o=Ee(o);var d=o?Vs(s):0;return o&&d<o?ll(o-d,l)+s:s}function yO(s,o,l){return l||o==null?o=0:o&&(o=+o),SI(Be(s).replace(tf,""),o||0)}function bO(s,o,l){return(l?Jt(s,o,l):o===t)?o=1:o=Ee(o),Lf(Be(s),o)}function _O(){var s=arguments,o=Be(s[0]);return s.length<3?o:o.replace(s[1],s[2])}var EO=Xs(function(s,o,l){return s+(l?"_":"")+o.toLowerCase()});function xO(s,o,l){return l&&typeof l!="number"&&Jt(s,o,l)&&(o=l=t),l=l===t?X:l>>>0,l?(s=Be(s),s&&(typeof o=="string"||o!=null&&!nd(o))&&(o=mr(o),!o&&Ws(s))?di(qr(s),0,l):s.split(o,l)):[]}var IO=Xs(function(s,o,l){return s+(l?" ":"")+od(o)});function CO(s,o,l){return s=Be(s),l=l==null?0:es(Ee(l),0,s.length),o=mr(o),s.slice(l,l+o.length)==o}function SO(s,o,l){var d=v.templateSettings;l&&Jt(s,o,l)&&(o=t),s=Be(s),o=_l({},o,d,uw);var g=_l({},o.imports,d.imports,uw),y=St(g),E=vf(g,y),C,O,z=0,k=o.interpolate||Lc,V="__p += '",re=yf((o.escape||Lc).source+"|"+k.source+"|"+(k===T1?s8:Lc).source+"|"+(o.evaluate||Lc).source+"|$","g"),le="//# sourceURL="+(We.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++F8+"]")+`
`;s.replace(re,function(me,Ae,Re,wr,Zt,yr){return Re||(Re=wr),V+=s.slice(z,yr).replace(f8,tI),Ae&&(C=!0,V+=`' +
__e(`+Ae+`) +
'`),Zt&&(O=!0,V+=`';
`+Zt+`;
__p += '`),Re&&(V+=`' +
((__t = (`+Re+`)) == null ? '' : __t) +
'`),z=yr+me.length,me}),V+=`';
`;var ge=We.call(o,"variable")&&o.variable;if(!ge)V=`with (obj) {
`+V+`
}
`;else if(n8.test(ge))throw new we(u);V=(O?V.replace(q6,""):V).replace(z6,"$1").replace(k6,"$1;"),V="function("+(ge||"obj")+`) {
`+(ge?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(C?", __e = _.escape":"")+(O?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+V+`return __p
}`;var Ie=ry(function(){return Me(y,le+"return "+V).apply(t,E)});if(Ie.source=V,rd(Ie))throw Ie;return Ie}function DO(s){return Be(s).toLowerCase()}function AO(s){return Be(s).toUpperCase()}function OO(s,o,l){if(s=Be(s),s&&(l||o===t))return hv(s);if(!s||!(o=mr(o)))return s;var d=qr(s),g=qr(o),y=fv(d,g),E=dv(d,g)+1;return di(d,y,E).join("")}function PO(s,o,l){if(s=Be(s),s&&(l||o===t))return s.slice(0,gv(s)+1);if(!s||!(o=mr(o)))return s;var d=qr(s),g=dv(d,qr(o))+1;return di(d,0,g).join("")}function RO(s,o,l){if(s=Be(s),s&&(l||o===t))return s.replace(tf,"");if(!s||!(o=mr(o)))return s;var d=qr(s),g=fv(d,qr(o));return di(d,g).join("")}function TO(s,o){var l=Y,d=x;if(at(o)){var g="separator"in o?o.separator:g;l="length"in o?Ee(o.length):l,d="omission"in o?mr(o.omission):d}s=Be(s);var y=s.length;if(Ws(s)){var E=qr(s);y=E.length}if(l>=y)return s;var C=l-Vs(d);if(C<1)return d;var O=E?di(E,0,C).join(""):s.slice(0,C);if(g===t)return O+d;if(E&&(C+=O.length-C),nd(g)){if(s.slice(C).search(g)){var z,k=O;for(g.global||(g=yf(g.source,Be(N1.exec(g))+"g")),g.lastIndex=0;z=g.exec(k);)var V=z.index;O=O.slice(0,V===t?C:V)}}else if(s.indexOf(mr(g),C)!=C){var re=O.lastIndexOf(g);re>-1&&(O=O.slice(0,re))}return O+d}function NO(s){return s=Be(s),s&&H6.test(s)?s.replace(P1,cI):s}var LO=Xs(function(s,o,l){return s+(l?" ":"")+o.toUpperCase()}),od=nw("toUpperCase");function ty(s,o,l){return s=Be(s),o=l?t:o,o===t?nI(s)?hI(s):G8(s):s.match(o)||[]}var ry=Se(function(s,o){try{return pr(s,t,o)}catch(l){return rd(l)?l:new we(l)}}),FO=In(function(s,o){return Dr(o,function(l){l=Zr(l),En(s,l,ed(s[l],s))}),s});function $O(s){var o=s==null?0:s.length,l=pe();return s=o?nt(s,function(d){if(typeof d[1]!="function")throw new Ar(c);return[l(d[0]),d[1]]}):[],Se(function(d){for(var g=-1;++g<o;){var y=s[g];if(pr(y[0],this,d))return pr(y[1],this,d)}})}function UO(s){return cC(Pr(s,m))}function ad(s){return function(){return s}}function MO(s,o){return s==null||s!==s?o:s}var BO=sw(),jO=sw(!0);function ur(s){return s}function cd(s){return Fv(typeof s=="function"?s:Pr(s,m))}function qO(s){return Uv(Pr(s,m))}function zO(s,o){return Mv(s,Pr(o,m))}var kO=Se(function(s,o){return function(l){return ia(l,s,o)}}),HO=Se(function(s,o){return function(l){return ia(s,l,o)}});function ld(s,o,l){var d=St(o),g=rl(o,d);l==null&&!(at(o)&&(g.length||!d.length))&&(l=o,o=s,s=this,g=rl(o,St(o)));var y=!(at(l)&&"chain"in l)||!!l.chain,E=Sn(s);return Dr(g,function(C){var O=o[C];s[C]=O,E&&(s.prototype[C]=function(){var z=this.__chain__;if(y||z){var k=s(this.__wrapped__),V=k.__actions__=ar(this.__actions__);return V.push({func:O,args:arguments,thisArg:s}),k.__chain__=z,k}return O.apply(s,ai([this.value()],arguments))})}),s}function WO(){return Pt._===this&&(Pt._=vI),this}function ud(){}function VO(s){return s=Ee(s),Se(function(o){return Bv(o,s)})}var KO=qf(nt),GO=qf(ov),YO=qf(ff);function ny(s){return Gf(s)?df(Zr(s)):CC(s)}function JO(s){return function(o){return s==null?t:ts(s,o)}}var ZO=aw(),QO=aw(!0);function hd(){return[]}function fd(){return!1}function XO(){return{}}function e7(){return""}function t7(){return!0}function r7(s,o){if(s=Ee(s),s<1||s>K)return[];var l=X,d=Mt(s,X);o=pe(o),s-=X;for(var g=mf(d,o);++l<s;)o(l);return g}function n7(s){return be(s)?nt(s,Zr):vr(s)?[s]:ar(xw(Be(s)))}function i7(s){var o=++gI;return Be(s)+o}var s7=cl(function(s,o){return s+o},0),o7=zf("ceil"),a7=cl(function(s,o){return s/o},1),c7=zf("floor");function l7(s){return s&&s.length?tl(s,ur,Df):t}function u7(s,o){return s&&s.length?tl(s,pe(o,2),Df):t}function h7(s){return lv(s,ur)}function f7(s,o){return lv(s,pe(o,2))}function d7(s){return s&&s.length?tl(s,ur,Rf):t}function p7(s,o){return s&&s.length?tl(s,pe(o,2),Rf):t}var g7=cl(function(s,o){return s*o},1),m7=zf("round"),v7=cl(function(s,o){return s-o},0);function w7(s){return s&&s.length?gf(s,ur):0}function y7(s,o){return s&&s.length?gf(s,pe(o,2)):0}return v.after=qD,v.ary=Lw,v.assign=AA,v.assignIn=Gw,v.assignInWith=_l,v.assignWith=OA,v.at=PA,v.before=Fw,v.bind=ed,v.bindAll=FO,v.bindKey=$w,v.castArray=XD,v.chain=Rw,v.chunk=cS,v.compact=lS,v.concat=uS,v.cond=$O,v.conforms=UO,v.constant=ad,v.countBy=wD,v.create=RA,v.curry=Uw,v.curryRight=Mw,v.debounce=Bw,v.defaults=TA,v.defaultsDeep=NA,v.defer=zD,v.delay=kD,v.difference=hS,v.differenceBy=fS,v.differenceWith=dS,v.drop=pS,v.dropRight=gS,v.dropRightWhile=mS,v.dropWhile=vS,v.fill=wS,v.filter=bD,v.flatMap=xD,v.flatMapDeep=ID,v.flatMapDepth=CD,v.flatten=Dw,v.flattenDeep=yS,v.flattenDepth=bS,v.flip=HD,v.flow=BO,v.flowRight=jO,v.fromPairs=_S,v.functions=jA,v.functionsIn=qA,v.groupBy=SD,v.initial=xS,v.intersection=IS,v.intersectionBy=CS,v.intersectionWith=SS,v.invert=kA,v.invertBy=HA,v.invokeMap=AD,v.iteratee=cd,v.keyBy=OD,v.keys=St,v.keysIn=lr,v.map=gl,v.mapKeys=VA,v.mapValues=KA,v.matches=qO,v.matchesProperty=zO,v.memoize=vl,v.merge=GA,v.mergeWith=Yw,v.method=kO,v.methodOf=HO,v.mixin=ld,v.negate=wl,v.nthArg=VO,v.omit=YA,v.omitBy=JA,v.once=WD,v.orderBy=PD,v.over=KO,v.overArgs=VD,v.overEvery=GO,v.overSome=YO,v.partial=td,v.partialRight=jw,v.partition=RD,v.pick=ZA,v.pickBy=Jw,v.property=ny,v.propertyOf=JO,v.pull=PS,v.pullAll=Ow,v.pullAllBy=RS,v.pullAllWith=TS,v.pullAt=NS,v.range=ZO,v.rangeRight=QO,v.rearg=KD,v.reject=LD,v.remove=LS,v.rest=GD,v.reverse=Qf,v.sampleSize=$D,v.set=XA,v.setWith=eO,v.shuffle=UD,v.slice=FS,v.sortBy=jD,v.sortedUniq=zS,v.sortedUniqBy=kS,v.split=xO,v.spread=YD,v.tail=HS,v.take=WS,v.takeRight=VS,v.takeRightWhile=KS,v.takeWhile=GS,v.tap=lD,v.throttle=JD,v.thru=pl,v.toArray=Ww,v.toPairs=Zw,v.toPairsIn=Qw,v.toPath=n7,v.toPlainObject=Kw,v.transform=tO,v.unary=ZD,v.union=YS,v.unionBy=JS,v.unionWith=ZS,v.uniq=QS,v.uniqBy=XS,v.uniqWith=eD,v.unset=rO,v.unzip=Xf,v.unzipWith=Pw,v.update=nO,v.updateWith=iO,v.values=ro,v.valuesIn=sO,v.without=tD,v.words=ty,v.wrap=QD,v.xor=rD,v.xorBy=nD,v.xorWith=iD,v.zip=sD,v.zipObject=oD,v.zipObjectDeep=aD,v.zipWith=cD,v.entries=Zw,v.entriesIn=Qw,v.extend=Gw,v.extendWith=_l,ld(v,v),v.add=s7,v.attempt=ry,v.camelCase=lO,v.capitalize=Xw,v.ceil=o7,v.clamp=oO,v.clone=eA,v.cloneDeep=rA,v.cloneDeepWith=nA,v.cloneWith=tA,v.conformsTo=iA,v.deburr=ey,v.defaultTo=MO,v.divide=a7,v.endsWith=uO,v.eq=kr,v.escape=hO,v.escapeRegExp=fO,v.every=yD,v.find=_D,v.findIndex=Cw,v.findKey=LA,v.findLast=ED,v.findLastIndex=Sw,v.findLastKey=FA,v.floor=c7,v.forEach=Tw,v.forEachRight=Nw,v.forIn=$A,v.forInRight=UA,v.forOwn=MA,v.forOwnRight=BA,v.get=id,v.gt=sA,v.gte=oA,v.has=zA,v.hasIn=sd,v.head=Aw,v.identity=ur,v.includes=DD,v.indexOf=ES,v.inRange=aO,v.invoke=WA,v.isArguments=is,v.isArray=be,v.isArrayBuffer=aA,v.isArrayLike=cr,v.isArrayLikeObject=pt,v.isBoolean=cA,v.isBuffer=pi,v.isDate=lA,v.isElement=uA,v.isEmpty=hA,v.isEqual=fA,v.isEqualWith=dA,v.isError=rd,v.isFinite=pA,v.isFunction=Sn,v.isInteger=qw,v.isLength=yl,v.isMap=zw,v.isMatch=gA,v.isMatchWith=mA,v.isNaN=vA,v.isNative=wA,v.isNil=bA,v.isNull=yA,v.isNumber=kw,v.isObject=at,v.isObjectLike=ht,v.isPlainObject=ua,v.isRegExp=nd,v.isSafeInteger=_A,v.isSet=Hw,v.isString=bl,v.isSymbol=vr,v.isTypedArray=to,v.isUndefined=EA,v.isWeakMap=xA,v.isWeakSet=IA,v.join=DS,v.kebabCase=dO,v.last=Tr,v.lastIndexOf=AS,v.lowerCase=pO,v.lowerFirst=gO,v.lt=CA,v.lte=SA,v.max=l7,v.maxBy=u7,v.mean=h7,v.meanBy=f7,v.min=d7,v.minBy=p7,v.stubArray=hd,v.stubFalse=fd,v.stubObject=XO,v.stubString=e7,v.stubTrue=t7,v.multiply=g7,v.nth=OS,v.noConflict=WO,v.noop=ud,v.now=ml,v.pad=mO,v.padEnd=vO,v.padStart=wO,v.parseInt=yO,v.random=cO,v.reduce=TD,v.reduceRight=ND,v.repeat=bO,v.replace=_O,v.result=QA,v.round=m7,v.runInContext=D,v.sample=FD,v.size=MD,v.snakeCase=EO,v.some=BD,v.sortedIndex=$S,v.sortedIndexBy=US,v.sortedIndexOf=MS,v.sortedLastIndex=BS,v.sortedLastIndexBy=jS,v.sortedLastIndexOf=qS,v.startCase=IO,v.startsWith=CO,v.subtract=v7,v.sum=w7,v.sumBy=y7,v.template=SO,v.times=r7,v.toFinite=Dn,v.toInteger=Ee,v.toLength=Vw,v.toLower=DO,v.toNumber=Nr,v.toSafeInteger=DA,v.toString=Be,v.toUpper=AO,v.trim=OO,v.trimEnd=PO,v.trimStart=RO,v.truncate=TO,v.unescape=NO,v.uniqueId=i7,v.upperCase=LO,v.upperFirst=od,v.each=Tw,v.eachRight=Nw,v.first=Aw,ld(v,function(){var s={};return Yr(v,function(o,l){We.call(v.prototype,l)||(s[l]=o)}),s}(),{chain:!1}),v.VERSION=n,Dr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){v[s].placeholder=v}),Dr(["drop","take"],function(s,o){Oe.prototype[s]=function(l){l=l===t?1:Et(Ee(l),0);var d=this.__filtered__&&!o?new Oe(this):this.clone();return d.__filtered__?d.__takeCount__=Mt(l,d.__takeCount__):d.__views__.push({size:Mt(l,X),type:s+(d.__dir__<0?"Right":"")}),d},Oe.prototype[s+"Right"]=function(l){return this.reverse()[s](l).reverse()}}),Dr(["filter","map","takeWhile"],function(s,o){var l=o+1,d=l==ie||l==R;Oe.prototype[s]=function(g){var y=this.clone();return y.__iteratees__.push({iteratee:pe(g,3),type:l}),y.__filtered__=y.__filtered__||d,y}}),Dr(["head","last"],function(s,o){var l="take"+(o?"Right":"");Oe.prototype[s]=function(){return this[l](1).value()[0]}}),Dr(["initial","tail"],function(s,o){var l="drop"+(o?"":"Right");Oe.prototype[s]=function(){return this.__filtered__?new Oe(this):this[l](1)}}),Oe.prototype.compact=function(){return this.filter(ur)},Oe.prototype.find=function(s){return this.filter(s).head()},Oe.prototype.findLast=function(s){return this.reverse().find(s)},Oe.prototype.invokeMap=Se(function(s,o){return typeof s=="function"?new Oe(this):this.map(function(l){return ia(l,s,o)})}),Oe.prototype.reject=function(s){return this.filter(wl(pe(s)))},Oe.prototype.slice=function(s,o){s=Ee(s);var l=this;return l.__filtered__&&(s>0||o<0)?new Oe(l):(s<0?l=l.takeRight(-s):s&&(l=l.drop(s)),o!==t&&(o=Ee(o),l=o<0?l.dropRight(-o):l.take(o-s)),l)},Oe.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},Oe.prototype.toArray=function(){return this.take(X)},Yr(Oe.prototype,function(s,o){var l=/^(?:filter|find|map|reject)|While$/.test(o),d=/^(?:head|last)$/.test(o),g=v[d?"take"+(o=="last"?"Right":""):o],y=d||/^find/.test(o);g&&(v.prototype[o]=function(){var E=this.__wrapped__,C=d?[1]:arguments,O=E instanceof Oe,z=C[0],k=O||be(E),V=function(Ae){var Re=g.apply(v,ai([Ae],C));return d&&re?Re[0]:Re};k&&l&&typeof z=="function"&&z.length!=1&&(O=k=!1);var re=this.__chain__,le=!!this.__actions__.length,ge=y&&!re,Ie=O&&!le;if(!y&&k){E=Ie?E:new Oe(this);var me=s.apply(E,C);return me.__actions__.push({func:pl,args:[V],thisArg:t}),new Or(me,re)}return ge&&Ie?s.apply(this,C):(me=this.thru(V),ge?d?me.value()[0]:me.value():me)})}),Dr(["pop","push","shift","sort","splice","unshift"],function(s){var o=jc[s],l=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",d=/^(?:pop|shift)$/.test(s);v.prototype[s]=function(){var g=arguments;if(d&&!this.__chain__){var y=this.value();return o.apply(be(y)?y:[],g)}return this[l](function(E){return o.apply(be(E)?E:[],g)})}}),Yr(Oe.prototype,function(s,o){var l=v[o];if(l){var d=l.name+"";We.call(Js,d)||(Js[d]=[]),Js[d].push({name:o,func:l})}}),Js[al(t,A).name]=[{name:"wrapper",func:t}],Oe.prototype.clone=NI,Oe.prototype.reverse=LI,Oe.prototype.value=FI,v.prototype.at=uD,v.prototype.chain=hD,v.prototype.commit=fD,v.prototype.next=dD,v.prototype.plant=gD,v.prototype.reverse=mD,v.prototype.toJSON=v.prototype.valueOf=v.prototype.value=vD,v.prototype.first=v.prototype.head,Zo&&(v.prototype[Zo]=pD),v},Ks=fI();Ji?((Ji.exports=Ks)._=Ks,cf._=Ks):Pt._=Ks}).call(Ja)})(Cg,Cg.exports);var qj=Object.defineProperty,zj=Object.defineProperties,kj=Object.getOwnPropertyDescriptors,y5=Object.getOwnPropertySymbols,Hj=Object.prototype.hasOwnProperty,Wj=Object.prototype.propertyIsEnumerable,b5=(r,e,t)=>e in r?qj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ah=(r,e)=>{for(var t in e||(e={}))Hj.call(e,t)&&b5(r,t,e[t]);if(y5)for(var t of y5(e))Wj.call(e,t)&&b5(r,t,e[t]);return r},Vj=(r,e)=>zj(r,kj(e));function Ti(r,e,t){var n;let i=h2(r);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${jj}?chainId=${i.namespace}:${i.reference}&projectId=${t}`}function Cs(r){return r.includes(":")?r.split(":")[1]:r}function S5(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Kj(r,e){let t=Object.keys(e.namespaces).filter(i=>i.includes(r));if(!t.length)return[];let n=[];return t.forEach(i=>{let a=e.namespaces[i].accounts;n.push(...a)}),n}function _5(r={},e={}){let t=E5(r),n=E5(e);return Cg.exports.merge(t,n)}function E5(r){var e,t,n,i;let a={};if(!fs(r))return a;for(let[c,u]of Object.entries(r)){let h=su(c)?[c]:u.chains,f=u.methods||[],p=u.events||[],m=u.rpcMap||{},w=yo(c);a[w]=Vj(ah(ah({},a[w]),u),{chains:nu(h,(e=a[w])==null?void 0:e.chains),methods:nu(f,(t=a[w])==null?void 0:t.methods),events:nu(p,(n=a[w])==null?void 0:n.events),rpcMap:ah(ah({},m),(i=a[w])==null?void 0:i.rpcMap)})}return a}function Gj(r){return r.includes(":")?r.split(":")[2]:r}function Yj(r){let e={};for(let[t,n]of Object.entries(r)){let i=n.methods||[],a=n.events||[],c=n.accounts||[],u=su(t)?[t]:n.chains?n.chains:S5(n.accounts);e[t]={chains:u,methods:i,events:a,accounts:c}}return e}function Eg(r){return typeof r=="number"?r:r.includes("0x")?parseInt(r,16):(r=r.includes(":")?r.split(":")[1]:r,isNaN(Number(r))?r:Number(r))}var D5={},it=r=>D5[r],xg=(r,e)=>{D5[r]=e},Sg=class{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=it("events"),this.client=it("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Wn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){let e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var n;let i=Cs(t);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t||Ti(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Gr(new $r(n,it("disableProviderPing")))}},Dg=class{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=it("events"),this.client=it("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(Wn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){let n=t||Ti(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Gr(new $r(n,it("disableProviderPing")))}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var n;let i=parseInt(Cs(t));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){let e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,n;let i=e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;let a=parseInt(i,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}},Ag=class{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=it("events"),this.client=it("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Wn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var n;let i=Cs(t);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t||Ti(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Gr(new $r(n,it("disableProviderPing")))}},Og=class{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=it("events"),this.client=it("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Wn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var n;let i=Cs(t);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t||Ti(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Gr(new $r(n,it("disableProviderPing")))}},Pg=class{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=it("events"),this.client=it("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Wn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let n=this.getCardanoRPCUrl(t),i=Cs(t);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){let t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Gr(new $r(n,it("disableProviderPing")))}},Rg=class{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=it("events"),this.client=it("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Wn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var n;let i=Cs(t);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t||Ti(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Gr(new $r(n,it("disableProviderPing")))}},Tg=class{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=it("events"),this.client=it("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Wn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var n;let i=Cs(t);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t||Ti(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Gr(new $r(n,it("disableProviderPing")))}},Ng=class{constructor(e){this.name="near",this.namespace=e.namespace,this.events=it("events"),this.client=it("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let n=t||Ti(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Wn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var n;e[t]=this.createHttpProvider(t,(n=this.namespace.rpcMap)==null?void 0:n[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t||Ti(e,this.namespace);return typeof n>"u"?void 0:new Gr(new $r(n,it("disableProviderPing")))}},Jj=Object.defineProperty,Zj=Object.defineProperties,Qj=Object.getOwnPropertyDescriptors,x5=Object.getOwnPropertySymbols,Xj=Object.prototype.hasOwnProperty,eq=Object.prototype.propertyIsEnumerable,I5=(r,e,t)=>e in r?Jj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ch=(r,e)=>{for(var t in e||(e={}))Xj.call(e,t)&&I5(r,t,e[t]);if(x5)for(var t of x5(e))eq.call(e,t)&&I5(r,t,e[t]);return r},Ig=(r,e)=>Zj(r,Qj(e)),Lg=class r{constructor(e){this.events=new C5.default,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:(0,_i.default)(ps({level:e?.logger||v5})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){let t=new r(e);return await t.initialize(),t}async request(e,t,n){let[i,a]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:ch({},e),chainId:`${i}:${a}`,topic:this.session.topic,expiry:n})}sendAsync(e,t,n,i){let a=new Date().getTime();this.request(e,n,i).then(c=>t(null,Di(a,c))).catch(c=>t(c,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Ke("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");let{uri:n,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});n&&(this.uri=n,this.events.emit("display_uri",n)),await i().then(a=>{this.session=a;let c=Yj(a.namespaces);this.namespaces=_5(this.namespaces,c),this.persist("namespaces",this.namespaces)}).catch(a=>{if(a.message!==bg)throw a;t++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;let[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,t)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");let t=this.client.pairing.getAll();if(xr(t)){for(let n of t)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){let e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await nh.init({logger:this.providerOpts.logger||v5,relayUrl:this.providerOpts.relayUrl||Uj,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(t=>yo(t)))];xg("client",this.client),xg("events",this.events),xg("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;let n=Kj(t,this.session),i=S5(n),a=_5(this.namespaces,this.optionalNamespaces),c=Ig(ch({},a[t]),{accounts:n,chains:i});switch(t){case"eip155":this.rpcProviders[t]=new Dg({namespace:c});break;case"solana":this.rpcProviders[t]=new Ag({namespace:c});break;case"cosmos":this.rpcProviders[t]=new Og({namespace:c});break;case"polkadot":this.rpcProviders[t]=new Sg({namespace:c});break;case"cip34":this.rpcProviders[t]=new Pg({namespace:c});break;case"elrond":this.rpcProviders[t]=new Rg({namespace:c});break;case"multiversx":this.rpcProviders[t]=new Tg({namespace:c});break;case"near":this.rpcProviders[t]=new Ng({namespace:c});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{let{params:t}=e,{event:n}=t;if(n.name==="accountsChanged"){let i=n.data;i&&xr(i)&&this.events.emit("accountsChanged",i.map(Gj))}else if(n.name==="chainChanged"){let i=t.chainId,a=t.event.data,c=yo(i),u=Eg(i)!==Eg(a)?`${c}:${Eg(a)}`:i;this.onChainChanged(u)}else this.events.emit(n.name,n.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var n;let{namespaces:i}=t,a=(n=this.client)==null?void 0:n.session.get(e);this.session=Ig(ch({},a),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Ig(ch({},Ke("USER_DISCONNECTED")),{data:e.topic}))}),this.on(Wn.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){let{namespaces:t,optionalNamespaces:n,sessionProperties:i}=e;t&&Object.keys(t).length&&(this.namespaces=t),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=i,this.persist("namespaces",t),this.persist("optionalNamespaces",n)}validateChain(e){let[t,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,n];if(t&&!Object.keys(this.namespaces||{}).map(c=>yo(c)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&n)return[t,n];let i=yo(Object.keys(this.namespaces)[0]),a=this.rpcProviders[i].getDefaultChain();return[i,a]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){if(!this.namespaces)return;let[n,i]=this.validateChain(e);i&&(t||this.getProvider(n).setDefaultChain(i),this.namespaces[n]?this.namespaces[n].defaultChain=i:this.namespaces[`${n}:${i}`]?this.namespaces[`${n}:${i}`].defaultChain=i:this.namespaces[`${n}:${i}`]={defaultChain:i},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",i))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${w5}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${w5}/${e}`)}},A5=Lg;var XH="wc",eW="ethereum_provider",tW=`${XH}@2:${eW}:`,rW="https://rpc.walletconnect.com/v1/",D1=["eth_sendTransaction","personal_sign"],nW=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],A1=["chainChanged","accountsChanged"],iW=["chainChanged","accountsChanged","message","disconnect","connect"],sW=Object.defineProperty,oW=Object.defineProperties,aW=Object.getOwnPropertyDescriptors,$6=Object.getOwnPropertySymbols,cW=Object.prototype.hasOwnProperty,lW=Object.prototype.propertyIsEnumerable,U6=(r,e,t)=>e in r?sW(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Oc=(r,e)=>{for(var t in e||(e={}))cW.call(e,t)&&U6(r,t,e[t]);if($6)for(var t of $6(e))lW.call(e,t)&&U6(r,t,e[t]);return r},M6=(r,e)=>oW(r,aW(e));function Wh(r){return Number(r[0].split(":")[1])}function S1(r){return`0x${r.toString(16)}`}function uW(r){let{chains:e,optionalChains:t,methods:n,optionalMethods:i,events:a,optionalEvents:c,rpcMap:u}=r;if(!xr(e))throw new Error("Invalid chains");let h={chains:e,methods:n||D1,events:a||A1,rpcMap:Oc({},e.length?{[Wh(e)]:u[Wh(e)]}:{})},f=a?.filter(_=>!A1.includes(_)),p=n?.filter(_=>!D1.includes(_));if(!t&&!c&&!i&&!(f!=null&&f.length)&&!(p!=null&&p.length))return{required:e.length?h:void 0};let m=f?.length&&p?.length||!t,w={chains:[...new Set(m?h.chains.concat(t||[]):t)],methods:[...new Set(h.methods.concat(i!=null&&i.length?i:nW))],events:[...new Set(h.events.concat(c!=null&&c.length?c:iW))],rpcMap:u};return{required:e.length?h:void 0,optional:t.length?w:void 0}}var O1=class r{constructor(){this.events=new B6.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=tW,this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){let t=new r;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,n){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),n)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);let{required:t,optional:n}=uW(this.rpc);try{let i=await new Promise(async(c,u)=>{var h;this.rpc.showQrModal&&((h=this.modal)==null||h.subscribeModal(f=>{!f.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),u(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(M6(Oc({namespaces:Oc({},t&&{[this.namespace]:t})},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:e?.pairingTopic})).then(f=>{c(f)}).catch(f=>{u(new Error(f.message))})});if(!i)return;let a=f2(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:S1(this.chainId)})}catch(i){throw this.signer.logger.error(i),i}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{let{params:t}=e,{event:n}=t;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{let t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",S1(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",M6(Oc({},Ke("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var t,n;this.rpc.showQrModal&&((t=this.modal)==null||t.closeModal(),(n=this.modal)==null||n.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){let t=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",S1(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){let t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){let[t,n,i]=e.split(":");return{chainId:`${t}:${n}`,address:i}}setAccounts(e){this.accounts=e.filter(t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId).map(t=>this.parseAccountId(t).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,n;let i=(t=e?.chains)!=null?t:[],a=(n=e?.optionalChains)!=null?n:[],c=i.concat(a);if(!c.length)throw new Error("No chains specified in either `chains` or `optionalChains`");let u=i.length?e?.methods||D1:[],h=i.length?e?.events||A1:[],f=e?.optionalMethods||[],p=e?.optionalEvents||[],m=e?.rpcMap||this.buildRpcMap(c,e.projectId),w=e?.qrModalOptions||void 0;return{chains:i?.map(_=>this.formatChainId(_)),optionalChains:a.map(_=>this.formatChainId(_)),methods:u,events:h,optionalMethods:f,optionalEvents:p,rpcMap:m,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:w,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){let n={};return e.forEach(i=>{n[i]=this.getRpcUrl(i,t)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?Wh(this.rpc.chains):Wh(this.rpc.optionalChains),this.signer=await A5.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{let{WalletConnectModal:n}=await Promise.resolve().then(()=>(F6(),L6));t=n}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(Oc({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(n){throw this.signer.logger.error(n),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;let{chains:t,optionalChains:n,rpcMap:i}=e;t&&xr(t)&&(this.rpc.chains=t.map(a=>this.formatChainId(a)),t.forEach(a=>{this.rpc.rpcMap[a]=i?.[a]||this.getRpcUrl(a)})),n&&xr(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n?.map(a=>this.formatChainId(a)),n.forEach(a=>{this.rpc.rpcMap[a]=i?.[a]||this.getRpcUrl(a)}))}getRpcUrl(e,t){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${rW}?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;let e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(t=>this.parseAccount(t))}},j6=O1;window.WalletConnectEthereumProvider=j6;})();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/custom-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/property.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/state.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/base.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/event-options.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-all.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-async.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-assigned-nodes.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/if-defined.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@walletconnect/relay-auth/dist/index.es.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@walletconnect/universal-provider/dist/index.es.js:
  (**
  * @license
  * Lodash <https://lodash.com/>
  * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
  * Released under MIT license <https://lodash.com/license>
  * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
  * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
  *)
*/
